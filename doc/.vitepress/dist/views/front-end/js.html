<!DOCTYPE html>
<html lang="Zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前言 | 熙熙的个人博客</title>
    <meta name="description" content="熙熙的个人博客">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/proerly.github.io/assets/style.BilLlUX2.css" as="style">
    <link rel="preload stylesheet" href="/proerly.github.io/vp-icons.css" as="style">
    
    <script type="module" src="/proerly.github.io/assets/app.Ck8WvdUw.js"></script>
    <link rel="preload" href="/proerly.github.io/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/proerly.github.io/assets/chunks/theme.Di-aOQs0.js">
    <link rel="modulepreload" href="/proerly.github.io/assets/chunks/framework.CZvqrtR-.js">
    <link rel="modulepreload" href="/proerly.github.io/assets/views_front-end_js.md.DAKzfBdR.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-da52a441><div class="VPNavBar" data-v-da52a441 data-v-70946a35><div class="wrapper" data-v-70946a35><div class="container" data-v-70946a35><div class="title" data-v-70946a35><div class="VPNavBarTitle" data-v-70946a35 data-v-1e38c6bc><a class="title" href="/proerly.github.io/" data-v-1e38c6bc><!--[--><!--]--><!----><span data-v-1e38c6bc>熙熙的个人博客</span><!--[--><!--]--></a></div></div><div class="content" data-v-70946a35><div class="content-body" data-v-70946a35><!--[--><!--]--><div class="VPNavBarSearch search" data-v-70946a35><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-70946a35 data-v-39714824><span id="main-nav-aria-label" class="visually-hidden" data-v-39714824> Main Navigation </span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-39714824 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-42cb505d><span class="text" data-v-42cb505d><!----><span data-v-42cb505d>前端</span><span class="vpi-chevron-down text-icon" data-v-42cb505d></span></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><div class="items" data-v-25a6cce8><!--[--><!--[--><div class="VPMenuLink" data-v-25a6cce8 data-v-faf5b206><a class="VPLink link active" href="/proerly.github.io/views/front-end/js.html" data-v-faf5b206><!--[--><span data-v-faf5b206>Js笔记</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-25a6cce8 data-v-faf5b206><a class="VPLink link" href="/proerly.github.io/views/front-end/vuex.html" data-v-faf5b206><!--[--><span data-v-faf5b206>vuex</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-25a6cce8 data-v-1963e1bb><p class="title" data-v-1963e1bb>问题记录</p><!--[--><!--[--><div class="VPMenuLink" data-v-1963e1bb data-v-faf5b206><a class="VPLink link" href="/proerly.github.io/views/front-end/html-example.html" data-v-faf5b206><!--[--><span data-v-faf5b206>html</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1963e1bb data-v-faf5b206><a class="VPLink link" href="/proerly.github.io/views/front-end/css-example.html" data-v-faf5b206><!--[--><span data-v-faf5b206>css</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1963e1bb data-v-faf5b206><a class="VPLink link" href="/proerly.github.io/views/front-end/js-example.html" data-v-faf5b206><!--[--><span data-v-faf5b206>js</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1963e1bb data-v-faf5b206><a class="VPLink link" href="/proerly.github.io/views/front-end/http-example.html" data-v-faf5b206><!--[--><span data-v-faf5b206>http</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1963e1bb data-v-faf5b206><a class="VPLink link" href="/proerly.github.io/views/front-end/vue2-example.html" data-v-faf5b206><!--[--><span data-v-faf5b206>vue2</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1963e1bb data-v-faf5b206><a class="VPLink link" href="/proerly.github.io/views/front-end/vue3-example.html" data-v-faf5b206><!--[--><span data-v-faf5b206>vue3</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-1963e1bb data-v-faf5b206><a class="VPLink link" href="/proerly.github.io/views/front-end/vite-example.html" data-v-faf5b206><!--[--><span data-v-faf5b206>vite</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/proerly.github.io/views/vite-press.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>vitePress文档</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/proerly.github.io/views/git.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>git</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-70946a35 data-v-4c1766e2 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-42cb505d><span class="text" data-v-42cb505d><span class="vpi-languages option-icon" data-v-42cb505d></span><!----><span class="vpi-chevron-down text-icon" data-v-42cb505d></span></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><div class="items" data-v-4c1766e2><p class="title" data-v-4c1766e2>中文</p><!--[--><div class="VPMenuLink" data-v-4c1766e2 data-v-faf5b206><a class="VPLink link" href="/proerly.github.io/en/views/front-end/js.html" lang="en" data-v-faf5b206><!--[--><span data-v-faf5b206>English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-70946a35 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-70946a35 data-v-0394ad82 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-70946a35 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><div class="group translations" data-v-bf2fac68><p class="trans-title" data-v-bf2fac68>中文</p><!--[--><div class="VPMenuLink" data-v-bf2fac68 data-v-faf5b206><a class="VPLink link" href="/proerly.github.io/en/views/front-end/js.html" lang="en" data-v-faf5b206><!--[--><span data-v-faf5b206>English</span><!--]--></a></div><!--]--></div><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bf2fac68><div class="item social-links" data-v-bf2fac68><div class="VPSocialLinks social-links-list" data-v-bf2fac68 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-70946a35 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-70946a35><div class="divider-line" data-v-70946a35></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _proerly_github_io_views_front-end_js" data-v-7011f0d8><div><h1 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to “前言”">​</a></h1><p>菜鸟笔记，从菜鸟慢慢变成大神的成长之路</p><h1 id="严格模式" tabindex="-1">严格模式 <a class="header-anchor" href="#严格模式" aria-label="Permalink to “严格模式”">​</a></h1><p><strong>严格模式下的作用</strong></p><p>ES5 新增的严格模式是一种不同的 JavaScript 解析和执行模型，ES3 的一些不规范写法在这种模式下会被处理，对于不安全的活动将抛出错误。</p><p><strong>使用方法</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;use strict&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>语法虽然看起来像个没有赋值给任何变量的字符串，但它其实是一个预处理指令。任何支持的 JavaScript 引擎看到它都会切换到严格模式。</p><p><strong>严格模式的作用域：</strong>全局作用域和函数作用域</p><ul><li>当在<code>*.js</code>文件开头使用，整个脚本文件启用严格模式</li><li>在函数作用域中使用，仅在函数作用域内生效</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;use strict&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //函数体</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>严格模式的总结</strong></p><ul><li>严格模式定义变量必须使用关键字<code>var</code>，<code>let</code>，<code>const</code>，否则抛出 ReferenceError</li><li>不能使用<code>eval</code>和<code>arguments</code>作为变量名</li></ul><p><strong>注意：</strong>使用严格模式会影响 javascript 的执行效果，所以在下文中，除非特别声明，默认都是不使用严格模式</p><h1 id="变量" tabindex="-1">变量 <a class="header-anchor" href="#变量" aria-label="Permalink to “变量”">​</a></h1><h2 id="标识符" tabindex="-1">标识符 <a class="header-anchor" href="#标识符" aria-label="Permalink to “标识符”">​</a></h2><p><strong>命名规则</strong></p><ul><li>第一个字符必须是<strong>字母、下划线（_）、美元符号（$）</strong>【记住标识符不能数字开头就行，命名一般是驼峰命名法，例如 <code>myHouse</code>】</li><li>剩下的其他字符可以是字母、下划线、美元符号或<strong>数字</strong></li><li>关键字和保留字不能做标识符</li></ul><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>//关键字</span></span>
<span class="line"><span>break case catch class extends const continue debugger default delete</span></span>
<span class="line"><span></span></span>
<span class="line"><span>do in typeof else export finally for function if import instanceof</span></span>
<span class="line"><span></span></span>
<span class="line"><span>new return super switch this throw try var void while With yield</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>//为ES6保留的关键字（保留字）</span></span>
<span class="line"><span>始终保留：￼enum￼</span></span>
<span class="line"><span>严格模式下保留：implements   package      public    interface    protected    static  let           private</span></span>
<span class="line"><span>模块代码中保留：await</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="变量声明" tabindex="-1">变量声明 <a class="header-anchor" href="#变量声明" aria-label="Permalink to “变量声明”">​</a></h2><p>关键字并不决定变量的类型，仅仅是规定了变量的作用域和其它一些特性。</p><p>作用域：使用不同关键词定义的变量作用域不同，在使用变量时会在自己的作用域内查找，找不到才会向上一级作用域查找（使用 let 关键字，可能会出现暂时性锁区）</p><h2 id="无关键字" tabindex="-1">无关键字 <a class="header-anchor" href="#无关键字" aria-label="Permalink to “无关键字”">​</a></h2><p><strong>声明赋值</strong></p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>a;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>作用域</strong></p><p>无关键词定义的变量，只有全局作用域，所以<code>a</code>一定会被添加到<code>window</code>对象上。这里当<code>fun1</code>函数执行后，会在全局作用域下创建变量<code>a</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>严格模式：</strong>严格模式下不允许使用这种方式，否则抛出 ReferenceError</p><h2 id="var-关键字" tabindex="-1">var 关键字 <a class="header-anchor" href="#var-关键字" aria-label="Permalink to “var 关键字”">​</a></h2><p><strong>声明赋值</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//默认值为undefined</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//声明和赋值</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  b,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//多变量同时声明赋值,c为2，b为undefined，d为2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//同一个作用域var变量可重复声明，后面值的会覆盖前面的，详细参见`其它`</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>注意：<code>var</code>声明的变量<code>a</code>，如果不赋值默认为<code>undefined</code></p><p><strong>作用域</strong></p><p>var 有全局作用域和函数作用（无块级作用域），如果定义在全局作用域上，<code>a</code>会被添加到<code>window</code>对象上</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//全局作用域</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//函数作用域</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//报错</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>定义在函数作用域内的<code>b</code>，只在函数执行时存在，函数执行完毕，就会销毁变量，所以会报错</p><p><strong>声明提升</strong></p><p>仅将<strong>变量声明</strong>提升到变量所在作用域的第一行（<strong>变量赋值</strong>不会提升）</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//undefined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>考虑变量提升，实际是</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//仅声明提升到了作用域顶部，这时候b未赋值，默认为undefined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//赋值还是在原来的位置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//undefined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>其他</strong></p><p>var 声明的变量在同一个作用域可重复声明，不会报错</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>考虑变量提升，实际是</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//使用var关键字时，JS引擎会自动移除多余的声明，</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>不同作用域可以定义重名变量，使用变量时，如果本级作用域能查找到该变量，就使用本级作用域，否则向外寻找该变量，直到找到为止，否则抛出错误<code>ReferenceError: xxx is not defined</code></p><h2 id="let-关键字" tabindex="-1">let 关键字 <a class="header-anchor" href="#let-关键字" aria-label="Permalink to “let 关键字”">​</a></h2><p><strong>声明赋值</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//默认值为undefined</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//声明和赋值</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  b,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//多变量同时声明赋值</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>与 var 不同的地方: 同一作用域下，不可重复声明，否则抛出错误<code>SyntaxError: Identifier &#39;xxx&#39; has already been declared</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//SyntaxError: Identifier &#39;e&#39; has already been declared</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>下面的使用不同关键字的同名变量仍会报错。（只有多个 var 定义的同名变量才不会把报错）</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//SyntaxError: Identifier &#39;e&#39; has already been declared</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>作用域</strong></p><p>let 有全局作用域、函数作用域、块级作用域</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//全局作用域</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//函数作用域</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//块级作用域</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>暂时性死区（temporal dead zone,TDZ）,这个名字很形象。</p><p>使用不同关键词定义的变量作用域不同，在使用变量时会在自己的作用域内查找，找不到才会向上一级作用域查找，但是如果出现下面的暂时性锁区，就会抛出错误<code>ReferenceError: Cannot access &#39;a&#39; before initialization</code></p><p>对于 let 出现暂时性锁区的发生有 3 个原因：</p><ul><li>第一个，在块级作用域中，访问了在其后面声明的 let/const 变量（let，const 都没有声明提升）</li><li>第二个，也是最为重要的，js 引擎是能感知到块级作用域内有该变量的。所以 js 引擎会在该块级作用域的顶部（下面代码中的<strong>A 区域</strong>）——使用变量之前的范围查找变量，但是却找不到。但 js 引擎又能感知到块级作用域内有该变量，所以不会再上一级作用域去继续查找该变量。【这里就能明白，暂时性死区，就是指的查找变量的位置被锁死在了上面提到的范围里了】</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //-------------</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //  A区域</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //---------------</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//使用变量a，会在上面的区域查找变量a。但是却找不到，而js引擎又感知到块级作用域内有变量a，所以不会再向上一级查找变量a，所以被锁死在这个位置了</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ReferenceError: Cannot access &#39;a&#39; before initialization</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="const-关键字" tabindex="-1">const 关键字 <a class="header-anchor" href="#const-关键字" aria-label="Permalink to “const 关键字”">​</a></h2><p>基本与 let 相同，唯一区别是 const 是常量，初始化时必须赋值，且不能修改。更严谨的说法是，const 类型的变量，初始化后的变量指向的内存地址不可以改变</p><ul><li>声明 const 变量未赋值</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//SyntaxError: Missing initializer in const declaration</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>修改 const 变量初始值</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//报错赋值给常量，Uncaught TypeError: Assignment to constant variable.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>但是！！！当 const 的是对象时，const 变量指向对象的内存地址，不可修改，但是对象的内容可以修改，因为对象的内容更改，不会引起内存位置变化</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stu.age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stu); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出{name: &quot;张三&quot;, age: 20}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>如何锁定 const 指向对象时，对象不许改变</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">freeze</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stu); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//锁定对象</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stu.age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stu); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//不报错，但是修改失效，输出{name: &quot;张三&quot;, age: 18}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h1 id="变量类型" tabindex="-1">变量类型 <a class="header-anchor" href="#变量类型" aria-label="Permalink to “变量类型”">​</a></h1><h2 id="两种变量类型" tabindex="-1">两种变量类型 <a class="header-anchor" href="#两种变量类型" aria-label="Permalink to “两种变量类型”">​</a></h2><p>每种对象的详细信息可查询<a target="_blank" href="https://www.runoob.com/jsref/obj-storage.html">菜鸟教程 - JS 对象参考手册</a></p><p><strong>ECMAScript 有两大数据类型</strong></p><ul><li><p>基本类型（也称为原始类型）: <code>undefined</code>、<code>null</code>、<code>boolean</code>、<code>number</code>、<code>string</code>和<code>symbol</code></p></li><li><p>引用类型：</p><ul><li><p><code>Object</code>、<code>Array</code>、<code>Function</code>、<code>Set</code>、<code>Map</code>【<code>object</code>是所有引用类型的基类】</p></li><li><p>包装类型</p><p>Boolean、Number、String 。这几种包装类型我们一般不是使用，而是使用字面量创建值，当对应的基本类型的字面量，使用<code>.</code>方法调用相关属性和方法时，就在背后自动创建</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//5</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//本质：包装类String(&quot;hello&quot;)，创建了string对象</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>内置的工具类型</p><p>Data（时间相关）、Math（数学计算相关）、RegExp（正则相关）</p></li><li><p>Bom 对象（浏览器）</p><p>Window 对象、Navigator 对象、Screen 对象、History 对象、Location 对象、存储对象【由 sessionStorage 对象 和 localStorage 对象组成】</p></li><li><p>Dom 对象（网页文档）</p></li><li><p>Html 对象</p></li></ul></li></ul><p><strong>两大数据类型的区别:</strong></p><ul><li><p>基本类型</p><ul><li><p>占用空间固定，保存在<strong>栈中</strong>（当一个方法执行时，这个方法就会建立自己的内存栈，在这个方法内定义的变量将会逐个放入这块栈内存里，随着方法的执行结束，这个方法的内存栈也将会销毁）</p></li><li><p>变量保存的是值本身</p></li></ul></li><li><p>引用类型：</p><ul><li><p>占用空间不固定，保存在堆中（因为对象的创建成本通常较大，所以当程序中创建的对象将被保存到堆内存，以便反复利用。堆内存中的对象不会随方法的结束而销毁，即使方法结束后，这个对象还可能被另一个引用变量所引用，只有当一个对象没有任何引用变量引用它时，系统-的垃圾回收机制才会在核实的时候回收它。）</p></li><li><p>变量保存的是指向对象的一个指针</p></li></ul></li></ul><p>1、基本类型的属性和方法</p><h2 id="变量类型的确定" tabindex="-1">变量类型的确定 <a class="header-anchor" href="#变量类型的确定" aria-label="Permalink to “变量类型的确定”">​</a></h2><p>因为 JS 中没有类型检查，所以经常接收到某个变量时，需要判断变量类型时，如果变量是预期的类型才进行操作，常用 if 来进行流程控制</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //a如果是数字，才执行操作（逻辑一般写在这里）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //不是数字，就另一种处理方式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>基本类型</strong></p><p>基本类型中，只有 null 类型检测不出来，无法区分<code>null</code>和<code>object</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//object ,所以使用typeof是判断不出来null的</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>但是，null 类型，只有一个值 null，我们可以直接使用 <code>===</code> 来判断</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//undefined同理（推荐使用===,而不是typeof）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>其他基本类型都可以用<code>typeof</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//undefined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;undefined&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//布尔值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;boolean&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//--------NaN属于number类型---------</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 数值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//-----------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hehehe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 字符串</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;symbol&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>引用类型</strong></p><p>引用类型本质都是 object 类，其中只有 function 能用<code>typeof</code>检测出来</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> h </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;function&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>数组使用<code>instanceof</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//object</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如何判断除去数组和函数的其他对象呢？</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>因为null、array的typeof返回值都是object,所以没法用typeof的值是否为&quot;object&quot;区分</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;object&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>令人迷惑的一点是，<code>typeof</code>用未声明变量，不仅不会报错，还能返回 undefined。</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(j); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ReferenceError: a is not defined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> j); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//undefined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h1 id="基本变量类型" tabindex="-1">基本变量类型 <a class="header-anchor" href="#基本变量类型" aria-label="Permalink to “基本变量类型”">​</a></h1><h2 id="undefined-类型" tabindex="-1">undefined 类型 <a class="header-anchor" href="#undefined-类型" aria-label="Permalink to “undefined 类型”">​</a></h2><p><code>undefined</code>类型只有一个值，就是<code>undefined</code>。强调下，<code>undefined</code>是一个值，而不是报错，报错是<code>Error</code>对象</p><p><strong>字面量赋值</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>其他情况下产生的 undefined</strong></p><ul><li>声明但未赋值的变量的默认值为<code>undefined</code>, 注意区分下，打印声明但未赋值的变量值为<code>undefined</code>，打印未定义变量则会报错</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//undefined</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ReferenceError: b is not defined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>数组。令人迷惑的是，在其他语言中访问不存在的数组索引，必然报数组越界的错误，而 <code>js</code> 不会报错，而是返回值<code>undefined</code></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//undefined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>对象，这个也十分令人迷惑</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stu.name); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//undefined</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stu.name.firstName); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//TypeError: Cannot read properties of undefined (reading &#39;firstName&#39;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>null 类型</strong></p><p><code>null</code>类型只有一个值，就是<code>null</code>。</p><p><strong>补充：</strong></p><p><code>null</code> 可以理解为一个空值，其他文章中常常将 <code>null</code> 理解为空对象，这是错误的</p><p>但是使用 typeof 判断其类型，返回值是<code>object</code>，是一个历史悠久的 bug，在 js 的最初版本中使用的是 32 位系统，为了性能考虑使用低位存储变量的类型信息，000 开头代表是对象，然而 null 表示为全零，所以将它错误的判断为 <code>object</code>。虽然现在的<a target="_blank" href="https://so.csdn.net/so/search?q=%E5%86%85%E9%83%A8%E7%B1%BB&amp;spm=1001.2101.3001.7020"></a>判断代码已经改变了，但这个 Bug 却是一直流传下来。</p><p>我们在声明一个对象时，一般将该对象使用初始化为<code>null</code></p><p><strong>字面量赋值</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>其他</strong></p><p>由于<code>undefined</code>值是由<code>null</code>值派生而来的，因此 ECMA-262 将它们定义为表面上相等:</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>所以，推荐一定要使用<code>===</code>和<code>!==</code>，因为<code>==</code>和<code>!=</code>会将等号两边做一个隐式转换，全部转换为数字，再进行比较</p><h2 id="boolean-类型" tabindex="-1">boolean 类型 <a class="header-anchor" href="#boolean-类型" aria-label="Permalink to “boolean 类型”">​</a></h2><p><code>boolean</code>类型包含两个值：true，false</p><p><strong>字面量赋值</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>构造函数创建</strong></p><p>使用 Boolean 包装类创建的是一个对象，所以 typeof 是 object ，我们通常不使用这种方式</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//object</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>类型包含的值</strong></p><p><code>boolean</code>类型包含两个值：true，false，可以直接判断</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>不能用以下的方式，因为对变量判断真假时，会将变量隐式转换为对应的布尔值。非布尔值，也会被判断为真或者假</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (a) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这份表格是不同类型变量转化为布尔值的对应关系</p><img src="/proerly.github.io/image-20220123003108421%20.png" alt=""><p>总结下：以下 6 个值转化为布尔值，均是 false。其他均是 true，尤其注意[]和{}都是 true</p><ul><li><p><code>Number</code>类型中的<code>0</code>，<code>NaN</code>，</p></li><li><p><code>String</code>类型中的<code>&quot;&quot;</code>，</p></li><li><p><code>Null</code>类型中的<code>null</code>，</p></li><li><p><code>undefined</code>类型中的 <code>undefined</code>，</p></li><li><p><code>Boolean</code>类型中的 <code>false</code>。</p></li></ul><h2 id="number-类型" tabindex="-1">number 类型 <a class="header-anchor" href="#number-类型" aria-label="Permalink to “number 类型”">​</a></h2><p><code>number</code>类型包含<code>NaN</code>、<code>0</code> 和其他数字</p><p><strong>字面量赋值</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Number 包装类创建</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//object</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>存储</strong></p><p>由于存储浮点数需要占用较大的空间，所以 js 尽可能将浮点数存储为整数</p><p>当数字很大或很小时，会转化为科学记数法存储</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 当成1处理</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 当成10处理</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Infinity/-Infinity</strong></p><p>当数字超过浏览器限制的最大/最小值后，数字就会变成 <code>Infinity</code>￼/-<code>Infinity</code>￼</p><p>比如：除数和被除数都是 0</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Infinity￼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// -Infinity￼</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>无穷是数字，所以是可以继续运算的，只不过结果也一定是无穷</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Infinity￼</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>可通过<code>Number.MAX_VALUE</code>和<code>Number.MIN_VALUE</code>获取浏览器的数字的最大和最小值</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Number.MAX_VALUE);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Number.MIN_VALUE);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>通过<code>isFinite()</code>判断运算的结果是否超过最大和最小值，返回值为布尔值，正常范围的数字返回<code>true</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isFinite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.31</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isFinite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Infinity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isFinite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Infinity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isFinite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>NaN</strong></p><p><code>NaN</code>表示返回数字的操作失败了（一般语言会报错，而 js 不会报错）</p><p>哪些操作会导致产生<code>NaN</code>呢？</p><ul><li>除数和被除数都是 0</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// NaN￼</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>数字计算式中，某一步出现了<code>NaN</code>，所有的运算的结果都是<code>NaN</code></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//NaN</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>内置函数返回</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//NaN</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>NaN</code>不等于包括 NaN 在内的任何值，无论是使用<code>==</code>还是<code>===</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NaN</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong><em>isNaN()</em></strong></p><p>判断变量是否是 NaN</p><p>这个函数会使用<code>Number()</code>把参数转变为数值，其中转化为 NaN 的返回 true</p><p>因为<code>Number()</code>的缺陷，所以可以参照表格中第二列，查看哪些类型的参数会被错误的认定为数字(即，返回 false)</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false 1, false 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([]), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true NaN</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false 3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>Number()</strong></p><p>转化结果参照<code>变量转化为数字</code>表</p><p><code>Number</code>的缺陷是，<code>Number</code>会将各种的变量类型转化为数字，十分可能造成运算结果的错误。比如，将<code>true</code>转化为 1，将<code>&quot;&quot;</code>转化为 0 等</p><p><strong>parseInt()</strong></p><p>参数不是字符串时，使用<code>Number()</code>转化为数字后，再取整数部分。</p><p>当参数是字符串时，不是<code>Number()</code>转化的，而是直接按照从左到右的顺序一位一位的转换为数字</p><ul><li>如果遇到空格或 0，直接忽略</li><li>直到遇到负号或第一非 0 数字，才开始转化</li><li>直到遇到非数字的字符或到了字符串结尾，才停止转化，然后返回转化结果</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//情况一：从左到右遇到非数字结束</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;11a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//11</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;12.3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//12</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注意：以下两种情况的例子</p><p>当参数是空字符串时</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//返回0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//NaN</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当参数是空数组</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([])); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//NaN</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>parseInt</code>的缺陷大部分与<code>Number</code>相同，会将各种的变量类型转化为数字，造成计算的错误。 再加一点是会错误的把例如<code>11a</code>这种字符串转化为数字<code>11</code>，如果运算中出现了<code>11a</code>，js 仍然不会报错，而是当成<code>11</code>继续去计算，而<code>Number</code>不会有这种问题</p><p><strong>parseFloat()</strong></p><p>基本与<code>parseInt</code>相同，只是从左到右转化字符串时，遇到第一个<code>.</code>不会结束，还会继续向右转化数字</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//情况一：从左到右遇到非数字结束</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseFloat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;11a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//11</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseFloat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;12.3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//12.3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseFloat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;12.3.4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//12.3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//情况二：Number(&#39;&#39;)返回0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//NaN</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>总结</strong></p><p>最佳实践：有时候使用后端返回的字段进行计算数据时，万一出现了非数字部分，很容易出现错误。</p><p>这里使用<code>Number</code>转化，因为<code>parseInt(&#39;123a&#39;)</code>的结果是<code>123</code>，这回使的计算式按照错误的值去计算；但是<code>Number(&quot;&quot;)</code>会转化为<code>0</code>,这是错误的，需要排除 <code>&quot;&quot;</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//通过外部传入，可能是各种类型</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(typof str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)){</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //如果运算的结果是正常的数字，就会执行到这里</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//使用这个更好，甚至数字超出最大值/最小值都能规避掉</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(typof str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isFinite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)){</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>toFixed</strong></p><p>将数字转换为字符串，并保留指定位数的小数位</p><p>toFixed 的保留方式不是四舍五入，而是<code>银行家舍入规则</code></p><ul><li>四舍</li><li>六入</li><li>五考虑 : <ul><li>五后非零就进一</li><li>五后为零看奇偶，五前为偶应舍去，五前为奇要进一</li></ul></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.426</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toFixed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//&#39;5.43&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>如何实现四舍五入</strong></p><p>Math 的 round 是遵循四舍五入的，但是这能保留整数，所以需要做处理</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> myRound</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //将num保留n位</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> multiple </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, n);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">round</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> multiple) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> multiple;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="string-类型" tabindex="-1">string 类型 <a class="header-anchor" href="#string-类型" aria-label="Permalink to “string 类型”">​</a></h2><p><code>String</code>类型包含<code>&quot;&quot;</code>、其他字符串</p><p><strong>字面量赋值</strong></p><p>ES 标准中对于字符串使用不同引号是没有区别的</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `hello`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用<code>String()</code>包装类型</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//object</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ES 标准中的字符串是不可变的，一旦创建，它们的值就不能变了。要修改某个变量的字符串值，必须先销毁原始的字符串，然后将包含新值的另一个字符串保存到该变量</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; world&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//原来的hello会被销毁，从新分配内存空间给 hello world</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>str.length</strong></p><p>字符串字节个数，一个汉字/字母/数字/空格算一个字符</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hello world&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//11</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>str.toString()</strong></p><p>将变量<code>str</code>转化为 ￼ 字符串，除了<code>undefined</code>和<code>null</code>以外，将其他类型原模原样的转过去</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//hello</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1,2,3   就是直接数组元素组成的字符串</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[object Object]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>这个方法有缺陷，当变量是<code>undefined</code>和<code>null</code>没有<code>toString()</code>方法，会抛出错误，所以如果不确定变量的值，更推荐使用<code>String()</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(null.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//TypeError: Cannot read properties of null (reading &#39;toString&#39;)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(undefined.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//TypeError: Cannot read properties of undefined (reading &#39;toString&#39;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>String()</strong></p><p>解决<code>toString()</code>的缺陷，除了这两个以外，其他的类型都有<code>toString()</code>方法，所以其他的类型会调用<code>toString()</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//undefined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//null</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>模版字面量</strong></p><ul><li>可以直接把<strong>变量</strong>或<strong>表达式</strong>放入${ }中，不必拼接字符串</li><li>可以折行，不必写在一行上，但是字符串显示也相应换行</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> title </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;标题&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> content </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;内容&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//过去的写法，拼接字符串，麻烦，而且不能折行写</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;这里是&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> title </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;,那里是&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> content;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//字符串模板</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `这里是${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">title</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">},那里</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">是${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">content</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str2);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里是标题,那里是内容</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里是标题,那里</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//是内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str2); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//网页上输出：这里是标题,那里 是内容</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//字符串即使有多个连续的空格，在网页中也只是有1个空格,网页想要有多个空格用多个&amp;nbsp;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><code>${}</code>甚至可以放函数</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//${}中可以放表达式</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `www.${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//www.4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注意：<code>${a}</code>显示变量 <code>a</code>，相当于<code>String(a)</code>函数</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//undefined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//null</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>标签函数</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hedaodao&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`你好我是${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">},年龄${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">age</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}。`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//字符串前，加一个标记，可以是tag也可以是其他什么名字</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> tag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">age</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //函数名是标记名，第一个参数string，接收除变量的部分</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(string);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name, age);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[&quot;你好我是&quot;, &quot;,年龄&quot;, &quot;。&quot;, raw: Array(3)]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//hedaodao 20</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//注意:函数的第一个参数string，接收除变量的部分，如果字符串是 tag`${name}` ,返回的是[&quot;&quot;,&quot;&quot;],即使变量前后没有字也会返回</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="symbol-内容太晦涩-暂时跳过" tabindex="-1">symbol(内容太晦涩，暂时跳过) <a class="header-anchor" href="#symbol-内容太晦涩-暂时跳过" aria-label="Permalink to “symbol(内容太晦涩，暂时跳过)”">​</a></h2><p>Symbol（符号）是 ES 6 新增的数据类型。符号是原始值，且符号实例是唯一、不可变的。符号的用途是确保对象属性使用唯一标识符，不会发生属性冲突的危险。</p><p><code>Symbol</code>没有字面量语法，必须使用<code>Symbol()</code>来创建，且不能使用<code>new</code>关键字来创建<code>symbol</code>对象，创建方式：</p><p>一、普通符号</p><p>即使描述相同也不相等</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//创建两个Symbol</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//创建带描述的Symbol</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>二、全局符号</p><p>描述相同的符号相等，原因看下面的原理</p><p><strong>Symbol.for（String）</strong></p><p>参数会使用使用 <code>String()</code> 转化为字符串【前面讲过这个方法没缺陷，可以转<code>null</code>和<code>undefined</code>为字符串<code>&quot;null&quot;</code>和<code>&quot;undefined&quot;</code>】</p><p>原理：<code>Symbol.for</code>会对每个字符串键都执行以下操作。在全局运行时注册表中查找参数字符串对应的<code>Symbol</code>，找不到就会生成一个新<code>Symbol</code>实例并添加到全局注册表中。找的到，就会返回该<code>Symbol</code>实例。</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Symbol.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Symbol.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//false  普通和全局即使描述相同，相等</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true   全局只有一个&quot;张三&quot;实例，所以相等</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Symbol.keyFor（Symbol）</strong></p><p>查找全局注册表中，是否存在传入的<code>Symbol</code>参数，如果找到了，返回该<code>Symbol</code>的描述；没找到，返回<code>undefined</code>【参数为<code>Symbol</code>，返回值是<code>Symbol</code>的描述（输入其他类型参数，会抛出异常<code>TypeError: xxx is not a symbol</code>）】</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Symbol.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Symbol.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keyFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// undefined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Symbol.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keyFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 456</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>实践</strong></p><p>班级统计成绩时，重名很常见，如果重名的话，对象中重名的 key 会被覆盖</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grade </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //对象中使用变量，需要用中括号括起来，key就成了&quot;张三&quot;和&quot;李四&quot;，否则key为user1和user2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [user1]: { math: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, english: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [user2]: { math: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, english: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(grade); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出张三: {math: 60, english: 70}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//解决</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  key: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  key: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grade </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [user1.key]: { math: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, english: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [user2.key]: { math: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, english: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(grade);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Symbol(): {math: 80, english: 60}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Symbol(): {math: 60, english: 70}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>取出 Symbol 类型的 key</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> symbol </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这是一个字符串&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [symbol]: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;abcde&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出name age .不会输出[symbol]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//使用Reflect.ownKeys(obj)解决</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Reflect.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ownKeys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj)) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 name age Symbol(这是一个字符串)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">////这样可以保护内部私有属性</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> school </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这是一个Symbol&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">age</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[school] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;实验小学&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">site</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} ${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;李四&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 name age ,可以看出来即使遍历对象的key，symbol类型的school不会显示出来</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h1 id="变量类型隐式转换" tabindex="-1">变量类型隐式转换 <a class="header-anchor" href="#变量类型隐式转换" aria-label="Permalink to “变量类型隐式转换”">​</a></h1><p>发生隐式转换的场景</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>情况一： 使用if判断变量时</span></span>
<span class="line"><span>if(a)  //将变量转化为布尔值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>情况二：进行比较时</span></span>
<span class="line"><span>a===b //将左右变量都转化为布尔值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>情况三：使用&amp;&amp;和||运算符时，会将运算值转化为布尔值</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>情况四：三元表达式  a?b:c  中，a的值会转化为布尔值</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>变量转化为布尔值</li></ul><img src="/proerly.github.io/image-202201230031084212%20.png"><ul><li>变量转化为数字</li></ul><p>与<code>Number()</code>的效果相同</p><table tabindex="0"><thead><tr><th style="text-align:left;">类型</th><th style="text-align:left;">数字</th><th style="text-align:left;">NaN</th></tr></thead><tbody><tr><td style="text-align:left;">Undefined</td><td style="text-align:left;"></td><td style="text-align:left;">undefined 转化为 NaN</td></tr><tr><td style="text-align:left;">Null</td><td style="text-align:left;">null</td><td style="text-align:left;">转化为 0</td></tr><tr><td style="text-align:left;">String</td><td style="text-align:left;">&quot;2&quot;，&quot;4&quot;，&quot;1.2&quot;，&quot;-3.5&quot;等纯整数/浮点数/正负数的字符串转化为对应数字，转化时会忽略最前面的 0 和空格，比如：&quot; 00012&quot;，转化为 12&quot;&quot;会转化为 0</td><td style="text-align:left;">其他情况都是 NaN，比如混合着字母的字符串&quot;123a&quot;,&quot;a123&quot;</td></tr><tr><td style="text-align:left;">boolean</td><td style="text-align:left;">true 转化为 1；false 转化为 0</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">Number</td><td style="text-align:left;">所有具体数字转化为自身；（包括：Infinity、-Infinity 分别转化为 Infinity、-Infinity）</td><td style="text-align:left;">NaN</td></tr><tr><td style="text-align:left;">Array</td><td style="text-align:left;">[]转化为 0 [null]转化为 0 [undefined]转化为 0 [&quot;3&quot;]等只含有一个数字的数组会转化为对应数字[3]等只含有一个数字字符串的数组会转化为对应数字</td><td style="text-align:left;">其他情况都是 NaN 所有其他情况：元素是布尔值[true]/[false]数组中有多个元素的，无论是什么元素，均为 NaN，比如[1，2，3]</td></tr><tr><td style="text-align:left;">Object</td><td style="text-align:left;"></td><td style="text-align:left;">所有对象，包括{}</td></tr></tbody></table><p>这里注意下，<code>parseInt(&#39;123a&#39;)</code>的结果是<code>123</code>，当你不确定数据的具体形式时，这会带来很大的潜在问题。所以转换数字使用<code>Number()</code>，<code>Number(&#39;123a&#39;)</code>会直接返回<code>NaN</code></p><h1 id="对象-待完成" tabindex="-1">对象(待完成) <a class="header-anchor" href="#对象-待完成" aria-label="Permalink to “对象(待完成)”">​</a></h1><h2 id="数据属性" tabindex="-1">数据属性 <a class="header-anchor" href="#数据属性" aria-label="Permalink to “数据属性”">​</a></h2><p>我们最为常见的就是对象的数据属性，键值对的形式。key 必须是字符串或 symbol，value 可以是任何类型。</p><p><strong>赋值</strong></p><p>字面量赋值(常使用)</p><p>如果通过<strong>中括号</strong>语法传入的 key 不会被直接转化字符串</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;爱好&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //1、key不包含空格，不以数字开头，也不包含特殊字符（允许使用 $ 和 _），默认转化为字符串。所以，一般省略引号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //2、key不满足上述要求，这种必须用引号印起来</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;l-name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //3、默认key是字符串，如果希望把key当做是变量，使用方括号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [b]:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tony&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  	//4、使用模板字符串，必须用中括号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  	[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//{ name: &#39;jack&#39;, &#39;l-name&#39;: &#39;tom&#39;, &#39;爱好&#39;: &#39;tony&#39; }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>点方法</strong></p><p>点后跟着的是 key 值（与字面量相同，key 默认转化为字符串类型）</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1、设置：key是字符串a，value是数字1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">obj.a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//2、读取：key为字符串a的值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj.a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//3、删除</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj.a;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>方括号</strong></p><p>中括号中是 key 值（并不会像字面量中默认转化为字符串）</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1、设置：key是字符串a，value是数字1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">obj[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//2、读取：key为字符串a的值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//3、删除</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>补充提示</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">obj[b] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//设置： key是字符串name，value是数字1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>简写</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //1、key和value同名，可简写</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	name:name,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //简写</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //2、value是函数类型，可简写</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getSome</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	//简写</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	getSome</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="访问器属性" tabindex="-1">访问器属性 <a class="header-anchor" href="#访问器属性" aria-label="Permalink to “访问器属性”">​</a></h2><p>也就是对象的 getter 与 setter 用法</p><p>在对象字面量中，它们用 <code>get</code> 和 <code>set</code> 表示</p><p>属性的 setter、getter，不必全部存在</p><p><strong>字面量设置访问器属性</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;will&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;smith&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 可以看做是获取fullName属性的值（必须return一个值）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  get</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fullName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} ${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 可以看做是给fullName属性设置值（参数就是传入的新值）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  set</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fullName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//自动调用get</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj.fullName); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//will smith</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//自动调用set</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">obj.fullName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;tom cruise&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj.name, obj.subName); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//cruise smith</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>用途：访问器属性中的 getter 可以是将其他数据属性运算后的结果的，setter 可以在赋值之前做一些限制操作，符合才给数据属性赋</p><h2 id="属性描述符-待补充" tabindex="-1">属性描述符（待补充） <a class="header-anchor" href="#属性描述符-待补充" aria-label="Permalink to “属性描述符（待补充）”">​</a></h2><p>对象的每一个属性都存在一些隐形的描述符，来描述该属性的特性。我们通过字面量方式建立的对象，所有描述符属性都是 true，我们也可以使用 defineProperty 来手动指定</p><p><strong>数据属性的属性描述符</strong></p><ul><li><p><code>writable</code> — 如果为 <code>true</code>，则值可以被修改，否则它是只可读的。</p></li><li><p><code>enumerable</code> — 如果为 <code>true</code>，则会被在循环中列出，否则不会被列出。</p></li><li><p><code>configurable</code> — 如果为 <code>true</code>，则此属性可以被删除，这些特性也可以被修改，否则不可以</p></li></ul><p><strong>访问器属性的属性描述符</strong></p><p>以上一节的 fullName 属性为例子，其属性描述符为</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>set函数</span></span>
<span class="line"><span>get函数</span></span>
<span class="line"><span>enumerable:true</span></span>
<span class="line"><span>configurable:true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>手动指定属性描述符</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;will&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;smith&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fullName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} ${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj.fullName); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//will smith</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">obj.fullName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;tom cruise&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj.name, obj.subName); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//cruise smith</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="原型链" tabindex="-1">原型链 <a class="header-anchor" href="#原型链" aria-label="Permalink to “原型链”">​</a></h2><p>记住一点，原型链是对象的</p><p><strong>1、[[Prototype]]</strong></p><p>每个对象中都有一个内部的而且是隐藏的属性<code>[[Prototype]]</code>,</p><ul><li>这个属性的值只能是 null 或者另一个对象的引用</li><li>一个对象只能有一个 <code>[[Prototype]]</code>属性 如果我们访问对象 A 中不存在的属性（方法），就会去<code>[[Prototype]]</code>属性指向的对象 B 中查找，如果找不到就会去对象 B 的<code>[[Prototype]]</code>指向的对象中查找，直到找到该属性（方法），或者找到<code>[[Prototype]]</code>为 null 的对象作为终点。这条查找的链条叫做原型链</li></ul><p>我们也可以说是对象 A 继承了原型链上其他对象的属性、方法</p><p><strong>2、_proto_</strong></p><p>因为 Prototype 这个属性我们不能直接访问到，所以需要借助一个访问器属性（getter/setter）去设置 Prototype 属性。<code>__proto__</code>的存在是出于历史的原因，现代编程语言建议我们应该使用函数 <code>Object.getPrototypeOf/Object.setPrototypeOf</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sleep: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;动物睡觉&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dog </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  say: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;汪汪&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  __proto__: animal,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dog.sleep); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//动物睡觉</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>如果 dog 属性存在 sleep，就不会再沿着原型链查找了</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sleep: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;动物睡觉&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dog </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  say: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;汪汪&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sleep: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;狗睡觉&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  __proto__: animal,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dog.sleep); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//狗睡觉</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>3、原型链中的 this</strong></p><p>可以参照后面的章节【this 的指向】，属于其中的【规则 3】的情况，<code>对象.函数（）</code>其中 this 指向的都是调用他的对象</p><p><strong>形式 1：</strong></p><p><code>dog.getThis()</code>，虽然 getThis 方法是在原型链上的 animal 中找到的，但是由于是 dog 调用的，所有其 this 指向 dog</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sleep: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;动物睡觉&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getThis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.sleep </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;animal中修改&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dog </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sleep: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;狗睡觉&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  __proto__: animal,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dog.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getThis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//{ sleep: &#39;狗睡觉&#39; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//下面能看出，getThis修改的是dog中的sleep</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dog.sleep); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//animal中修改</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(animal.sleep); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//动物睡觉</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>形式 2：</strong></p><p>changeSleep 中的 this 指向的应该是 dog，相当于在 dog 中新增了 sleep 属性</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sleep: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;动物睡觉&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  upgradeSleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.sleep </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;升级版睡眠&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dog </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  __proto__: animal,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dog.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">upgradeSleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(animal.sleep); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//动物睡觉</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dog.sleep); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//升级版睡眠</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>形式 3：</strong></p><p>dog 和 cat 调用 eat 方法，虽然也是在 animal 中找到，并且其中的 this 指向 dog 和 cat，但是 this.stomach.push 并不是直接新建一个 stomach 属性，而是找到 animal 中的 stomach 在 push</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stomach: [],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  eat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">food</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.stomach.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(food);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dog </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  __proto__: animal,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  __proto__: animal,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dog.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;苹果&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(animal.stomach); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[ &#39;苹果&#39; ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dog.stomach); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[ &#39;苹果&#39; ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>如何解决 dog、cat 共用一个 stomach。参照前两种方式</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stomach: [],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  eat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">food</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.stomach.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(food);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dog </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stomach: [],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  __proto__: animal,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stomach: [],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  __proto__: animal,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dog.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;苹果&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(animal.stomach); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[ &#39;苹果&#39; ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dog.stomach); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[ &#39;苹果&#39; ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>4、for in 遍历</p><p><code>for..in</code> 循环也会遍历到原型链上其他对象的属性（前提是该属性的描述符 enumerable 必须是 true）</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sleep: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;动物睡觉&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  changeSleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.sleep </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;升级版睡眠&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dog </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  say: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;汪汪&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  __proto__: animal,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dog) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// say</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// sleep</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// changeSleep</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>如果不希望遍历其他对象的属性，可以使用 hasOwnProperty</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sleep: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;动物睡觉&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  changeSleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.sleep </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;升级版睡眠&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dog </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  say: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;汪汪&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  __proto__: animal,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dog) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (dog.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasOwnProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key)) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// say</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>其他对象方法</strong></p><p>除 for in 外，其他的方法都是只能获取对象自身的属性</p><p>例如</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Object.keys 和 Object.values</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>5、new 一个函数</strong></p><p>new 函数会返回一个对象，这对象的<code>[[Prototype]]</code>属性（原型链）上会自动添加一个对象</p><p>详情见【函数】-【new 关键字】章节</p><h2 id="静态方法、实例方法" tabindex="-1">静态方法、实例方法 <a class="header-anchor" href="#静态方法、实例方法" aria-label="Permalink to “静态方法、实例方法”">​</a></h2><p>文档：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object</a></a></p><p>Object 本质上是个函数，等同于类</p><p><strong>常用的静态方法</strong></p><table tabindex="0"><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">keys()</td><td style="text-align:left;">返回所有 key 组成的数组</td></tr><tr><td style="text-align:left;">values()</td><td style="text-align:left;">返回所有 value 组成的数组</td></tr><tr><td style="text-align:left;">entries()</td><td style="text-align:left;">返回所有[key,value]组成的数组</td></tr><tr><td style="text-align:left;">assign()</td><td style="text-align:left;">合并对象，返回合并后新的对象 Object.assign({},{name:&quot;jack&quot;},{age:18})</td></tr><tr><td style="text-align:left;">hasOwn()</td><td style="text-align:left;">Object.hasOwn(obj, &#39;prop&#39;) 判断 obj 中是否存在 prop 属性，返回布尔值</td></tr></tbody></table><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[&#39;name&#39;, &#39;age&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[&#39;jack&#39;, 12]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[[&#39;name&#39;:&#39;jack&#39;], [&#39;age&#39;,12]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>常用的静态方法</strong></p><p>通过 prototype 属性可以查看到类的普通成员</p><img src="/proerly.github.io/20240728133440aVrYDS.png"><p>其他语言一般实例化对象，调用对象的方法</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">obj.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasOwnProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// JS中字面量对象等同于 new Object(字面量)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">obj.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasOwnProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>JS 有个很特殊的用法可以直接用类调用实例的方法，如果实例方法访问了 this 是不存在的，因为没有实例化对象，但是可以用 call 调用绑定一个对象</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.hasOwnProperty.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>补充：hasOwnProperty 是 Object 的普通成员，对象可以覆盖了这个方法，使用 Object.prototype 可以避免</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.hasOwnProperty.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> foo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  hasOwnProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;覆盖&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">foo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasOwnProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 覆盖</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>后来有了 Object.hasOwn，这个方法是静态成员，就不用使用 prototype、call 了。</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Object.hasOwn(obj, &quot;prop&quot;);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>但是很多旧代码遗留上面的用法，这里分析了这种用法的成因</p><p>还有个实例方法 toString，这个函数没有相同功能的静态方法，所以只有 prototype 一种使用方式。目前这是最准确的判断类型的方式</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.toString.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 返回类型 [object XXXX]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 例子</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.toString.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [object String]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.toString.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [object Null]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 可以提取出来类型</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">obj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //return Object.prototype.toString.call(obj).replace(/^\[object (.*)\]$/, &quot;$1&quot;)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.toString.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">match</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\[</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">object (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">)</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 个人更倾向于使用match语法，使用replace也行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Boolean</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Undefined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({})); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Object</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([])); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Array</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Date</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">regex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// RegExp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">typeOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {})); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Function</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h1 id="函数" tabindex="-1">函数 <a class="header-anchor" href="#函数" aria-label="Permalink to “函数”">​</a></h1><h2 id="函数的声明" tabindex="-1">函数的声明 <a class="header-anchor" href="#函数的声明" aria-label="Permalink to “函数的声明”">​</a></h2><p>函数也是一种类型，它使用 function 关键字声明</p><ul><li>使用标准函数声明来定义函数（命名函数，函数名是 func1）</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> func1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //函数体</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">func1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>声明匿名函数</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //函数体</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>箭头函数：一种匿名函数的简写</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">参数</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){函数体}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//对应</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">参数</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{函数体}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>注意：</p><ul><li>如果只有一个参数，()可以省</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">param</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//只有一个参数param}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">如果只有一行，return和{}可以省</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//当函数体只有一句，就是一个return时，可以省略return和{}，函数体就是x+y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//对应</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>把函数当成构造函数 详见【new 关键字】章节</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> stu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">age</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里的this指向的是stu对象，不是window对象</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //函数体</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //构造函数的返回值是对象，默认有以下这句，this表示user对象</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //return this</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> stu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>对象字面量属性函数</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setUsername</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getUsername</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //简写：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //setUsername(name){</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //    this.name=name</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //},</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //getUsername(){</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //    return this.name</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setUsername</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUsername</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 张三</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>函数声明存在的问题</strong></p><p>覆盖 window 对象中的属性</p><p>这种方式定义函数，函数会压入到 window 对象中，一旦 window 对象中有同名属性，会把 window 对象的该属性覆盖掉</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(title);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;你好&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 你好</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;你好&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 你好</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="函数参数" tabindex="-1">函数参数 <a class="header-anchor" href="#函数参数" aria-label="Permalink to “函数参数”">​</a></h2><p><strong>形参与实参</strong></p><p>JS 中函数是把实参赋值给形参</p><p>注意：</p><ul><li>如果实参是基本类型，改变形参，肯定不会影响实参</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 101</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>如果实参是引用类型，形参接收到的是实参的存储地址，所以操作形参的属性，肯定会影响实参</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  a.age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 {name: &quot;张三&quot;, age: 20}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>当实参个数&gt;形参个数，多余的实参会被略去</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mySum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mySum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>定义默认参数</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//定义函数带有默认参数，传入就按传入的值，不传就按默认</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a, b, c);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出1,5,7</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出1,2,3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>接收多个形参</strong></p><ul><li>arguments 对象（不建议使用）</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> arguments</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//arguments对象。里面包含着传进来的参数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> arguments</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //arguments对象可以使用下标取值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">arguments</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[i]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输 1 2 3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>解构赋值（详见，后面<strong>【解构赋值】章节</strong>）</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> func2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //args就是个数组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(args);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">func2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出[1,2,3]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="函数提升" tabindex="-1">函数提升 <a class="header-anchor" href="#函数提升" aria-label="Permalink to “函数提升”">​</a></h2><ul><li>使用标准函数声明，会有函数提升现象</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 hi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hi&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>通过变量引用匿名函数，没有函数提升(与赋值变量是 var 或 let 没关系)</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//报错，Uncaught TypeError: func is not a function</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> func</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hi&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>重点理解</li></ul><p>第一个函数函数提升到最前面，在 console.log 之前</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//4</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>第一个函数函数提升到最前面，console.log 之前被第二个函数覆盖了</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">num</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//hd</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>函数提升和变量提升，当函数和变量同名</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(foo);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> foo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//变量提升</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(foo);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //函数提升</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;函数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//等价于</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //提到顶端</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;函数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> foo;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(foo); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出foo这个函数，因为上面foo没有被赋值，foo还是原来的值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">foo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//赋值不会提升,赋值后 foo就不再是函数类型了，而是number类型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(foo); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里会报错，因为foo不是函数了</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>简略的说</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//函数提升优先级高，但是var a没有赋值，所以不会覆盖函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 函数a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//函数提升优先级高，但是var a赋值为1，所以会覆盖函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="new-关键字" tabindex="-1">new 关键字 <a class="header-anchor" href="#new-关键字" aria-label="Permalink to “new 关键字”">​</a></h2><p>使用 new 调用函数，我们称为这个函数为构造函数。<strong>JS 中的类本质就是函数</strong></p><p>注意：</p><ul><li><p>以下涉及的 this 指向问题，会在<strong>【this 的指向】章节</strong>详细介绍</p></li><li><p>以下涉及的原型链问题，会在<strong>【原型链】章节</strong>详细介绍</p></li></ul><p>例如</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>原理过程是：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //1 .在函数体开头，自动创建了一个空白对象{}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //2 .this指向这个空白对象</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //3 .执行函数体中的语句</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //4 .</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 情况一：函数没有return，或者&quot;return;&quot;、&quot;retrun 基本类型;&quot;，则直接忽略原本的return。返回自动创建的那个对象</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 情况二：如果 return 返回的是一个对象，则返回这个对象。忽略自动创建的这个对象</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//{a: 3, b: 5}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>实际使用：</p><ul><li>通过传入参数，返回不同对象</li><li>约定函数名首字母大写</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">age</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// { name: &#39;jack&#39;, age: 18 }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//{ name: &#39;tom&#39;, age: 19 }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>为对象添加函数</p><ul><li>在构造函数内添加一个函数作为对象的属性</li><li>通过向 prototype 属性中添加其他函数/属性</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//---------- 属性挂载到实例对象上</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">age</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //方式1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//---------- 属性挂载到实例对象上</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //一定要注意，这里不能用箭头函数，否则其中的this指向了全局的window</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.age;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//---------- 属性挂载到函数上，类似于类的静态方法 （this无法访问到name、age）-------------</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Student.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSingleInstance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //方式3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.instance) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.instance;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //注意这里是把instance挂在到Student上了</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.instance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Singleton</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 访问静态方法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Student.getSingleInstance);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 访问实例对象方法</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 正常需要new创建实例对象，才能访问到，但是JS中可以直接通过prototype属性访问到</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  {getAge:f(),constructor: ƒ Student(name,age) }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注意如果通过prototype属性访问实例方法，一定要用call。因为实例不存在，getAge内部如果访问this会不存在，我们可以用call绑定到任意上下文</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.getAge.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stu1 --&gt; &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stu1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), stu1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//stu1 --&gt;  jack 18</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Student.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSingleInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Student.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSingleInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stu2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu3); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true 即同一个实例</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><strong>函数默认的 prototype 属性</strong></p><p>只有函数才有 prototype 属性（Class 是个语法糖，本质上也是个函数，所以 Class 也有 prototype 属性），其值默认为<code>{constructor: ƒ}</code>，即 key 是 constructor，value 就是函数本身（注意，prototype 就是一个属性而已，不是对象的<code>[[prototype]]</code>）</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//{constructor: ƒ}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>new function 的原理</strong></p><p>使用 new function 创建新对象时，就会自动调用该对象的<code>__proto__</code>访问器属性，用来设置对象的<code>[[prototype]]</code>属性为函数的 prototype 属性，即<code>{constructor: ƒ}</code></p><p>例子：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 默认的prototype</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	 即：Rabbit.prototype = { constructor: Rabbit };</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Rabbit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	rebbit的`[[prototype]]`是{ constructor: Rabbit }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rabbit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Rabbit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	对象rabbit没有constructor方法，但是其原型链上有{ constructor: Rabbit }对象</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rabbit.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">constructor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Rabbit); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>自定义 prototype</strong></p><p>prototype 就是一个普通属性，所以是可以覆盖的。如果被覆盖就不是默认指向<code>{constructor:Rabbit}</code>了</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Rabbit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Rabbit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>所以，为了不覆盖对象的 constructor 属性，我们常用的方式是添加新的属性</p><p>这样在 new function 时，创建的对象可以在其原型链上（<code>[[prototype]]</code>）找到 name 属性</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Rabbit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Rabbit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rabbit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Rabbit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rabbit.name); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//tom</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>回顾下 JS 的内建函数</strong></p><p>以 Object 为例子</p><p><strong>函数 Object 的 prototype 属性</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //1、构造函数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:Object,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //2 、其他函数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  	//toString的具体实现</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 	//3、其上一级原型对象就是null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [[prototype]]:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>o=new Object()</strong></p><p>新对象的上一级原型对象就是上面的这个对象，所以能直接使用原型上的 toString 方法</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">o.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>总结</strong></p><p>将函数 A 创建的对象，按照原型链一步一步捋到 null</p><img src="/proerly.github.io/20220701000233%20.png"><p>或者看这个实际的图，我们应该知道 JS 所有的内建方法，其实都在其对应函数的 prototype 对象里。比如，数组的 slice 方法，就是在 Array.prototype 里</p><img src="/proerly.github.io/20220630233506%20.png"><h2 id="立即执行函数" tabindex="-1">立即执行函数 <a class="header-anchor" href="#立即执行函数" aria-label="Permalink to “立即执行函数”">​</a></h2><p>立即执行函数<code>(这里放函数声明)()</code></p><p>立即执行函数，执行完毕后立即销毁，所以即使，使用了 var 关键字，仍然不会污染全局 window 变量</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> web </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;houdunren&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里把hello传给内部的str参数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(web);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//hello</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//web is not defined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>立即执行函数与作用域的冲突</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;执行1.js中的show函数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ab</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;执行1.js中的ab函数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//2.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;执行2.js中的show函数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ab</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;执行2.js中的ab函数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>在 html 中引用两个外部 js 文件</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;!--</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">两个js文件中都有show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()函数</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    show()//输出 执行2.js中的show函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;!--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">这里调用只能调用到2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">js中的show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()函数</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>解决方案一:使用模块化，ES6 以后有了类的概念，提供了新的解决办法，后面会讲到</p><p>解决方案二：这是一种老的解决方案，使用立即执行函数</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;执行了&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})()(</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //输出 执行了</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //如何调用内部的函数看下面</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //将1.js和2.js改造成这样</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">window</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;执行1.js中的show函数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ab</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;执行1.js中的ab函数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.js1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { show, ab };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)(window); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里带参数把，window传递到函数中</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//html页面引入外部js后，调用函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">js1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 执行1.js中的show函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">js1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ab</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 执行1.js中的ab函数</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>方案三：这是一种老的解决方案，使用 let 作用域</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//前面提到的&quot;函数存在的问题----覆盖window对象中的属性&quot;中，写过全局作用域中的var变量会压入window对象中，let不会</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//如何调用内部的函数看下面</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//将1.js和2.js改造成这样</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> show</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;执行1.js中的show函数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ab</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;执行1.js中的ab函数&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  window.js1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { show, ab };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//html页面引入外部js后，调用函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">js1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 执行1.js中的show函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">js1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ab</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 执行1.js中的ab函数</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="从类的角度看函数" tabindex="-1">从类的角度看函数 <a class="header-anchor" href="#从类的角度看函数" aria-label="Permalink to “从类的角度看函数”">​</a></h2><p>JS 中类就是函数的语法糖，但是由于函数的一些性质，导致 JS 中将函数当做类使用时，存在大量神奇的语法</p><p>目前还未测试直接使用 Class 关键字声明的类是否也具有这些特殊的能力</p><h2 id="动态调整类" tabindex="-1">动态调整类 <a class="header-anchor" href="#动态调整类" aria-label="Permalink to “动态调整类”">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ExtractJwt, Strategy } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;passport-jwt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PassportStrategy } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@nestjs/passport&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Injectable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@nestjs/common&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Injectable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  PassportStrategy类可以传入参数，来定制类的功能</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JwtStrategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PassportStrategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Strategy) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      jwtFromRequest: ExtractJwt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fromAuthHeaderAsBearerToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ignoreExpiration: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      secretOrKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;guang&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> validate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { userId: payload.userId, username: payload.username };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="类直接调用实例方法" tabindex="-1">类直接调用实例方法 <a class="header-anchor" href="#类直接调用实例方法" aria-label="Permalink to “类直接调用实例方法”">​</a></h2><p>正常情况下，类实例化后的对象才能调用实例方法</p><p>Object.prototype 返回的是类的全部实例成员，调用其中的 toString 方法，但是缺少实例对象，但是可以在调用时通过 call 指定实例对象</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.toString.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;[object Number]&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="动态修改类的成员" tabindex="-1">动态修改类的成员 <a class="header-anchor" href="#动态修改类的成员" aria-label="Permalink to “动态修改类的成员”">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 修改了A.prototype指向对象的属性。两个实例访问的同一个对象，故都是2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a1.x, a2.x); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2 2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 修改了A.prototype指向的对象。两个实例访问的是不同对象，所以存在差异</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a1.x, a1.y); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a2.x, a2.y); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2 3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h1 id="数组" tabindex="-1">数组 <a class="header-anchor" href="#数组" aria-label="Permalink to “数组”">​</a></h1><h2 id="声明数组" tabindex="-1">声明数组 <a class="header-anchor" href="#声明数组" aria-label="Permalink to “声明数组”">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//方式一：对象的方式</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> arr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//方式二：字面量方式(常用)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>多维数组(不常用)</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 B1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>注意：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [&quot;a&quot;, empty × 2, &quot;b&quot;]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所以为了防止出现undefined，我们通常使用push,直接添加到队尾</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//注意：empty的位置是个占位符，是包含在长度length之内的，但是for in循环时，是无法遍历的（直接跳过去）。for of和for(let i=0;i&lt;arr.length;i++){ console.log(arr[i])}时可以遍历到，是undefined</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [ empty × 3, &quot;b&quot;],delete删除可以出现empty</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//----分隔线----</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//创建一个长度为6的空数组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr2); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [6]，即一个长度为一的数组，数组内容为6</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="数组对象的属性和方法" tabindex="-1">数组对象的属性和方法 <a class="header-anchor" href="#数组对象的属性和方法" aria-label="Permalink to “数组对象的属性和方法”">​</a></h2><p>数组属性</p><table tabindex="0"><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><a href="https://www.runoob.com/jsref/jsref-constructor-array.html">constructor</a></td><td style="text-align:left;">返回创建数组对象的原型函数。</td></tr><tr><td style="text-align:left;"><a href="https://www.runoob.com/jsref/jsref-length-array.html">length </a></td><td style="text-align:left;">设置或返回数组元素的个数。</td></tr><tr><td style="text-align:left;"><a href="https://www.runoob.com/jsref/jsref-prototype-array.html">prototype</a></td><td style="text-align:left;">允许你向数组对象添加属性或方法。</td></tr></tbody></table><p>Array 对象方法</p><table tabindex="0"><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>静态方法</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-isarray.html">isArray() </a></td><td style="text-align:left;">判断对象是否为数组</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-from.html">from() </a></td><td style="text-align:left;">通过给定的对象中创建一个数组</td></tr><tr><td style="text-align:left;"><strong>操作数组元素——&gt;增删</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-pop.html">pop()</a></td><td style="text-align:left;">删除数组的最后一个元素，返回删除的元素</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-push.html">push() </a></td><td style="text-align:left;">向数组的末尾添加一个或更多元素，返回新的长度</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-shift.html">shift() </a></td><td style="text-align:left;">删除，返回数组的第一个元素</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-unshift.html">unshift() </a></td><td style="text-align:left;">向数组的开头添加一个或更多元素，返回新的长度</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-splice.html">splice() </a></td><td style="text-align:left;">从数组中添加或删除元素，返回被删除的元素的组成的数组</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-copyWithin.html">copyWithin() </a></td><td style="text-align:left;">从数组的指定位置拷贝元素到数组的另一个指定位置中</td></tr><tr><td style="text-align:left;"><strong>操作数组元素——&gt;顺序</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-reverse.html">reverse() </a></td><td style="text-align:left;">反转数组的元素顺序，返回值也是反转后的数组</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-sort.html">sort() </a></td><td style="text-align:left;">对数组的元素进行排序</td></tr><tr><td style="text-align:left;"><strong>不操作数组元素——&gt;返回查找</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-includes.html">includes()</a></td><td style="text-align:left;">判断一个数组是否包含一个指定的值。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-indexOf.html">indexOf()</a></td><td style="text-align:left;">从前到后查找数组中的元素，返回它第一次出现位置的索引</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-lastIndexOf.html">lastIndexOf()</a></td><td style="text-align:left;">从后到前查找数组中的元素，返回它第一次出现位置的索引</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-findIndex.html">findIndex()</a></td><td style="text-align:left;">返回符合传入函数条件的数组元素的索引</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-find.html">find()</a></td><td style="text-align:left;">返回符合传入函数条件的数组元素</td></tr><tr><td style="text-align:left;"><strong>不操作数组元素——&gt;返回截取部分</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-slice.html">slice()</a></td><td style="text-align:left;">选取数组的一部分，并返回一个新数组</td></tr><tr><td style="text-align:left;"><strong>不操作数组元素——&gt;返回拼接</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-join.html">join()</a></td><td style="text-align:left;">把数组的所有元素放入一个字符串</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-concat.html">concat()</a></td><td style="text-align:left;">连接两个或更多的数组，并返回结果</td></tr><tr><td style="text-align:left;"><strong>不操作数组元素——&gt;遍历处理结果</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-filter.html">filter()</a></td><td style="text-align:left;">检测数值元素，并返回符合条件所有元素的数组</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-map.html">map()</a></td><td style="text-align:left;">通过指定函数处理数组的每个元素，并返回处理后的数组</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-some.html">some()</a></td><td style="text-align:left;">检测数组元素中是否有元素符合指定条件</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-every.html">every()</a></td><td style="text-align:left;">检测数值元素的每个元素是否都符合条件</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-reduce.html">reduce()</a></td><td style="text-align:left;">将数组元素计算为一个值（从左到右）</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-reduceRight.html">reduceRight()</a></td><td style="text-align:left;">将数组元素计算为一个值（从右到左）</td></tr><tr><td style="text-align:left;"><strong>其他</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-fill.html">fill()</a></td><td style="text-align:left;">使用一个固定值来填充数组</td></tr></tbody></table><p>注意：js 中数组的方法最为丰富，所以几乎所有类型都可以转化为数组进行处理，处理结束后再转化回去</p><h2 id="补充下" tabindex="-1">补充下 <a class="header-anchor" href="#补充下" aria-label="Permalink to “补充下”">​</a></h2><p>数组方法中出现的 index 参数都是可正可负，为负数时，例如：-1 代表倒数第一个元素，即索引为（ length-1）</p><h2 id="清空数组" tabindex="-1">清空数组 <a class="header-anchor" href="#清空数组" aria-label="Permalink to “清空数组”">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">////</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//清空原理，在内存中开辟一个新的空间，放一个空数组，把arr指向它。原来的数组并未清空</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">////</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">////</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">splice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,arr.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">////</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="isarray" tabindex="-1">isArray <a class="header-anchor" href="#isarray" aria-label="Permalink to “isArray”">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([])); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="from" tabindex="-1">from <a class="header-anchor" href="#from" aria-label="Permalink to “from”">​</a></h2><p>Array.from 用来将可迭代对象转化为数组</p><p>内置的字符串、数组、对象都是可迭代对象，可以使用通用的方法遍历其内部。详见【可迭代对象】章节</p><p>如果观察过一些框架的内置对象的话，你会发现他们很少使用数组，而是使用一种<strong>类数组的对象</strong></p><p><strong>类数组的对</strong>象如下，这种对象 key 是索引，而且有一个 length 属性表示长度</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jake&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  length: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>我们可以把<strong>类数组的对象</strong>当成对象来处理，而需要使用数组方法时，又可以通过 Array.from 转化为数组</p><p>转化的数组长度就是 length 的数值，按照 key 的值作为索引放置</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [ &#39;tom&#39;, &#39;jake&#39; ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="操作数组元素——-增删" tabindex="-1">操作数组元素——&gt;增删 <a class="header-anchor" href="#操作数组元素——-增删" aria-label="Permalink to “操作数组元素——&gt;增删”">​</a></h2><p>略：pop、push、shift（队首出队）、unshift（队尾出队）</p><p><strong>splice（index[,howmany],item1,item2,...itemX）</strong></p><p>替换指定位置的元素</p><ul><li><p>参数：</p><ul><li>index 开始索引</li><li>howmany 替换的元素个数，不传递默认为从 index 到数组最后一位</li><li>item1....itemX 最后替换为这些值 （howmany 给值，这些参数才能传递）</li></ul></li><li><p>返回值：选取元素组成的数组（数组发生变化，是替换后的新数组）</p></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;D&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//删除</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">splice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[&quot;A&quot;, &quot;B&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[&quot;C&quot;, &quot;D&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//替换</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">splice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;李四&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[&quot;A&quot;, &quot;B&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[&quot;张三&quot;, &quot;李四&quot;, &quot;C&quot;, &quot;D&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//增加</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;D&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">splice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr3); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[&quot;A&quot;, &quot;张三&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>注意</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">splice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>copyWithin（target[, start, end]）</strong></p><p>将指定范围的元素复制后，覆盖到数组的其他位置（注意：复制的元素如果超出了数组长度，则只覆盖处在数组长度范围内的元素）</p><ul><li>参数 <ul><li>target 目标位置索引</li><li>start 复制的开始位置索引</li><li>end 复制的结束位置的下一位索引</li></ul></li><li>返回值：覆盖后的结果（原数组发生变化和返回值相同）</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//复制了b、c、d，到e的位置，b覆盖了e，剩下的c、d超出了数组范围</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">copyWithin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[ &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;b&#39; ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//[ &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;b&#39; ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="操作数组元素——-顺序" tabindex="-1">操作数组元素——&gt;顺序 <a class="header-anchor" href="#操作数组元素——-顺序" aria-label="Permalink to “操作数组元素——&gt;顺序”">​</a></h2><p><strong>reverse()</strong></p><p>原数组元素反转，返回值也是反转的数组</p><ul><li><p>参数：无</p></li><li><p>返回值：前后反转的数组（原数组发生变化和返回值相同）</p></li></ul><p><strong>sort([function(preValue,nextValue)])</strong></p><p>排序函数，数组元素排序，返回值也是排序后的数组</p><ul><li><p>参数：排序规则函数</p></li><li><p>返回值：排序后的数组（原数组发生变化和返回值相同）</p></li><li><p>sort 回调函数返回值</p><ul><li><p>如果返回值小于 0，换位置</p></li><li><p>如果返回值大于等于 0，位置不变</p></li></ul></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //第一轮，a=8，b=1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//从大到小</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//从小到大</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//arr是 [ 8, 4, 3, 1 ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>简写</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //a-b 从小到大 ； b-a 从大到小</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出[4,3, 2, 1]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>**例子:**商品价格排序</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cart </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ipad&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;imac&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;iphone&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;makbook&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cart.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a.price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b.price;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cart); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出对象按从小到大排列</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>sort 原理</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//sort是冒泡排序</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Mysort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> array) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> array) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(array[n], array[m]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //callback的返回值是小于0时，交换位置</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> temp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> array[n];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        array[n] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> array[m];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        array[m] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> temp;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Mysort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 输出[1, 2, 3, 4]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="不操作数组元素——-返回查找" tabindex="-1">不操作数组元素——&gt;返回查找 <a class="header-anchor" href="#不操作数组元素——-返回查找" aria-label="Permalink to “不操作数组元素——&gt;返回查找”">​</a></h2><p><strong>includes(item[,index])</strong></p><p>从 index 开始，从前到后，查找数组中是否有 item 这个元素</p><ul><li>参数： <ul><li>item 目标查找元素</li><li>index 查找开始位置索引</li></ul></li><li>返回值：布尔值</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出false，从标号为3的位置向右查找</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>indexOf(item[,index])</strong></p><p>在数组中查找 item，首次出现位置的索引</p><ul><li><p>参数：</p><ul><li>item 要查找的元素</li><li>index：从 index 位置开始查找</li></ul></li><li><p>返回值:</p><p>找到返回元素所在索引，找不到返回-1</p></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">indexOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出0，从左-&gt;右查找，找到第一次出现位置的标号，找不到返回-1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">indexOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//第二个参数从角标为2的位置，向右查找</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>lastIndexOf(item[,index])</strong></p><p>从 index 位置（默认是数组最后一位），从后向前在数组中查找 item，首次出现位置的索引（与 indexOf 类似）</p><p>index 的取值范围可正可负</p><p><strong>find(function(currentValue[, index,arr])[,thisValue])</strong></p><ul><li><p>参数</p><ul><li>function(currentValue[, index,arr])</li><li>thisValue</li></ul></li><li><p>返回值</p><p>function 一旦返回 true，就返回数组中对应的元素，不再查找了；如果结束都没有返回 true，则返回 undefined</p></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//{ name: &#39;a&#39;, age: 18 }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>findIndex(function(currentValue[, index,arr]),[thisValue])</strong></p><p>返回查找到值的索引，找不到返回-1（与 find 类似）</p><p><strong>试一试</strong></p><p>自己实现类似 find 的查找函数</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> findValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> array) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> findValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出d</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="不操作数组元素——-返回截取部分" tabindex="-1">不操作数组元素——&gt;返回截取部分 <a class="header-anchor" href="#不操作数组元素——-返回截取部分" aria-label="Permalink to “不操作数组元素——&gt;返回截取部分”">​</a></h2><p><strong>slice([start,end])</strong></p><ul><li><p>参数：</p><ul><li><p>start，开始截取的索引 ，范围可正可负</p></li><li><p>end，结束截取元素的下一个索引，范围可正可负</p></li></ul><p>(左闭，右开区间)</p></li><li><p>返回值：</p><p>返回被截取元素组成的数组</p></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;D&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出[&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;]，无参数截取所有</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出[&quot;B&quot;, &quot;C&quot;, &quot;D&quot;]，截取标号1到最后</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出[&quot;B&quot;, &quot;C&quot;]，截取：索引1——索引2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 二个参数都可以为负数，是一个很实用的能力，可以实现按倒数位置截取</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 其实就是[0,len-2) 即[&quot;A&quot;,&quot;B&quot;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="不操作数组元素——-返回拼接" tabindex="-1">不操作数组元素——&gt;返回拼接 <a class="header-anchor" href="#不操作数组元素——-返回拼接" aria-label="Permalink to “不操作数组元素——&gt;返回拼接”">​</a></h2><p><strong>join</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出a-b-c</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>补充：字符串拆分成数组</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;abcdef&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>concat</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">array1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">concat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(array2,array3,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,arrayX)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;f&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;g&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//方法二，原数组未改变</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">concat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr2))</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//方法三，原数组未改变</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([..arr,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr2]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="不操作数组元素——-遍历处理结果" tabindex="-1">不操作数组元素——&gt;遍历处理结果 <a class="header-anchor" href="#不操作数组元素——-遍历处理结果" aria-label="Permalink to “不操作数组元素——&gt;遍历处理结果”">​</a></h2><p><strong>filter</strong></p><p>检测数值元素，函数返回一个数组。是：当内部函数返回为 true 时的元素组成的数组。找不到返回空数组</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //value是数组元素</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //index是索引</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //arr是原数组</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //把所有元素都遍历一遍，函数返回所有return为true的数组元素</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出[&quot;b&quot;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>例子</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//简单写法,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这个表达式本来就是布尔值，可以直接return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>又一个例子</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;帽子&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;外套&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">150</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;鞋子&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;袜子&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item.price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result)[</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //输出</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ({ name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;外套&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">150</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;鞋子&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, price: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>filter 实现原理</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Myfilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newArray </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> array) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      newArray.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newArray;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Myfilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出[60, 70, 80, 100]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>map</strong></p><p>映射。内部函数返回的值组成的数组</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { id: item };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;res --&gt; &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, res); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//res --&gt;  [ { id: 1 }, { id: 8 }, { id: 3 }, { id: 4 } ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>every</strong></p><p>检测数值元素的每个元素是否都符合条件。内部函数所有元素都返回 true，最后才返回 true。如果有一个返回了 false，就不会继续向后遍历了，直接返回 false</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">every</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //value是数组元素</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //index是索引</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //arr是原数组</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //函数必须返回布尔值，true，才能继续，否则停止</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出a b c</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>应用</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//判断是否有人未及格</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, score: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;李四&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, score: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;王五&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, score: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;赵六&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, score: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">every</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item.score </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;全部及格&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;有人未及格&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 有人未及格</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>some</strong></p><p>检测数组元素中是否有元素符合指定条件。如果 return true，结束函数，整体返回 true；如果整个数组遍历完都没有 return true，整体返回 false</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //value是数组元素</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //index是索引</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //arr是原数组</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //函数必须返回布尔值，true就结束</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>reduce(function(preValue, currentValue[, currentIndex, arr]), [initialValue])</strong></p><p>数组中的每个值（从左到右）开始遍历，最终计算为一个值</p><ul><li><p>参数：</p><ul><li>preValue 是上一次循环 return 的值</li><li>currentValue 本轮循环的数组的元素</li><li>currentIndex 本轮循环数组元素的索引</li><li>arr 调用 reduce 方法的数组</li></ul></li><li><p>返回值：最后一轮 return 的值</p></li></ul><p>reduce 只有第一个参数（函数）时，第一轮循环 preValue 为数组第一个元素，currentValue 为第二个元素</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pre, value);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 99</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//99 3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//99 4</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//99</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>reduce 有第 2 个参数时，第二个参数是指定第一轮 preValue 的初始值，currentValue 从数组的第一个元素开始</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pre, value);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 99</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//reduce的第二个参数，是给第一给参数中的pre赋值</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//0 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//99 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//99 3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//99 4</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//99</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>应用场景 1</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//统计item在array数组中出现了几次</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> arrayCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (cur </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item) pre </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pre </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pre;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arrayCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出3，返回了pre最终的值</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>应用场景 2</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//找最大值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cur </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pre </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cur </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pre;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>应用场景 3</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//求总和</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (pre </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pre </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cur);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出23</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>reduceRight</strong></p><p>与 reduce 一样，只不过方向是从右向左</p><h1 id="字符串" tabindex="-1">字符串 <a class="header-anchor" href="#字符串" aria-label="Permalink to “字符串”">​</a></h1><h2 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-label="Permalink to “属性”">​</a></h2><p>属性</p><table tabindex="0"><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-constructor-string.html">constructor</a></td><td style="text-align:left;">对创建该对象的函数的引用</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-length-string.html">length</a></td><td style="text-align:left;">字符串的长度</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-prototype-string.html">prototype</a></td><td style="text-align:left;">允许您向对象添加属性和方法</td></tr></tbody></table><h2 id="方法" tabindex="-1">方法 <a class="header-anchor" href="#方法" aria-label="Permalink to “方法”">​</a></h2><p>静态方法</p><table tabindex="0"><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-fromCharCode.html">fromCharCode()</a></td><td style="text-align:left;">将 Unicode 编码转为字符</td></tr></tbody></table><p>方法</p><table tabindex="0"><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>操作字符串</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-toLowerCase.html">toLowerCase()</a></td><td style="text-align:left;">把字符串转换为小写</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-toUpperCase.html">toUpperCase()</a></td><td style="text-align:left;">把字符串转换为大写</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-trim.html">trim()</a></td><td style="text-align:left;">去除字符串两边的空白</td></tr><tr><td style="text-align:left;"><strong>不操作字符串——&gt;判断字符串是否符合</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-charAt.html">charAt()</a></td><td style="text-align:left;">返回在指定位置的字符。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-charCodeAt.html">charCodeAt()</a></td><td style="text-align:left;">返回在指定的位置的字符的 Unicode 编码。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-startsWith.html">startsWith()</a></td><td style="text-align:left;">查看字符串是否以指定的子字符串开头。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-endsWith.html">endsWith()</a></td><td style="text-align:left;">判断当前字符串是否是以指定的子字符串结尾的（区分大小写）。</td></tr><tr><td style="text-align:left;"><strong>不操作字符串——&gt;返回查找</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-includes-string.html">includes()</a></td><td style="text-align:left;">查找字符串中是否包含指定的子字符串。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-indexOf.html">indexOf()</a></td><td style="text-align:left;">返回某个指定的字符串值在字符串中首次出现的位置。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-lastIndexOf.html">lastIndexOf()</a></td><td style="text-align:left;">从后向前搜索字符串，并从起始位置（0）开始计算返回字符串最后出现的位置。</td></tr><tr><td style="text-align:left;"><strong>不操作字符串——&gt;返回截取部分</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-slice-string.html">slice()</a></td><td style="text-align:left;">提取字符串的片断，并在新的字符串中返回被提取的部分。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-substring.html">substring()</a></td><td style="text-align:left;">提取字符串中两个指定的索引号之间的字符。</td></tr><tr><td style="text-align:left;"><strong>不操作字符串——&gt;返回截拼接/分割</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-concat-string.html">concat()</a></td><td style="text-align:left;">连接两个或更多字符串，并返回新的字符串。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-repeat.html">repeat()</a></td><td style="text-align:left;">复制字符串指定次数，并将它们连接在一起返回。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-split.html">split()</a></td><td style="text-align:left;">把字符串分割为字符串数组。</td></tr><tr><td style="text-align:left;"><strong>正则匹配</strong></td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-match.html">match()</a></td><td style="text-align:left;">查找找到一个或多个正则表达式的匹配。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-replace.html">replace()</a></td><td style="text-align:left;">在字符串中查找匹配的子串，并替换与正则表达式匹配的子串。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-replaceAll.html">replaceAll()</a></td><td style="text-align:left;">在字符串中查找匹配的子串，并替换与正则表达式匹配的所有子串。</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-search.html">search()</a></td><td style="text-align:left;">查找与正则表达式相匹配的值。</td></tr></tbody></table><p><strong>正则相关的方法</strong>详见【正则对象】章节</p><p><strong>长度属性</strong></p><p>JS 使用的是 UTF-16 编码方式</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//显示的是码元的个数 ，</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;😊&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//2 ,因为这个表情是一个码点，但是包含两个码元</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>解决：数组对象的 from 方法，将字符串转化为数组（按照码点）</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;😊&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="数组与字符串对比" tabindex="-1">数组与字符串对比 <a class="header-anchor" href="#数组与字符串对比" aria-label="Permalink to “数组与字符串对比”">​</a></h2><p>数组和字符串有很多方法十分相似，这里整理下</p><table tabindex="0"><thead><tr><th style="text-align:left;">相同的方法</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-includes.html">includes()</a></td><td style="text-align:left;">判断一个数组/字符串是否包含一个指定的值</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-indexOf-array.html">indexOf()</a></td><td style="text-align:left;">从前到后查找数组/字符串中的元素，返回它第一次出现位置的索引</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-lastIndexOf-array.html">lastIndexOf()</a></td><td style="text-align:left;">从后到前查找数组/字符串中的元素，返回它第一次出现位置的索引</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-slice.html">slice()</a></td><td style="text-align:left;">截取数组/字符串</td></tr><tr><td style="text-align:left;"><a target="_blank" href="https://www.runoob.com/jsref/jsref-concat.html">concat()</a></td><td style="text-align:left;">拼接数组/字符串</td></tr></tbody></table><h1 id="展开语法" tabindex="-1">展开语法 <a class="header-anchor" href="#展开语法" aria-label="Permalink to “展开语法”">​</a></h1><p>收集不定个数的参数，放入数组中</p><ul><li>应用在函数参数中</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //...args只能放在最后，接收剩余变量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a, b, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">args); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 1 2 3 4 5 6</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(args); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [3, 4, 5, 6]，注意这里是把接受的参数放入数组中</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//相当于</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1给a,2给b，剩余的3，4，5，6被放到...args中 ,args是[3,4,5,6]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>应用在结构赋值中 <strong>【结构赋值】中会讲到</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [first, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">second] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//first是a,second是[&#39;b&#39;,&#39;c&#39;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>展开语法，可以将任何<strong>可迭代对象</strong>展开（把外层不管是<strong>[]、{}，“ ”，Set，Map</strong>全部脱掉脱掉！）</p><p>例子：展开数组</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1. 展开数组,用数组接收</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr]</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//2. 展开多个数组,用数组接收（合并效果）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;h&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;r&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;q&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;w&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr2]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr3)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [&quot;h&quot;, &quot;e&quot;, &quot;r&quot;, &quot;q&quot;, &quot;w&quot;, &quot;e&quot;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>例子展开对象</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 展开多个对象,用对象接收（合并效果）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hehe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mergeObj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">obj1, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">obj2 };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mergeObj); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出{name: &quot;hehe&quot;, age: 20}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="set" tabindex="-1">Set <a class="header-anchor" href="#set" aria-label="Permalink to “Set”">​</a></h1><p>集合类型，Set 的特点是无序、自动去重</p><h2 id="set-声明" tabindex="-1">Set 声明 <a class="header-anchor" href="#set-声明" aria-label="Permalink to “Set 声明”">​</a></h2><p>创建空集合</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>接收可迭代对象，转化为集合</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;abcd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="set-操作" tabindex="-1">Set 操作 <a class="header-anchor" href="#set-操作" aria-label="Permalink to “Set 操作”">​</a></h2><ul><li>add</li><li>delete 删除指定元素，删除成功返回 true，若不存在，返回 false</li><li>size 返回元素个数</li><li>has 判读是否存在指定元素，存在返回 true，否则返回 false</li><li>clear() 清空数组，无返回值</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s1.size); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="类型转换-set-array" tabindex="-1">类型转换 Set&lt;--&gt;Array <a class="header-anchor" href="#类型转换-set-array" aria-label="Permalink to “类型转换 Set&lt;--&gt;Array”">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Set--&gt;Array</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(set));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">set]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Set&lt;--Array</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">consle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(set); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Set(3) {1, 2, 3}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="应用" tabindex="-1">应用 <a class="header-anchor" href="#应用" aria-label="Permalink to “应用”">​</a></h2><p>取出 set 中小于 3 的，把 set 转为 array，处理完，转会 set 类型</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">set].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(set2); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Set(3) {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>数组去重</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr)];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr2); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [1, 2, 3, 4]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>并集 交集 差集的实现</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//并集</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b])); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Set(4) {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//a-b差集</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item)));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出Set(1) {&quot;a&quot;}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//交集</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item)));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res2); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Set(2) {&quot;b&quot;, &quot;c&quot;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="weakset" tabindex="-1">WeakSet <a class="header-anchor" href="#weakset" aria-label="Permalink to “WeakSet”">​</a></h2><p>WeakSet 和 Set 不同的是，WeakSet 的键必须是<strong>引用类型</strong>。</p><ul><li>add()</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">set.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(set); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//{&quot;a&quot;, &quot;b&quot;, Array(2)}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>weakSet 的弱引用特性</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//在这里b和a指向的是同一块内存地址。这个对象有一个引用计数器，现在值为2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> weakSet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//并不会让引用计数器加1，这就是弱引用</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//当两个变量都不引用了，对象的引用计数器为0，会被垃圾回收期回收。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//注意：这时候WeakSet还在引用这个对象，只不过现在对象为null,WeakSet有可能因为别的操作变成null，因此WeakSet没有size，遍历等方法，以防止出错</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h1 id="map" tabindex="-1">Map <a class="header-anchor" href="#map" aria-label="Permalink to “Map”">​</a></h1><h2 id="map-的声明" tabindex="-1">Map 的声明 <a class="header-anchor" href="#map-的声明" aria-label="Permalink to “Map 的声明”">​</a></h2><p>键名可以是字符串，函数，对象，数值</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Map(3) {&quot;a&quot; =&gt; 1, &quot;b&quot; =&gt; 2, &quot;c&quot; =&gt; 3}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>且键名唯一，同名后面的覆盖前面的</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Map(1) {&quot;a&quot; =&gt; 2}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="map-操作" tabindex="-1">Map 操作 <a class="header-anchor" href="#map-操作" aria-label="Permalink to “Map 操作”">​</a></h2><ul><li>set()</li><li>get() 通过 key 查找 value，不存在的 key 返回 undefined</li><li>delete() 删除成功返回 true，若 map 中没有要删除的键名，则返回 false</li><li>has() 若键名存在，返回 true，否则返回 false</li><li>clear() 清空 map，没有返回值</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Map(1) {&quot;a&quot; =&gt; 1}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Map(0) {}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="类型转换-map-array" tabindex="-1">类型转换 Map&lt;--&gt;Array <a class="header-anchor" href="#类型转换-map-array" aria-label="Permalink to “类型转换 Map&lt;--&gt;Array”">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Map--&gt;Array</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;李四&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;王五&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map]);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [[&quot;张三&quot;, 60],[&quot;李四&quot;, 70],[&quot;王五&quot;, 30]]，注意：这个输出的是一个数组，数组元素也是数组</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出[[&quot;张三&quot;, 60],[&quot;李四&quot;, 70],[&quot;王五&quot;, 30]]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有键转化为数组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [&quot;张三&quot;, &quot;李四&quot;, &quot;王五&quot;]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有值转化为数组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [60, 70, 30]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Array--&gt;Map</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这种声明方式就是用Array转化为Map</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;李四&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;王五&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Map(3) {&quot;张三&quot; =&gt; 60, &quot;李四&quot; =&gt; 70, &quot;王五&quot; =&gt; 30}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">////注意：Array必须符合Map的格式才能转换为Map</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//符合</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//不符合，报错</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;男&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;李四&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;女&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//不符合，但是可以用 输出 Map(2) {&quot;张三&quot; =&gt; 60, &quot;李四&quot; =&gt; 60}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //张三作为key，60作为值，剩下的&quot;男&quot;被略掉了</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>应用，map 转化为 array，完成指定功能后，转换回 map</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//map中筛选出来成绩大于等于60</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;李四&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;王五&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newArray </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map]) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //console.log(value)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (value[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) newArray.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newArray); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 [&quot;张三&quot;, 60] [&quot;王五&quot;, 80]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="weakmap" tabindex="-1">WeakMap <a class="header-anchor" href="#weakmap" aria-label="Permalink to “WeakMap”">​</a></h2><p>如果 key 是对象，将 key 的引用置为 null。map 仍然持有引用</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;测试value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// MapIterator {{}}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// MapIterator {&quot;测试value&quot;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>WeakMap 解决了这个问题</p><h1 id="解构赋值" tabindex="-1">解构赋值 <a class="header-anchor" href="#解构赋值" aria-label="Permalink to “解构赋值”">​</a></h1><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to “基础用法”">​</a></h2><p>结构赋值：等号后侧可以是任何<strong>可迭代对象</strong>解构，赋值给新的变量</p><p>解构数组</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1. 只赋值部分变量:逗号分隔，留下空白，可以跳过不想接收的数据</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [first, , third] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//first是a，second是b</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//2. 只赋值部分变量:后续不用接收，可以不写</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [first] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//first是a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//3. 使用展开语法获取多个值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [first, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">second] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//first是a,second是[&#39;b&#39;,&#39;c&#39;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>解构字符串</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [a, b, c] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;abc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解构 Set</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [one, two, three] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解构 Map</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [one, two, three] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="设置默认值" tabindex="-1">设置默认值 <a class="header-anchor" href="#设置默认值" aria-label="Permalink to “设置默认值”">​</a></h2><p>为变量设置默认值</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  password: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { score </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(score); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//默认值</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="函数参数解构" tabindex="-1">函数参数解构 <a class="header-anchor" href="#函数参数解构" aria-label="Permalink to “函数参数解构”">​</a></h2><p>可以实现命名参数的效果</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">age</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">habit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">score</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">classNum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, score: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="剔除属性" tabindex="-1">剔除属性 <a class="header-anchor" href="#剔除属性" aria-label="Permalink to “剔除属性”">​</a></h2><p>用户信息中剔除秘密属性</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  password: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">other</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(other); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// {name: &#39;tom&#39;, age: 18}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h1 id="遍历" tabindex="-1">遍历 <a class="header-anchor" href="#遍历" aria-label="Permalink to “遍历”">​</a></h1><h2 id="foreach-遍历" tabindex="-1">forEach 遍历 <a class="header-anchor" href="#foreach-遍历" aria-label="Permalink to “forEach 遍历”">​</a></h2><p>数组、Set、Map 支持使用 forEach 遍历</p><p><strong>forEach(function(item[,index,arr]))</strong></p><ul><li>参数 <ul><li>item 每一项数组元素</li><li>index 索引</li><li>调用 forEach 方法的类型</li></ul></li><li>返回值</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">arr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item, index);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//a 0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//b 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//c 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//d 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">set.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //key和value一样，都是set内元素，set是调用forEach的</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value, key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value, key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1 &quot;a&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//2 &quot;b&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="for-key-in-遍历" tabindex="-1">for key in 遍历 <a class="header-anchor" href="#for-key-in-遍历" aria-label="Permalink to “for key in 遍历”">​</a></h2><p>遍历数组的 key，key 就是索引</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;m&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出0 1 2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>遍历对象的 key</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  score: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// name</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// age</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// score</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="for-value-of-遍历可迭代对象" tabindex="-1">for value of 遍历可迭代对象 <a class="header-anchor" href="#for-value-of-遍历可迭代对象" aria-label="Permalink to “for value of 遍历可迭代对象”">​</a></h2><p><strong>可迭代对象的遍历</strong></p><p>数组、字符串、内置的对象、Set、Map 都是<strong>可迭代对象（Iterable）</strong>，可迭代对象均可以使用<strong>for value of</strong>遍历</p><p><strong>注意：</strong>我们自己创建的对象不是可迭代对象，需要自己实现 Symbol.iterator 属性（后面会有详细介绍实现过程），但是内置的对象，都默认实现了，所以可以迭代</p><p>例如：遍历数组的 value</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//值类型不可改变</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 1 2 3 4 5</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>什么是可迭代对象的</strong></p><p>通过自己实现一个可迭代对象来学习，我们给对象添加 for value of（对象不是可迭代对象）</p><ul><li><p>当 <code>for..of</code> 循环时，会调用 Symbol.iterator 方法（如果没找到，就会报错）。这个方法返回一个 <strong>迭代器对象（iterator）</strong></p></li><li><p>迭代器对象中，必须有一个<code>next()</code> 方法，其返回的结果的格式必须是 <code>{done: Boolean, value: any}</code></p><ul><li>当 <code>done=true</code> 时，表示循环结束</li><li>当 <code>done=false</code> 时，表示还有下一个元素，会再次返回下一个迭代器对象，<code>value</code>就是这次的数据</li></ul></li><li><p><code>for..of</code> 循环会自动判断 done 的值，遍历整个可迭代对象</p></li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  score: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stu[Symbol.iterator] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    entriesList: Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//this指向stu对象</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    curIndex: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.curIndex </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.entriesList.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { done: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.entriesList[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.curIndex][</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] }; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//this指向当前这个对象中</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.curIndex</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { done: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//jack</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//18</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//20</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><strong>获取可迭代对象</strong></p><p>我们也可以获取迭代器对象后，手动调用 next 方法</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> iterator </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str[Symbol.iterator](); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//获取带了可迭代对象</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> iterator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//其中的next方法</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (result.done) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result.value); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 一个接一个地输出字符</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="获取迭代器" tabindex="-1">获取迭代器 <a class="header-anchor" href="#获取迭代器" aria-label="Permalink to “获取迭代器”">​</a></h2><p>数组、Set、Map 都有这三个方法，通过这三种方式获取可迭代对象</p><p><strong>keys( )</strong></p><ul><li><p>参数：无</p></li><li><p>返回值：可迭代对象</p></li></ul><p><strong>values()</strong></p><ul><li><p>参数：无</p></li><li><p>返回值：可迭代对象</p></li></ul><p><strong>entries()</strong></p><ul><li><p>参数：无</p></li><li><p>返回值：可迭代对象</p></li></ul><p><strong>数组</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有键</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Object [Array Iterator] {}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Object [Array Iterator] {}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有键和值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 Object [Array Iterator] {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//遍历所有键</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出0 1 2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//遍历所有值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出a b c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//遍历所有键和值，[key,value]是解构</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key, value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0 a</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1 b</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2 c</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>Set</strong></p><p>set 没有键，但是为了使迭代器对所有类型统一，所以让 set 的键和值一样，都是 set 内的元素</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有键</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(set.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 SetIterator {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(set.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 SetIterator {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有键和值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(set.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 SetIterator {&quot;a&quot; =&gt; &quot;a&quot;, &quot;b&quot; =&gt; &quot;b&quot;, &quot;c&quot; =&gt; &quot;c&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//直接遍历</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出a b c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//遍历所有键</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出a b c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//遍历所有值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出a b c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//遍历所有键和值，[value,key]是解构</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> set.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>Map</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 MapIterator {1, 2}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有键</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 MapIterator {&quot;a&quot;, &quot;b&quot;}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//所有键和值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 MapIterator {&quot;a&quot; =&gt; 1, &quot;b&quot; =&gt; 2}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 直接遍历</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出[a,1] [b,2]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//遍历值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出1 2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//遍历key</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出a b</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//遍历值和键，[key,value]用了解构</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 a 1 b 2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//也可直接遍历</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [key, value] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key, value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h1 id="this-的指向" tabindex="-1">this 的指向 <a class="header-anchor" href="#this-的指向" aria-label="Permalink to “this 的指向”">​</a></h1><h2 id="this-指向规则" tabindex="-1">this 指向规则 <a class="header-anchor" href="#this-指向规则" aria-label="Permalink to “this 指向规则”">​</a></h2><ul><li>对于普通函数</li></ul><p>1、this 指向调用者（调用链从右向左找到第一个调用者，如果是对象 this 指向这个对象，如果是函数 this 指向 window）</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//（函数b由函数a调用，函数a由对象obj调用）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  a,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">obj.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//window</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>2、call、apply、bind 会改变普通函数的 this 指向</p><ul><li>对应箭头函数</li></ul><p>this 指向箭头函数所在的作用域。箭头函数的难点在于：其作用域的 this 可能还要沿着调用链找，才能找到</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //作用域</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //作用域</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //作用域</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //作用域</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>注意，对象也是花括号，但是其内部不是作用域</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="充实际场景" tabindex="-1">充实际场景 <a class="header-anchor" href="#充实际场景" aria-label="Permalink to “充实际场景”">​</a></h2><p>this 指向的规则只有上面两点，但是实际场景非常复杂，这部分是用来补充实际场景下 this 指向如何判断</p><ul><li>下面函数实际是挂在了 window 上</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> f1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">f1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//指向window</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//f1实际是挂在了window上。f1的最终调用者是window</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">f1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>this 在入参的函数中。注意：f1 的入参是对象，但是这个对象不是一定是最终调用者</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> f1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  params.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callback1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// this指向params对象。（调用关系:callback1&lt;=params对象 ）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  params.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callback2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  params.action.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//this指向action对象。（调用关系:getInfo&lt;=action对象&lt;=params对象 ）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">f1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  callback1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //普通函数this取决于谁调用了函数callback1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  callback2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //箭头函数this指向，其自身函数所在上下文中的this</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //this指向window。箭头函数的指向不必关心函数f1内部如何调用，</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //只需看到，这里入参对象{}，不是作用域，需要继续向上找，callback2所在作用域=调用f1的函数作用域，所以这里的this是指向window的</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  action: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    getInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //普通函数this取决于谁调用了函数callback1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>完整的例子</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 解构出来的onLoad，调用者应该是window，但是下面使用了call改变了调用者</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">onLoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> params;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (onLoad </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //onLoad的this取决于谁调用了Page。后面可以看到Page是直接调用的，this指向window</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //call强制指定this为{name:&#39;jack&#39;}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    onLoad.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jack&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> params;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (success) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ msg: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (fail </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Page是直接调用的</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onLoad</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //call绑定了{name:&#39;jack&#39;}，当前块级作用域this就是{name:&#39;jack&#39;}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//{name:&#39;jack&#39;}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //注意下面是简写，实际是=》success:function(){ xxx }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//window。success是test调用的,test是函数，this指向window</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//{name:&#39;jack&#39;} 。test所在作用域this是{name:&#39;jack&#39;}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><ul><li>构造函数</li></ul><p>这个需要特殊记忆，前面学过构造函数会创造新的对象，this 就指向这个新对象</p><ul><li>定时器</li></ul><p>定时器函数比较特殊，他会把函数内部的 this 重写为 window【在 node 环境下，会重写成 Timer 对象】</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//【规则5】window</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>解构对象</li></ul><p>例子中解构出来的函数 getThis 的最终调用者是 window</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getThis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">getThis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getThis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//window</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>因为函数 getThis 直接被 window 调用了，箭头函数的当前作用域就是 window</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getThis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">getThis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getThis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//window</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>将函数地址存在新的变量里，调用变量</li></ul><p>注意：lesson.show 并没有调用函数</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lesson </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lesson.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//对象lesson</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">newVar </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lesson.show; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里并没有调用函数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newVar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//window  #这里比较特殊，这里理解为newVar()被挂在window上了</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lesson </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// fn是函数的调用者，所以指向window</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lesson.show); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//window</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>下一节介绍 bind、call、apply 来绑定 this 的指向</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lesson </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//固定this指向了lesson</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lesson.show </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lesson.show.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lesson);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lesson.show); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// lesson对象</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>监听器回调函数一般都用 bind，或者箭头函数</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果不用bind，myListener使用this就会受到addEventListener内部实现的影响</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 用bind可以让我们的myListener函数操作指定的上下文</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// hash路由</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Route</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 监听器函数freshRoute内部的this指向由addEventListener内部如何调用的相关，我们是没法控制的，而且funtion形式this要么指向window，要么执行调用它的对象，肯定不会指向Route实例</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 可是class中函数又没箭头函数的形式，所以为了保证监听器函数freshRoute内部的this能一直访问实例，需要用bind绑定。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 为啥赋值给一个属性？ 因为bind每次执行返回的都是新函数，增加、移除监听器必须都是同一个函数。赋值给属性新增、移除就能用一个函数了</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.freshRoute </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.freshRoute.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  addListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hashchange&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.freshRoute);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  removeListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hashchange&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.freshRoute);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 更新</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  freshRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.currentHash </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> location.hash.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.routes[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.currentHash]();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><ul><li>Object 的实例方法使用 call、bind 绑定对象。这个原因解释在 【对象】-【静态方法、实例方法】</li></ul><p>简单来说就是 Object.prototype 可以访问到实例对象的成员，但是没有实例对象</p><p>JS 中可以通过 call 给实例方法绑定对象</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.hasOwnProperty.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.toString.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>闭包中的 this</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// function形式</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 箭头函数形式</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 调用方式1：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 返回的是内部return的函数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 调用方式2：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 或</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> util</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">util</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 都是使用箭头函数指向window，使用function指向createRequest内部的this指向</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 调用方式2的例子</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> util</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使用箭头函数指向window，使用function指向 obj</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="call-apply-bind" tabindex="-1">call apply bind <a class="header-anchor" href="#call-apply-bind" aria-label="Permalink to “call apply bind”">​</a></h2><p>用于设置普通函数中的 this 的指向</p><p>构造函数中 this，this 指向的是本身,是空白的。new 新的对象后，传入参数那么，对象内部才有的<code>name: &quot;张三&quot;</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 User {name: &quot;张三&quot;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>call</strong></p><p>call 的第一个参数：初始 User 对象，放入到第一个参数对象之中；</p><p>call 中剩下的参数给了 User 对象中的参数赋值。</p><p>注意：这里 this 已经指向 obj，name 的赋值操作,其实把”张三“，放到了 obj 之中，最后改变了 obj 的值</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">User.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;张三&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//call和apply都是立即执行User函数，这时候this指向obj</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 {age: 20, name: &quot;张三&quot;}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>call与apply区别</span></span>
<span class="line"><span></span></span>
<span class="line"><span>相同点：两个都是立即执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>不同点：传递函数参数时，apply需要把所有的参数放到数组中</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let lisi={</span></span>
<span class="line"><span>    name:&quot;李四&quot;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function User(age,score){</span></span>
<span class="line"><span>    console.log(this.name,age,score)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>//注意看这里，call和apply立即执行，其中的this已经指向了lishi这个对象</span></span>
<span class="line"><span>User.call(lisi,18,100) //李四 18 100</span></span>
<span class="line"><span>User.apply(lisi,[18,100]) //李四 18 100</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>bind</span></span>
<span class="line"><span></span></span>
<span class="line"><span>bind与call，apply的不同是，bind不能立即执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function show(age,score){</span></span>
<span class="line"><span>    console.log(this.name,age,score)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>//使用call</span></span>
<span class="line"><span>show.call({name:&quot;张三&quot;},20,99)//输出 张三 20 99</span></span>
<span class="line"><span>//使用apply</span></span>
<span class="line"><span>show.apply({name:&quot;张三&quot;},[21,80])//输出 张三 21 80</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//----重点开始----</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//使用bind，返回值是show函数，所以在后面加()才能组成立即执行函数</span></span>
<span class="line"><span>console.log(show.bind({name:&quot;张三&quot;},19))</span></span>
<span class="line"><span>//输出</span></span>
<span class="line"><span>//ƒ show(age,score){</span></span>
<span class="line"><span>//    console.log(this.name,age,score)</span></span>
<span class="line"><span>//}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>////可以直接传参数</span></span>
<span class="line"><span>let res=show.bind({name:&quot;张三&quot;},19,95)</span></span>
<span class="line"><span>res()//输出 张三 19 95</span></span>
<span class="line"><span></span></span>
<span class="line"><span>////可以调用时传参数</span></span>
<span class="line"><span>let res=show.bind({name:&quot;张三&quot;})</span></span>
<span class="line"><span>res(19,95)//输出 张三 19 95gh</span></span>
<span class="line"><span></span></span>
<span class="line"><span>////假如同时传参，以使用bind是传的参数优先</span></span>
<span class="line"><span>let res=show.bind({name:&quot;张三&quot;},19,95)</span></span>
<span class="line"><span>res(20,100)//输出 张三 19 95</span></span>
<span class="line"><span>let res=show.bind({name:&quot;张三&quot;},19)</span></span>
<span class="line"><span>res(20,100)//输出 张三 19 20，res调用时的20，自动略去了</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>应用</span></span>
<span class="line"><span>其实，最主要的应用分为两种场景：this指向当前上下文、指向使用上下文</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>以小程序为例子</span></span>
<span class="line"><span></span></span>
<span class="line"><span>封装了工具函数handlerXXX</span></span>
<span class="line"><span></span></span>
<span class="line"><span>import handlerXXX from &#39;xxx.js&#39;</span></span>
<span class="line"><span>Page({</span></span>
<span class="line"><span>	onLoad(){</span></span>
<span class="line"><span>		// 函数中的this指向函数内部</span></span>
<span class="line"><span>		handlerXXX()</span></span>
<span class="line"><span>		// 函数中的this指向当前页面</span></span>
<span class="line"><span>		handlerXXX.call(this)</span></span>
<span class="line"><span>	}</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>Math对象</span></span>
<span class="line"><span>只介绍下，Math常用的（静态）方法</span></span>
<span class="line"><span></span></span>
<span class="line"><span>函数	描述</span></span>
<span class="line"><span>abs(x)	返回 x 的绝对值</span></span>
<span class="line"><span>ceil(x)	向上取整</span></span>
<span class="line"><span>floor(x)	向下取整</span></span>
<span class="line"><span>max(x,y,z,...,n)	返回 x,y,z,...,n 中的最高值</span></span>
<span class="line"><span>min(x,y,z,...,n)	返回 x,y,z,...,n中的最低值</span></span>
<span class="line"><span>random()	返回 0 ~ 1 之间的随机数</span></span>
<span class="line"><span>round(x)	四舍五入，保留整数</span></span>
<span class="line"><span>sqrt(x)	返回数的平方根</span></span>
<span class="line"><span>pow(x,y)	返回 x 的 y 次幂</span></span>
<span class="line"><span>传入的参数会通过Number转化为数字后在运算，如果参数中有被转化为NaN的，则返回NaN</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Date对象</span></span>
<span class="line"><span>Date对象</span></span>
<span class="line"><span>创建Date对象，返回的都是当地时区的时间对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>无参数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var today = new Date() //获取设备当前的时间</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>参数是时间戳</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var today = new Date(1681975460517)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>参数是年月日时分秒毫秒</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>new Date(year, monthIndex [, day [, hours [, minutes [, seconds [, milliseconds]]]]]);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//注意：</span></span>
<span class="line"><span>//1. year, monthInde两个参数必传的。如果只传入一个数，会被当成时间戳</span></span>
<span class="line"><span>//2. 其中monthIndex=0，表示的是1月,11为12月</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span></span></span>
<span class="line"><span>new Date(2022,0) //Sat Jan 01 2022 00:00:00 GMT+0800 (中国标准时间)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>参数是日期字符串</span></span>
<span class="line"><span></span></span>
<span class="line"><span>即将日期字符串转换为时间对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>new Date(dateString);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 入参格式建议为（年份为4位，其他必须为两位）：</span></span>
<span class="line"><span>//&#39;yyyy-mm-dd HH:MM:SS&#39; 、 &#39;yyyy/mm/dd HH:MM:SS&#39;</span></span>
<span class="line"><span>//&#39;yyyy-mm-dd&#39; 、 &#39;yyyy/mm/dd&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//注意:</span></span>
<span class="line"><span>//1. 当你使用字符串这个形式的时候, 1 表示 1 月, 12 表示 12 月</span></span>
<span class="line"><span>//2. 年月日与时分秒中间有一个空格</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 注意：巨坑，Date格式化 年月日，返回的时间不是当天的0点，而是当天的8点</span></span>
<span class="line"><span>new Date(&quot;2022-01-20&quot;) //Thu Jan 20 2022 08:00:00 GMT+0800 (中国标准时间)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>new Date(&quot;2022-01-20 14:30:00&quot;) //Thu Jan 20 2022 14:30:00 GMT+0800 (中国标准时间)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>new Date(&quot;2022/01/20 14:30:00&quot;) //Thu Jan 20 2022 14:30:00 GMT+0800 (中国标准时间)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>Date对象的运算</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function getDates(startDate, endDate) {</span></span>
<span class="line"><span>  const dates = [];</span></span>
<span class="line"><span>  const currentDate = new Date(startDate);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //可比较大小</span></span>
<span class="line"><span>  while (currentDate &lt;= endDate) {</span></span>
<span class="line"><span>    dates.push(new Date(currentDate));</span></span>
<span class="line"><span>    currentDate.setDate(currentDate.getDate() + 1);</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  return dates;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 示例用法</span></span>
<span class="line"><span>const startDate = new Date(&#39;2023-01-01&#39;);</span></span>
<span class="line"><span>const endDate = new Date(&#39;2023-01-10&#39;);</span></span>
<span class="line"><span>const dates = getDates(startDate, endDate);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>dates.forEach(date =&gt; console.log(date.toISOString().split(&#39;T&#39;)[0]));</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>Date对象的方法</span></span>
<span class="line"><span>Data对象的方法	描述</span></span>
<span class="line"><span>getDay()	返回Date对象的是星期几（0～6，0是星期日）</span></span>
<span class="line"><span>getFullYear()	返回Date对象的年份（四位数，例如2022）</span></span>
<span class="line"><span>getMonth()	返回Date对象的月份 (0 ~ 11，0指的是1月，之后类推)</span></span>
<span class="line"><span>getDate()	返回Date对象的日</span></span>
<span class="line"><span>getHours()	返回Date对象的小时 (0 ~ 23)</span></span>
<span class="line"><span>getMinutes()	返回 Date 对象的分钟 (0 ~ 59)</span></span>
<span class="line"><span>getSeconds()	返回 Date 对象的秒数 (0 ~ 59)</span></span>
<span class="line"><span>getMilliseconds()	返回 Date 对象的毫秒(0 ~ 999)</span></span>
<span class="line"><span>时间戳</span></span>
<span class="line"><span>getTime()	返回 1970 年 1 月 1 日至今的毫秒数（时间戳）</span></span>
<span class="line"><span>时间戳</span></span>
<span class="line"><span>一共有3种方式</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>new Date().getTime()</span></span>
<span class="line"><span>new Date()*1</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Date.now()//直接用Date对象，返回当前时间的时间戳(毫秒)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>实践</span></span>
<span class="line"><span>注：两个时间对象比较，一般都是使用时间戳</span></span>
<span class="line"><span></span></span>
<span class="line"><span>计算两个日期相差的天数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let now=new Date()</span></span>
<span class="line"><span>let end=new Date().setFullYear(2050,11,22)//月份是从0开始的，这里是12月22日。这里end是时间戳</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let res=(end-now)/ (1*24*60*60*1000)</span></span>
<span class="line"><span>console.log(&quot;距离时间&quot;,res)//打印当前时间到2020-11-22的天数</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>计算今天是指定的某一天</span></span>
<span class="line"><span></span></span>
<span class="line"><span>通常的思路是分别获取两个时间的年、月、日，然后分别比较，都是一样的就是同一天</span></span>
<span class="line"><span></span></span>
<span class="line"><span>其实这个也可以用时间戳</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function isToday(dataStr){</span></span>
<span class="line"><span>  todayDateStamp=new Date().setHours(0,0,0,0) //返回的是当天0时0分0秒0毫秒（参数分别是 时、分、秒、毫秒，必须都写0）</span></span>
<span class="line"><span>	if(new Date(dataStr).setHours(0,0,0,0)===todayDateStamp){</span></span>
<span class="line"><span>		console.log(&quot;同一天&quot;)</span></span>
<span class="line"><span>    return true</span></span>
<span class="line"><span>	}</span></span>
<span class="line"><span>  return false</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>isToday(&#39;2022-08-03&#39;)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>格式化时间 ：由于JS中没有提供相关的功能，所以需要自己实现</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//格式化时间的函数</span></span>
<span class="line"><span>let date=new Date()</span></span>
<span class="line"><span>function dateFormat(date,format=&#39;YYYY-MM-DD HH:mm:SS&#39;){</span></span>
<span class="line"><span>    const config={</span></span>
<span class="line"><span>        YYYY:date.getFullYear(),</span></span>
<span class="line"><span>        MM:date.getMonth()+1,</span></span>
<span class="line"><span>        DD:date.getDate(),</span></span>
<span class="line"><span>        HH:date.getHours(),</span></span>
<span class="line"><span>        mm:date.getMinutes(),</span></span>
<span class="line"><span>        SS:date.getSeconds()</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span>    for(const key in config){</span></span>
<span class="line"><span>        format=format.replace(key,config[key])</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return format</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>console.log(dateFormat(date,&quot;YYYY年-MM月-DD日&quot;))//输出 2020年-5月-11日</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>正则对象</span></span>
<span class="line"><span>正则对象介绍</span></span>
<span class="line"><span>构造函数方式：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var patt=new RegExp(pattern,modifiers)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>字面量方式：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var patt=/pattern/modifiers;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>注意：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>pattern是正则表达式串</span></span>
<span class="line"><span></span></span>
<span class="line"><span>modifiers是修饰符，用于指定全局匹配、区分大小写的匹配和多行匹配等规则</span></span>
<span class="line"><span></span></span>
<span class="line"><span>修饰符可以连用，比如/xxxx/gmi</span></span>
<span class="line"><span></span></span>
<span class="line"><span>修饰符	描述</span></span>
<span class="line"><span>i	执行对大小写不敏感的匹配</span></span>
<span class="line"><span>g	执行全局匹配（查找所有匹配，不用这个修饰符默认找到第一个匹配后停止）</span></span>
<span class="line"><span>m	多行匹配 （https://zh.javascript.info/regexp-multiline-mode）</span></span>
<span class="line"><span>s	启用 “dotall” 模式，允许点 . 匹配换行符 \n</span></span>
<span class="line"><span>u	开启完整的 Unicode 支持。该修饰符能够正确处理代理对 （https://zh.javascript.info/regexp-unicode）</span></span>
<span class="line"><span>y	粘滞模式，在文本中的确切位置搜索 （https://zh.javascript.info/regexp-sticky）</span></span>
<span class="line"><span>正则对象属性</span></span>
<span class="line"><span>属性	描述</span></span>
<span class="line"><span>constructor	返回一个函数，该函数是一个创建 RegExp 对象的原型。</span></span>
<span class="line"><span>global	返回布尔值，判断是否设置了 &quot;g&quot; 修饰符</span></span>
<span class="line"><span>ignoreCase	返回布尔值，判断是否设置了 &quot;i&quot; 修饰符</span></span>
<span class="line"><span>multiline	返回布尔值，判断是否设置了 &quot;m&quot; 修饰符</span></span>
<span class="line"><span>source	返回正则表达式字符串</span></span>
<span class="line"><span>lastIndex	用于规定下次匹配的起始位置</span></span>
<span class="line"><span>例子</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(/\w+/g.global)  //true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(/\w+/i).ignoreCase  //true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(/\w/i).source // &#39;\\w+&#39;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>lastIndex的例子</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 该属性只有设置标志 g 才能使用</span></span>
<span class="line"><span>// 该属性是可读可写的。RegExp.exec() 和 RegExp.test()都以 lastIndex 属性所指的位置作为本次检索的终点</span></span>
<span class="line"><span>// 找不到可以匹配的文本时，RegExp.exec() 和 RegExp.test()会自动把 lastIndex 属性重置为 0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>var str=&quot;The rain in Spain stays mainly in the plain&quot;;</span></span>
<span class="line"><span>var patt1=/ain/g;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>while (patt1.test(str)==true)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    document.write(`ain lastIndex at: ${patt1.lastIndex}`)</span></span>
<span class="line"><span>    document.write(&quot;&lt;br&gt;&quot;);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&#39;ain&#39; lastIndex at: 8</span></span>
<span class="line"><span>&#39;ain&#39; lastIndex at: 17</span></span>
<span class="line"><span>&#39;ain&#39; lastIndex at: 28</span></span>
<span class="line"><span>&#39;ain&#39; lastIndex: 43</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>正则对象方法</span></span>
<span class="line"><span>方法	描述</span></span>
<span class="line"><span>exec	检索字符串中指定的值。返回找到的值，并确定其位置。</span></span>
<span class="line"><span>test	检索字符串中指定的值。返回 true 或 false。</span></span>
<span class="line"><span>toString	返回正则表达式的字符串。</span></span>
<span class="line"><span>exec</span></span>
<span class="line"><span></span></span>
<span class="line"><span>返回正则表达式匹配到的值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>参数：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>待检索的字符串</span></span>
<span class="line"><span>返回值：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果字符串中有匹配的值返回该匹配值，否则返回 null。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/Hello/g.exec(&quot;Hello world! Helloo&quot;)  //输出：Hello</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>test</span></span>
<span class="line"><span></span></span>
<span class="line"><span>判断字符串中是否有正则表达式能匹配的值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>参数：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>待检索的字符串</span></span>
<span class="line"><span>返回值：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>布尔值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/a/.test(&quot;ab cde&quot;) //true</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>toString</span></span>
<span class="line"><span></span></span>
<span class="line"><span>与source属性一样</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(/\w+/i).source //输出： /\w+/i</span></span>
<span class="line"><span>console.log(/\w+/i.toString())   //输出 /\w+/i</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>字符串对象的正则方法</span></span>
<span class="line"><span>方法	描述</span></span>
<span class="line"><span>search	检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串</span></span>
<span class="line"><span>match	找到一个或多个正则表达式的匹配</span></span>
<span class="line"><span>replace	替换与正则表达式匹配的子串</span></span>
<span class="line"><span>split	把字符串分割为字符串数组</span></span>
<span class="line"><span>字符串的正则方法非常强大，可以从文本中直接匹配出来我们需要的内容</span></span>
<span class="line"><span></span></span>
<span class="line"><span>search</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>match</span></span>
<span class="line"><span></span></span>
<span class="line"><span>搭配正则的捕获组，可以从文本中提取我们需要的部分</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意：match的正则一般不要加g，避免出错</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const matchRes=&#39;薪水 20-30K&#39;.match(/^薪水 (.*)-(.*)K$/)</span></span>
<span class="line"><span>if(matchRes){</span></span>
<span class="line"><span>  console.log(&#39;最低薪水&#39;,matchRes[1])</span></span>
<span class="line"><span>  console.log(&#39;最高薪水&#39;,matchRes[2])</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// (.*) 是正则的捕获组，.*表示任意数量的字符</span></span>
<span class="line"><span>// 注意：捕获组匹配不到,返回null。下面的replace方法匹配不到返回空字符串</span></span>
<span class="line"><span>// 匹配到,返回值matchRes是个类数组对象，索引0是输入字符串、索引1是第1个捕获组，索引2是第2个捕获组</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>如果我们匹配到字母文本后，需要将字母转化为大写，就可以用replace。参照：replace的用法3</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// \b 适合提取英文单词，注意尾部如果有空格也会提取出来</span></span>
<span class="line"><span>&quot;  abc cde fgh hi &quot;.match(/\b(.*)\b/g)</span><span> //  [&#39;abc cde fgh hi&#39;, &#39;&#39;]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 所以，一般用 \w+ ， \w表示数字、字母、下划线，+表示大于等于1，所以可以过滤掉空</span></span>
<span class="line"><span>&quot;  abc cde fgh hi &quot;.match(/\b(\w+)\b/g)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>replace</span></span>
<span class="line"><span></span></span>
<span class="line"><span>文档：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 返回替换后的值。原字符串未改变</span></span>
<span class="line"><span>&#39;xxxx&#39;.replace(pattern, replacement)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>用法</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 用法1</span></span>
<span class="line"><span>&quot;hello&quot;.replace(&#39;h&#39;, &#39;H&#39;);</span><span> // &quot;_xxx&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 用法2：pattern是空字符串，则插入字符串开头</span></span>
<span class="line"><span>&quot;xxx&quot;.replace(&#39;&#39;, &#39;_&#39;);</span><span> // &quot;_xxx&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 用法3：pattern是正则</span></span>
<span class="line"><span>&#39;[object Array]&#39;.replace(/^\[object (.*)\]$/, &#39;$1&#39;);</span><span> // $1表示第一个捕获组。返回&#39;Array&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 用法3：replacement可以是函数</span></span>
<span class="line"><span>&quot;a1b&quot;.replace(/[a-z]/g, (match,offset) =&gt; {</span></span>
<span class="line"><span>  console.log(match,offset); // a 0 ; b 2</span></span>
<span class="line"><span>  return match.toUpperCase();</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 当正则中存在匹配组时， match,...pN,offset ，其中pN就是匹配组</span></span>
<span class="line"><span>&#39;[object Array]&#39;.replace(/^\[object (.*)\]$/, (match, p1)=&gt;{</span></span>
<span class="line"><span>  	// match是正则匹配到的文本，p1是第一个捕获组。如果有第二个捕获组，就再加1个入参</span></span>
<span class="line"><span>  	// 注意：捕获组匹配不到是空字符串</span></span>
<span class="line"><span>    console.log(match, p1) // [object Array] Array</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return p1.toLowerCase()</span></span>
<span class="line"><span>}); // 返回 &#39;array&#39;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>错误对象</span></span>
<span class="line"><span>错误对象</span></span>
<span class="line"><span>JS内建的错误对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Error</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Error是错误的基类型，其他错误类型继承自该类型 。一般是开发者抛出</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>throw Error(&#39;错误提示文案&#39;)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>ReferenceError</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用了未声明的变量</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(a) //ReferenceError: a is not defined</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>SyntaxError</span></span>
<span class="line"><span></span></span>
<span class="line"><span>语法错误，这个错误触发的情况挺多不具体列举了</span></span>
<span class="line"><span></span></span>
<span class="line"><span>TypeError</span></span>
<span class="line"><span></span></span>
<span class="line"><span>JS的某些函数的参数是有类型限制的，如果传入了错误的类型会抛出错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span>还有就是更为常见的，使用了.方法，试图访问null或者undefined的属性</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(null.a)//TypeError: Cannot read property &#39;a&#39; of null</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(undefined.a)//TypeError: Cannot read property &#39;a&#39; of null</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>InternalError</span></span>
<span class="line"><span></span></span>
<span class="line"><span>JS引擎发生异常时，例如栈溢出</span></span>
<span class="line"><span></span></span>
<span class="line"><span>EvalError</span></span>
<span class="line"><span></span></span>
<span class="line"><span>eval函数的错误使用触发的异常</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>new eval()  //抛出EvalError</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>RangeError</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用Array构造数组时,传入负数或者Number.MAX_VALUE</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let a=new Array(-120) //RangeError: Invalid array length</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let a=new Array(Number.MAX_VALUE) //RangeError: Invalid array length</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>URIError</span></span>
<span class="line"><span></span></span>
<span class="line"><span>只出现在encodeURI()和decodeURI()，传入错误参数，这两个函数非常健壮，极特殊情况下的参数才会报错</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(encodeURI(&#39;\uD800&#39;)) //URIError: URI malformed</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>错误对象</span></span>
<span class="line"><span>使用new关键字，可以创建错误实例</span></span>
<span class="line"><span></span></span>
<span class="line"><span>错误实例的结构</span></span>
<span class="line"><span></span></span>
<span class="line"><span>对于所有内建的错误定向，都具有两个主要属性：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>name</span></span>
<span class="line"><span></span></span>
<span class="line"><span>错误名称。例如，Error对象的name是&quot;Error&quot;，ReferenceError对象的name就是&quot;ReferenceError&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>message</span></span>
<span class="line"><span></span></span>
<span class="line"><span>关于该错误的详细文字描述</span></span>
<span class="line"><span></span></span>
<span class="line"><span>还有其他非标准的属性（虽然不是官方规范，但是在大多数环境中可用），例如：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>stack</span></span>
<span class="line"><span></span></span>
<span class="line"><span>当前的调用栈：用于调试目的的一个字符串，其中包含有关导致 error 的嵌套调用序列的信息</span></span>
<span class="line"><span></span></span>
<span class="line"><span>错误类的伪代码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>JS自身定义的内建的 Error 类的“伪代码”</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Error {</span></span>
<span class="line"><span>  constructor(message) {</span></span>
<span class="line"><span>    this.message = message;</span></span>
<span class="line"><span>    this.name = &quot;Error&quot;; // (不同的内建 error 类有不同的名字)</span></span>
<span class="line"><span>    this.stack = &lt;call stack&gt;; // 非标准的，但大多数环境都支持它</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>例子</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let error = new Error(message);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let syntaxError = new SyntaxError(message);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>错误name 属性刚好就是构造器的名字，message 则来自于参数。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>捕获错误对象</span></span>
<span class="line"><span>基本语法</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可以使用try...catch语法捕获错误实例。如果发生了错误，但是没有捕获到该错误实例，那JS代码就会终止执行，然后再控制台打印出错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>try{</span></span>
<span class="line"><span>  //可能会出错的代码</span></span>
<span class="line"><span>}catch(err){</span></span>
<span class="line"><span>  //err就是try中抛出的错误实例</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}finall{</span></span>
<span class="line"><span>  //最终一定会执行</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>try中错误的来源</span></span>
<span class="line"><span></span></span>
<span class="line"><span>代码中自动抛出的错误实例，一般是各种语法错误。比如，这个TypeError就是代码自动抛出的错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>try{</span></span>
<span class="line"><span>    console.log(null.a)</span></span>
<span class="line"><span>}catch (err){</span></span>
<span class="line"><span>    console.log(err) //TypeError: Cannot read property &#39;a&#39; of null</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>//name:TypeError ,  message: Cannot read property &#39;a&#39; of null</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>开发者根据业务主动抛出错误实例。使用JS内建的错误构造器，构造出错误实例，通过throw抛出（省略new关键字）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>JS允许将 throw 与任何参数一起使用，比如抛出一个字符串，catch中的参数就是这个字符串，一般还是建议throw一个错误对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>入参一般是字符串，放置在错误对象的message字段中</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>try{</span></span>
<span class="line"><span>    throw Error(&quot;这里是错误&quot;) // name:Error ,  message: 传入的参数</span></span>
<span class="line"><span>}catch (err){</span></span>
<span class="line"><span>    console.log(err.message) //这里是错误</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>入参可以是对象，但是不建议这么做</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>try{</span></span>
<span class="line"><span>    throw Error({name:&#39;tom&#39;}) // name:Error ,  message: 传入的参数</span></span>
<span class="line"><span>}catch (err){</span></span>
<span class="line"><span>    console.log(err.message) // [object Object]</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>如何在catch中处错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span>我们应该在catch中进行判断，明确哪些错误是需要进行处理的，哪些错误是不处理，对不处理的错误要再次抛出</span></span>
<span class="line"><span></span></span>
<span class="line"><span>切记：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>不能在catch中捕获所有的错误后，不做区分，对所有错误都不再次抛出。这样有可能掩盖真正的代码错误（比如语法错误），使得程序问题难以排查</span></span>
<span class="line"><span></span></span>
<span class="line"><span>流程：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用instanceof对错误进行判断（或者使用err.name进行判断）</span></span>
<span class="line"><span>使用throw再次抛出未处理的错误</span></span>
<span class="line"><span>例如：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>要求外部输入的JSON字段必须有name属性，否则不符合业务要求。</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//假设json是外部用户输入的数据</span></span>
<span class="line"><span>let json = &#39;{ &quot;age&quot;: 30 }&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>try {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    let user = JSON.parse(json);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if (!user.name) {</span></span>
<span class="line"><span>        throw new SyntaxError(&quot;缺少name字段&quot;);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>} catch (err) {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if (err instanceof SyntaxError) {</span></span>
<span class="line"><span>        console.log(err);//可以在这里加一个弹窗，提示用户</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        throw err; // 再次抛出</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>try语法补充</span></span>
<span class="line"><span></span></span>
<span class="line"><span>finally 子句适用于 try...catch 的 任何 出口。这包括 return</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function testFinally(){</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        return 1;//执行到这里就结束了，下一句错误的语句不会被执行，所有也没有错误被catch捕获</span></span>
<span class="line"><span>        null.a</span></span>
<span class="line"><span>    } catch(err){</span></span>
<span class="line"><span>        console.log(&quot;catch到错误&quot;,err)</span></span>
<span class="line"><span>    }finally{</span></span>
<span class="line"><span>        return 3;//一定会执行</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(testFinally())  //3</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>自定义错误类</span></span>
<span class="line"><span>JS内置的错误类，可能并不能满足我们的业务要求，我们需要特定的错误对象来描述具体的业务错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span>上一节【部或错误对象】中出现的例子：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>要求外部输入的JSON字段必须有name属性，否则不符合业务要求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在代码里面，我们抛出的是JS内置的语法错误，但其实JSON必须要有name属性，是我们的业务要求，其并不是一个JS的语法错误，所以，为了和真正的JS语法错误区分开，我们需要定义自己的错误对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//假设json是外部用户输入的数据</span></span>
<span class="line"><span>let json = &#39;{ &quot;age&quot;: 30 }&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>try {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    let user = JSON.parse(json);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if (!user.name) {</span></span>
<span class="line"><span>        throw new SyntaxError(&quot;缺少name字段&quot;);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>} catch (err) {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if (err instanceof SyntaxError) {</span></span>
<span class="line"><span>        console.log(err);//可以在这里加一个弹窗，提示用户</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        throw err; // 再次抛出</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>自定义错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可以根据自己的需要，在下面的基础上添加更多的字段记录需要的错误信息</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class ValidationError extends Error {</span></span>
<span class="line"><span>  constructor(message) {</span></span>
<span class="line"><span>    super(message);</span></span>
<span class="line"><span>    this.name = &quot;ValidationError&quot;;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>如果不希望手动设置name字段</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class ValidationError extends Error {</span></span>
<span class="line"><span>  constructor(message) {</span></span>
<span class="line"><span>    super(message);</span></span>
<span class="line"><span>    this.name = this.constructor.name; //自动以类名作为错误对象的name字段</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>错误类的体系结构</span></span>
<span class="line"><span></span></span>
<span class="line"><span>通过继承来构建一整个错误体系</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20220703171209534</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Proxy与Reflect</span></span>
<span class="line"><span></span></span>
<span class="line"><span>(() =&gt; {</span></span>
<span class="line"><span>  const stu = {</span></span>
<span class="line"><span>    name: 1,</span></span>
<span class="line"><span>    score: {</span></span>
<span class="line"><span>      math: {</span></span>
<span class="line"><span>        title:&#39;1&#39;</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>  };</span></span>
<span class="line"><span>  const handler = {</span></span>
<span class="line"><span>    get(target,prop){</span></span>
<span class="line"><span>        let val = Reflect.get(target, prop);</span></span>
<span class="line"><span>        if(val instanceof Object){</span></span>
<span class="line"><span>            return new Proxy(val,handler)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        return val</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    set(target, prop, val) {</span></span>
<span class="line"><span>        console.log(target, prop, val)</span></span>
<span class="line"><span>      let val = Reflect.get(target, prop);</span></span>
<span class="line"><span>      if(val instanceof Object){</span></span>
<span class="line"><span>          new Proxy(val,handler)</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      val[prop]=val</span></span>
<span class="line"><span>      return true;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>  };</span></span>
<span class="line"><span>  const newStu = new Proxy(stu, handler);</span></span>
<span class="line"><span>  newStu.score.math.title = 3;</span></span>
<span class="line"><span>  //难以置信---》 newStu.score.math.title 等价于</span></span>
<span class="line"><span>  //   newStu.score  get拦截到score为对象就 return 新的Proxy(score,handler)</span></span>
<span class="line"><span>  //   (get拦截器return的值).math   get拦截到math为对象就 return 新的Proxy(math,handler)</span></span>
<span class="line"><span>  //   (get拦截器return的值).title=3 这里不会触发get，而是set</span></span>
<span class="line"><span>})();</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>实现一个写时深拷贝</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function produce(base, recipe) {</span></span>
<span class="line"><span>  // 预定义一个 copy 副本</span></span>
<span class="line"><span>  let copy;</span></span>
<span class="line"><span>  let lastKey;</span></span>
<span class="line"><span>  // 定义 base 对象的 proxy handler</span></span>
<span class="line"><span>  const baseHandler = {</span></span>
<span class="line"><span>    get(target,key){ // a.b.c=1</span></span>
<span class="line"><span>        if (!copy) {</span></span>
<span class="line"><span>         copy = { ...target };</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        const val=Reflect.get(target,key)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        if(val instanceof Object){</span></span>
<span class="line"><span>            lastKey=key</span></span>
<span class="line"><span>            return new Proxy(val,baseHandler)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        return val</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    set(target, key, value) {</span></span>
<span class="line"><span>      // 先检查 copy 是否存在，如果不存在，创建 copy</span></span>
<span class="line"><span>      if (!copy) {</span></span>
<span class="line"><span>        copy[lastKey] = { ...target };</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      copy[lastKey][key] = value;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      return true;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>  };</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 被 proxy 包装后的 base 记为 draft</span></span>
<span class="line"><span>  const draft = new Proxy(base, baseHandler);</span></span>
<span class="line"><span>  // 将 draft 作为入参传入 recipe</span></span>
<span class="line"><span>  recipe(draft);</span></span>
<span class="line"><span>  // 返回一个被“冻结”的 copy，如果 copy 不存在，表示没有执行写操作，返回 base 即可</span></span>
<span class="line"><span>  // “冻结”是为了避免意外的修改发生，进一步保证数据的纯度</span></span>
<span class="line"><span>  return Object.freeze(copy || base);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const stu={</span></span>
<span class="line"><span>    name:&#39;tom&#39;,</span></span>
<span class="line"><span>    score:{</span></span>
<span class="line"><span>        english:100,</span></span>
<span class="line"><span>        math:80</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const deepData=produce(stu,(data)=&gt;{</span></span>
<span class="line"><span>    data.score.math=1</span></span>
<span class="line"><span>    // data.name=1</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>console.log(deepData)</span></span>
<span class="line"><span>console.log(deepData===stu)</span></span>
<span class="line"><span>console.log(deepData.score===stu.score)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>49</span></span>
<span class="line"><span>50</span></span>
<span class="line"><span>51</span></span>
<span class="line"><span>52</span></span>
<span class="line"><span>53</span></span>
<span class="line"><span>Promise</span></span>
<span class="line"><span>Promise介绍</span></span>
<span class="line"><span>Promise是用来处理异步函数的利器，相较于传统的回调函数的弊端（回调地狱）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Promise包含pending、fulfilled、rejected三种状态</span></span>
<span class="line"><span></span></span>
<span class="line"><span>pending 指初始等待状态，初始化 promise 时的状态</span></span>
<span class="line"><span>fulfilled 指已经解决</span></span>
<span class="line"><span>rejected 指失败</span></span>
<span class="line"><span>pending只能转化为最终态fulfilled或reject，且转化不可逆</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20231222125752813</span></span>
<span class="line"><span></span></span>
<span class="line"><span>创建Promise</span></span>
<span class="line"><span>注意：最终态Promise可以携带数据</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Pending状态</span></span>
<span class="line"><span></span></span>
<span class="line"><span>创建一个Pending状态的Promise</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>p=new Promise()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>变更状态：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p1=new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>  	// 调用resolve函数后，Promise从pending态转变为fulfilled态</span></span>
<span class="line"><span>    resolve(&quot;成功状态Promise携带的数据&quot;)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p2=new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>  	// 调用reject函数后，Promise从pending态转变为rejected态</span></span>
<span class="line"><span>    reject(&quot;成功失败Promise携带的数据&quot;)  // 习惯上抛出Error对象，例如 reject(new Error(&quot;失败的信息&quot;))</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>Promise的构造函数入参是一个回调函数，Promise内部会向会回调函数的入参中塞入resolve、reject函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这样在回调函数中，就可以控制Promise内部的行为</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Promise{</span></span>
<span class="line"><span>	constructor(executor){</span></span>
<span class="line"><span>		executor(this.resolve,this.reject)</span></span>
<span class="line"><span>	}</span></span>
<span class="line"><span>	resolve(){}</span></span>
<span class="line"><span>	reject(){}</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>Fulfilled状态</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用 promise.resolve 方法可以快速的返回一个成功状态的promise对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Promise.resolve(&quot;成功的信息&quot;)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>Reject状态</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Promise.reject(new Error(&quot;失败的信息&quot;))</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>流水线then</span></span>
<span class="line"><span>then是Promise实例上的函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>入参</span></span>
<span class="line"><span></span></span>
<span class="line"><span>then有两个参数，都是回调函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p=new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>  	// 这里转化了Promise的状态，then才会触发执行。获取其结果</span></span>
<span class="line"><span>    resolve(&quot;成功失败Promise携带的数据&quot;)</span></span>
<span class="line"><span>}).then(</span></span>
<span class="line"><span>    value=&gt;{ // 如果前面的Promise转化为了 fulfilled ，这个回调会执行。value是Promise携带的数据</span></span>
<span class="line"><span>        console.log(&quot;fulfilled状态&quot;,value)</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    reason =&gt; { // 如果前面的Promise转化为了 rejected ，这个回调会执行。reason是Promise携带的数据</span></span>
<span class="line"><span>        console.log(&quot;rejected状态&quot;,reason)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>then中只写一个函数，默认是执行成功的那个回调函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p1=new Promise((resolve)=&gt;{</span></span>
<span class="line"><span>    resolve(&quot;成功失败Promise携带的数据&quot;)//转化为fulfilled状态</span></span>
<span class="line"><span>}).then(value=&gt;{</span></span>
<span class="line"><span>        console.log(value) //执行成功，会把值传递给参数value</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>如果then中只想写执行失败的回调函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p1=new Promise((resolve，reject)=&gt;{</span></span>
<span class="line"><span>    reject(&quot;成功失败Promise携带的数据&quot;)//转化为fulfilled状态</span></span>
<span class="line"><span>}).then(</span></span>
<span class="line"><span>	null,//执行成功的函数不写，也得放个null占位置</span></span>
<span class="line"><span>    reason=&gt;{////执行失败，会把值传递给第二个参数reason</span></span>
<span class="line"><span>        console.log(reason)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>返参</span></span>
<span class="line"><span></span></span>
<span class="line"><span>then函数的返参还是Promise ，所以其可以继续调用then方法</span></span>
<span class="line"><span></span></span>
<span class="line"><span>下面只以fulfilled状态的Promise，调用then函数为例子</span></span>
<span class="line"><span></span></span>
<span class="line"><span>1、返回fulfilled的Promise</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p=new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>    resolve(&quot;传递给then的值&quot;)</span></span>
<span class="line"><span>}).then(</span></span>
<span class="line"><span>    value=&gt;{</span></span>
<span class="line"><span>      	// 方式1</span></span>
<span class="line"><span>      	return Promise.resolve(&quot;成功&quot;)</span></span>
<span class="line"><span>      	// 方式2：return 值 ，默认返回Fulfilled状态Promise，Promise的数据为return的值</span></span>
<span class="line"><span>        return &quot;成功&quot;</span></span>
<span class="line"><span>        // 方式3： 不写return ，默认返回的Fulfilled状态Promise的参数是 undefined</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>2、返回Reject的Promise</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p=new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>    resolve(&quot;传递给then的值&quot;)</span></span>
<span class="line"><span>}).then(</span></span>
<span class="line"><span>    value=&gt;{</span></span>
<span class="line"><span>        return Promise.reject(&quot;失败&quot;)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>).then(</span></span>
<span class="line"><span>    value=&gt;{</span></span>
<span class="line"><span>        console.log(&quot;fulfilled状态&quot;,value)</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    reason =&gt; {</span></span>
<span class="line"><span>        console.log(&quot;rejected状态&quot;,reason) //rejected状态 失败</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>异步</span></span>
<span class="line"><span></span></span>
<span class="line"><span>一定要注意：then的两个回调函数是异步的</span></span>
<span class="line"><span></span></span>
<span class="line"><span>resolve() 执行后，需要等待Promise转化为最终状态后（这部分不是立即执行的），回调函数才会执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p=new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>    resolve()  // 第一步</span></span>
<span class="line"><span>    console.log(1) // 第二部</span></span>
<span class="line"><span>}).then(value=&gt;{</span></span>
<span class="line"><span>        console.log(2) // 第三部，回调回来</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 1</span></span>
<span class="line"><span>// 2</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>更复杂的例子</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p=new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>    console.log(&quot;1&quot;)</span></span>
<span class="line"><span>    reject(&quot;2&quot;)</span></span>
<span class="line"><span>    console.log(&quot;3&quot;)</span></span>
<span class="line"><span>}).then(</span></span>
<span class="line"><span>    null,</span></span>
<span class="line"><span>    reason=&gt;{</span></span>
<span class="line"><span>        console.log(reason)</span></span>
<span class="line"><span>        return Promise.reject(&quot;错误&quot;)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>).catch(()=&gt;{</span></span>
<span class="line"><span>    console.log(&quot;5&quot;)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>console.log(&quot;6&quot;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 1</span></span>
<span class="line"><span>// 3</span></span>
<span class="line"><span>// 6</span></span>
<span class="line"><span>// 2</span></span>
<span class="line"><span>// 5</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>这个例子，需要注意 p1.then返回的Promise，在then回调执行之前是pending状态</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p1=new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>    console.log(&quot;你好&quot;)</span></span>
<span class="line"><span>    resolve(&quot;succeed&quot;)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>let p2=p1.then(</span></span>
<span class="line"><span>    value=&gt;console.log(value),</span></span>
<span class="line"><span>    reason=&gt;console.log(reason)</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>console.log(p1)</span></span>
<span class="line"><span>console.log(p2)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>image-20210415001615623</span></span>
<span class="line"><span></span></span>
<span class="line"><span>流水线错误处理catch</span></span>
<span class="line"><span>catch是Promise实例的参数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>【1】catch也可以捕获到rejected状态的Promise和Error对象，then的第二个回调函数也可以</span></span>
<span class="line"><span></span></span>
<span class="line"><span>【2】未捕获到的rejected状态的Promise和Error对象，都会造成代码终止执行，在控制台会打印错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span>一般规律是：出现rejected状态的Promise或抛出错误对象，会被后面最近【1】或【2】捕获到，且被捕获后除非重新抛出rejected状态的Promise 或者 重新抛出错误对象，否则就不能被捕获到了</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p=new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>    reject(&quot;2222&quot;)//执行成功，传递参数</span></span>
<span class="line"><span>}).then(</span></span>
<span class="line"><span>    null,</span></span>
<span class="line"><span>    reason=&gt;{</span></span>
<span class="line"><span>        console.log(&quot;then中被捕获&quot;,reason) //then中被捕获 2222</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>).catch(err=&gt;{</span></span>
<span class="line"><span>    console.log(&quot;catch中被捕获：&quot;,err)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>常见的写法是：不在then中写处理失败的回调函数，而是将catch写到调用链的最后，前面发生的失败参数和错误会跳过所有的then，直接被传递到catch中处理</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const promise = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    reject(&quot;你好&quot;);</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>    .then((value)=&gt;{</span></span>
<span class="line"><span>        console.log(&quot;then中打印&quot;) //注意：这里被跳过了，直接跳到了最近的错误处理部分</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>    .catch(msg =&gt; {</span></span>
<span class="line"><span>        console.log(&quot;这里是catch捕获的参数：&quot;+msg);</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//输出 这里是catch捕获的参数：你好</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>注意细节：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>catch的返回值也是resolve状态的promise，而且之前的then即使有rejected的处理函数，仍然会被忽略，直接被catch捕获</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p1 = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>					reject(&quot;参数&quot;)</span></span>
<span class="line"><span>				}).then(</span></span>
<span class="line"><span>					value =&gt; {</span></span>
<span class="line"><span>						console.log(&quot;第一个then中处理resolve:&quot; + value) //这里打印，但是没写return value，但是这个then的返回值任然是resolve状态的promise，只不过没参数</span></span>
<span class="line"><span>					}, reason =&gt; {</span></span>
<span class="line"><span>						console.log(&quot;第一个then中处理reject:&quot;+value)</span></span>
<span class="line"><span>					}</span></span>
<span class="line"><span>				).then(</span></span>
<span class="line"><span>					value =&gt; { //</span></span>
<span class="line"><span>						console.log(&quot;第二个then中处理resolve:&quot; + value)</span></span>
<span class="line"><span>					},reason=&gt;{</span></span>
<span class="line"><span>						console.log(&quot;第二个then中处理reject:&quot;+value)</span></span>
<span class="line"><span>					}</span></span>
<span class="line"><span>				).catch(msg =&gt; {</span></span>
<span class="line"><span>					console.log(&quot;这里是catch捕获的参数:&quot; + msg);</span></span>
<span class="line"><span>				}).then(</span></span>
<span class="line"><span>					value =&gt; { //</span></span>
<span class="line"><span>						console.log(&quot;第三个then中处理resolve:&quot; + value)</span></span>
<span class="line"><span>					},reason=&gt;{</span></span>
<span class="line"><span>						console.log(&quot;第三个then中处理reject:&quot;+value)</span></span>
<span class="line"><span>					}</span></span>
<span class="line"><span>				)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//这里是catch捕获的参数:ReferenceError: value is not defined</span></span>
<span class="line"><span>//第三个then中处理resolve:undefined</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>then返回的resolve状态的promise，跳过了catch，把参数传递给了下一个then</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p1 = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>					resolve(&quot;参数&quot;)</span></span>
<span class="line"><span>				}).then(</span></span>
<span class="line"><span>					value =&gt; {</span></span>
<span class="line"><span>						console.log(&quot;第一个then中处理resolve:&quot; + value) //这里打印，但是没写return value，但是这个then的返回值任然是resolve状态的promise，只不过没参数</span></span>
<span class="line"><span>					}, reason =&gt; {</span></span>
<span class="line"><span>						console.log(&quot;第一个then中处理reject:&quot;+value)</span></span>
<span class="line"><span>					}</span></span>
<span class="line"><span>				).then(</span></span>
<span class="line"><span>					value =&gt; { //</span></span>
<span class="line"><span>						console.log(&quot;第二个then中处理resolve:&quot; + value)</span></span>
<span class="line"><span>						return &quot;参数2&quot;</span></span>
<span class="line"><span>					},reason=&gt;{</span></span>
<span class="line"><span>						console.log(&quot;第二个then中处理reject:&quot;+value)</span></span>
<span class="line"><span>					}</span></span>
<span class="line"><span>				).catch(msg =&gt; {</span></span>
<span class="line"><span>					console.log(&quot;这里是catch捕获的参数:&quot; + msg);</span></span>
<span class="line"><span>				}).then(</span></span>
<span class="line"><span>					value =&gt; { //</span></span>
<span class="line"><span>						console.log(&quot;第三个then中处理resolve:&quot; + value)</span></span>
<span class="line"><span>					},reason=&gt;{</span></span>
<span class="line"><span>						console.log(&quot;第三个then中处理reject:&quot;+value)</span></span>
<span class="line"><span>					}</span></span>
<span class="line"><span>				)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//第一个then中处理resolve:参数</span></span>
<span class="line"><span>//第二个then中处理resolve:undefined</span></span>
<span class="line"><span>//第三个then中处理resolve:参数2</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>例题1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>程序由上到下运行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>创建p1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>打印”你好“</span></span>
<span class="line"><span></span></span>
<span class="line"><span>执行到resolve后，把then中的函数加入到微任务队列。并把then返回的promise对象赋值给p2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>打印p1对象，因为已经resolve，所以状态是fulfilled</span></span>
<span class="line"><span></span></span>
<span class="line"><span>打印p2对象，但是p2未执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>主线任务结束后，开始执行微任务队列，value函数执行，打印&quot;succeed&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>image-20210415000628923</span></span>
<span class="line"><span></span></span>
<span class="line"><span>例题2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>程序由上到下运行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>创建p1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>打印”你好“</span></span>
<span class="line"><span></span></span>
<span class="line"><span>执行到resolve后，把then中的函数加入到微任务队列。并把then返回的promise对象赋值给p2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>setTimeout是异步函数，会被加入到宏任务队列</span></span>
<span class="line"><span></span></span>
<span class="line"><span>主线任务结束，开始执行微任务队列，value函数执行，打印&quot;succeed&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>执行宏任务队列，打印p1和p2,这时候两个都是fulfilled状态</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Promise API</span></span>
<span class="line"><span>Promise.all</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用Promise.all 方法可以同时执行多个并行异步操作，参数是Promise组成的数组</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Promise.all适合用在我们需要 所有 结果都成功时做成功处理，如果一个失败就做失败处理的场景下</span></span>
<span class="line"><span></span></span>
<span class="line"><span>以下是不同情况下的例子：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>所有Promise 状态都为fulfilled时,Promise.all的结果才是fulfilled</span></span>
<span class="line"><span></span></span>
<span class="line"><span>then按照all参数的顺序，接收所有fulfilled状态的Promise传递过来的参数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p1 = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>  resolve(&quot;参数1&quot;);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>let p2 = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>  resolve(&quot;参数2&quot;);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>Promise.all([p2, p1]).then(</span></span>
<span class="line"><span>    value=&gt;{</span></span>
<span class="line"><span>        console.log(&quot;fulfilled状态:&quot;,value)// fulfilled状态:[&quot;参数2&quot;, &quot;参数1&quot;]</span></span>
<span class="line"><span>    },reason=&gt;{</span></span>
<span class="line"><span>        console.log(&quot;rejected状态:&quot;,reason)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>其中一个 Promise 状态都为rejected时,Promise.all就会立即返回rejected的结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span>then的结果是按照all参数顺序中，接收第一个状态是rejected的Promise传递过来的值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意：只是忽略其他 promise的结果，但是并没有取消其他Promise（因为 promise 中没有“取消”的概念），其中的异步操作还是会执行下去</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p1 = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    resolve(&quot;参数1&quot;);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>let p2 = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    reject(&quot;参数2&quot;);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>let p3 = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    reject(&quot;参数3&quot;);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>Promise.all([p1,p2,p3]).then(</span></span>
<span class="line"><span>    value=&gt;{</span></span>
<span class="line"><span>        console.log(value)</span></span>
<span class="line"><span>    },reason=&gt;{</span></span>
<span class="line"><span>        console.log(reason)//参数2</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>参数数组的元素，不是Promise就会原样返回</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Promise.all([</span></span>
<span class="line"><span>  new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    setTimeout(() =&gt; resolve(1), 1000)</span></span>
<span class="line"><span>  }),</span></span>
<span class="line"><span>  2,</span></span>
<span class="line"><span>  3</span></span>
<span class="line"><span>]).then(alert); // 1, 2, 3</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>Promise.allSettled</span></span>
<span class="line"><span></span></span>
<span class="line"><span>allSettled 也适用于处理多个promise ，无论promise是fulfiled还是rejected，allSettled都是按照参数的顺序返回结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Promise.allSettled适合用在我们需要获取所有结果（无论成功，还是失败）的场景下</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意，then的第二个回调函数和catch都不能捕获到失败的结果，只能在then的第一个结果中被捕获</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const p1 = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>  resolve(&quot;参数1&quot;);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>const p2 = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>  reject(&quot;参数2&quot;);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//入参数组，是一个返回promise的函数</span></span>
<span class="line"><span>Promise.allSettled([p1, p2])</span></span>
<span class="line"><span>.then(msg =&gt; {</span></span>
<span class="line"><span>  console.log(msg);</span></span>
<span class="line"><span>  //[ {status: &quot;fulfilled&quot;, value: &quot;参数1&quot;}，{status: &quot;rejected&quot;, reason: &quot;参数2&quot;} ]</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>Promise.race</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用Promise.race() ，Promise无论是resolve还是reject，哪个快用哪个，按状态返回到对应的处理函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>与all函数相同，Promise中没有取消的概念，所有只是或忽略了返回慢的Promise的结果，但是并没有取消其异步操作</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const hdcms = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>  setTimeout(() =&gt; {</span></span>
<span class="line"><span>    resolve(&quot;第一个Promise&quot;);</span></span>
<span class="line"><span>  }, 2000);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>const houdunren = new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>  setTimeout(() =&gt; {</span></span>
<span class="line"><span>    reject(&quot;第二个异步&quot;);</span></span>
<span class="line"><span>  }, 1000);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>Promise.race([hdcms, houdunren])</span></span>
<span class="line"><span>.then(results =&gt; {</span></span>
<span class="line"><span>  console.log(&quot;fulfilled状态：&quot;+results);</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>.catch(msg =&gt; {</span></span>
<span class="line"><span>  console.log(&quot;rejected状态：&quot;+msg);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>回调函数Promise化</span></span>
<span class="line"><span>回调函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>首先第一个问题，回调函数一定是异步的吗？</span></span>
<span class="line"><span></span></span>
<span class="line"><span>答案：不是。回调只是代码层面的一种手段，函数可以不在执行时立即拿到结果，而是在之后的某个时间触发回调函数带回结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span>下面例子是回调函数是同步的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f1(callback) {</span></span>
<span class="line"><span>    callback()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 第1步 回调函数立即就执行了</span></span>
<span class="line"><span>f1(()=&gt;{</span></span>
<span class="line"><span>  console.log(1)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 第2步</span></span>
<span class="line"><span>console.log(2)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//1</span></span>
<span class="line"><span>//2</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>下面的回调是异步的</span></span>
<span class="line"><span></span></span>
<span class="line"><span>异步其实本质是浏览器控制的，代码并不会等待1s，而是1s后浏览器将&quot;setTimeout传入的函数&quot;放入微任务队列，当宏任务执行完毕后才会继续执行微任务，即这里的callback函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f1(callback) {</span></span>
<span class="line"><span>    setTimeout(()=&gt;{</span></span>
<span class="line"><span>        callback()</span></span>
<span class="line"><span>    },1000)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 第1步 回调函数立即就执行了</span></span>
<span class="line"><span>f1(()=&gt;{</span></span>
<span class="line"><span>  console.log(1)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 第2步</span></span>
<span class="line"><span>console.log(2)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//2</span></span>
<span class="line"><span>//1  等待1s后才输出1</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>应用</span></span>
<span class="line"><span></span></span>
<span class="line"><span>一般情况下，我们只会把异步的回调函数Promise化</span></span>
<span class="line"><span></span></span>
<span class="line"><span>网络请求是异步的，当浏览器接收到请求结果后将其放入微任务队列等待，当宏任务执行完毕后执行触发回调</span></span>
<span class="line"><span></span></span>
<span class="line"><span>改成Promise后，只有请求结果返回时才会触发then，then中就可以处理这个数据了。相当于指定了一个顺序：请求---&gt;处理请求的数据</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function ajax(url) {</span></span>
<span class="line"><span>    return new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>        let xhr = new XMLHttpRequest()</span></span>
<span class="line"><span>        xhr.open(&quot;GET&quot;, url)</span></span>
<span class="line"><span>        xhr.send()</span></span>
<span class="line"><span>        xhr.onload = function () {</span></span>
<span class="line"><span>            if (this.status == 200) {</span></span>
<span class="line"><span>                resolve(JSON.parse(this.response))</span></span>
<span class="line"><span>            } else {</span></span>
<span class="line"><span>                reject(&quot;加载失败&quot;)</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//	使用时,返回的peomise由then处理</span></span>
<span class="line"><span>		ajax(&quot;网址&quot;).then(</span></span>
<span class="line"><span>            value=&gt;console.log(value),</span></span>
<span class="line"><span>            reason=&gt;console.log(reason)</span></span>
<span class="line"><span>                       )</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>变化</span></span>
<span class="line"><span></span></span>
<span class="line"><span>回调函数不只能执行一次回调，可以多次</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f1(callback) {</span></span>
<span class="line"><span>    setInterval(()=&gt;{</span></span>
<span class="line"><span>        callback()</span></span>
<span class="line"><span>    },1000)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 第1步 回调函数立即就执行了</span></span>
<span class="line"><span>f1(()=&gt;{</span></span>
<span class="line"><span>  console.log(1)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 第2步</span></span>
<span class="line"><span>console.log(2)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//2</span></span>
<span class="line"><span>//1  循环输出1</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>但是一旦Promise化后，由于Promise转化为最终态后，不可逆转。所以下面的代码只能输出一次回调的结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function getDate() {</span></span>
<span class="line"><span>    return new Promise((resolve) =&gt; {</span></span>
<span class="line"><span>        setInterval(resolve,1000)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>this.getDate(()=&gt;{</span></span>
<span class="line"><span>  console.log(1)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>console.log(2)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//2</span></span>
<span class="line"><span>//1</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>async/await</span></span>
<span class="line"><span>Promise已经能实现异步转化为同步处理了</span></span>
<span class="line"><span></span></span>
<span class="line"><span>只不过，当为多个异步操作指定处理顺序时，会出现嵌套</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>getData1().then((res1)=&gt;{</span></span>
<span class="line"><span>  getData2(res1.value).then((res2)=&gt;{</span></span>
<span class="line"><span>    getData3(res2.value).then((res3)=&gt;{</span></span>
<span class="line"><span>      // 指定  getData1 -&gt; getData2 -&gt; getData3 循序执行</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>async/await语法本质是Promise的语法糖，仅仅是使得Promise的书写更加明晰</span></span>
<span class="line"><span></span></span>
<span class="line"><span>用async修饰的函数内部才能使用await</span></span>
<span class="line"><span></span></span>
<span class="line"><span>await后面接值，会直接返回之该值</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f() {</span></span>
<span class="line"><span>    return 1</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>async getRes(){</span></span>
<span class="line"><span>  const res=await f()</span></span>
<span class="line"><span>  console.log(res)  //1</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>await后面接Promise对象，如果Promise对象为fulfilled状态会直接取出其携带的数据，rejected状态会直接结束</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f() {</span></span>
<span class="line"><span>    return new Promise((resolve) =&gt; {</span></span>
<span class="line"><span>        setTimeout(()=&gt;{</span></span>
<span class="line"><span>          resolve(1)</span></span>
<span class="line"><span>        },1000)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>async getRes(){</span></span>
<span class="line"><span>  const res=await f() // 返回值是Promise对象，await取出携带的值</span></span>
<span class="line"><span>  console.log(res)  //1</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>async/await错误处理方案</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>try{</span></span>
<span class="line"><span>	// await</span></span>
<span class="line"><span>  await xxx()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}catch(err){// 错误处理 rejected状态的Promise、Error都能被捕获到</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}finally{ //无论状态是`resolve` 或 `reject` 都会执行`finally`</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>但是请注意，对于异步函数必须使用await同步化后，才能使用try catch来处理错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function p(){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        setTimeout(resolve,2000)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>async function run (){</span></span>
<span class="line"><span>    try{</span></span>
<span class="line"><span>        await p1() // 这里必须await，否则代码不会等待，而是直接打印输出了： try和finally</span></span>
<span class="line"><span>        console.log(&#39;try&#39;)</span></span>
<span class="line"><span>    }catch (err){</span></span>
<span class="line"><span>        console.log(&#39;err&#39;,err)</span></span>
<span class="line"><span>    }finally {</span></span>
<span class="line"><span>        console.log(&#39;finally&#39;)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>run()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>限制Promise并发量</span></span>
<span class="line"><span>JS是单线程的，all、allSettle都是将大量任务委托给宿主。如果任务占据资源太多很容易造成CPU或内存占用过多</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class pool{</span></span>
<span class="line"><span>  #pool=new Set()</span></span>
<span class="line"><span>  #waitQueue=[]</span></span>
<span class="line"><span>  #excuteQueue=[]</span></span>
<span class="line"><span>  #size=10</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  constructor(){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  pushTask(asyncTask){</span></span>
<span class="line"><span>    #excuteQueue.push(asyncTask)</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  excuteTask(){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>实现Promise</span></span>
<span class="line"><span>实现Promise</span></span>
<span class="line"><span>初步实现resolve和reject方法</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class HD {</span></span>
<span class="line"><span>  static PENDING = &quot;pending&quot;;</span></span>
<span class="line"><span>  static FULFILLED = &quot;fulfilled&quot;;</span></span>
<span class="line"><span>  static REJECTED = &quot;rejected&quot;;</span></span>
<span class="line"><span>  constructor(executor) {</span></span>
<span class="line"><span>    this.status = HD.PENDING;</span></span>
<span class="line"><span>    this.value = null;</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>        //executor中的参数中this还是指向HD对象的</span></span>
<span class="line"><span>        //但是执行到resolve和reject函数内部时，使用this，this会指向undefined(class中默认严格模式)</span></span>
<span class="line"><span>        //所以使用bind，将resolve和reject函数中的this指向HD对象</span></span>
<span class="line"><span>      executor(this.resolve.bind(this), this.reject.bind(this));</span></span>
<span class="line"><span>    } catch (error) {</span></span>
<span class="line"><span>      this.reject(error);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  resolve(value) {</span></span>
<span class="line"><span>    //promise的状态只能是从pending转换过去</span></span>
<span class="line"><span>    if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>      this.status = HD.FULFILLED;</span></span>
<span class="line"><span>      this.value = value;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  reject(value) {</span></span>
<span class="line"><span>    //promise的状态只能是从pending转换过去</span></span>
<span class="line"><span>    if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>      this.status = HD.REJECTED;</span></span>
<span class="line"><span>      this.value = value;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>测试</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let a=new HD((resolve,reject)=&gt;{</span></span>
<span class="line"><span>	resolve(&quot;参数&quot;)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>console.log(a) //输出  HD {status: &quot;fulfilled&quot;, value: &quot;你好&quot;}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>添加then方法</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>then(onFulfilled, onRejected) {</span></span>
<span class="line"><span>  //前两个if的作用：then的函数参数都不是必须的，所以需要设置默认值为函数，用于处理当没有传递时情况</span></span>
<span class="line"><span>  //比如then(null,reject=&gt;{ })，这种如果没有之前的两个if判断就会报错</span></span>
<span class="line"><span>  if (typeof onFulfilled != &quot;function&quot;) {</span></span>
<span class="line"><span>    //将class HD中保存的传递的参数value的值，塞到onFulifilled和onRejected这两个函数中</span></span>
<span class="line"><span>    onFulfilled = () =&gt; this.value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  if (typeof onRejected != &quot;function&quot;) {</span></span>
<span class="line"><span>    onRejected = () =&gt; this.value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //只有promise状态改变了，才会执行then中的内容</span></span>
<span class="line"><span>  if (this.status == HD.FULFILLED) {</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>      onFulfilled(this.value);</span></span>
<span class="line"><span>    } catch (error) {</span></span>
<span class="line"><span>      onRejected(error);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  if (this.status == HD.REJECTED) {</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>      onRejected(this.value);</span></span>
<span class="line"><span>    } catch (error) {</span></span>
<span class="line"><span>      onRejected(error);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>存在的问题：HD没有异步的效果</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let a = new HD((resolve, reject) =&gt; {</span></span>
<span class="line"><span>  resolve(&quot;你好&quot;)</span></span>
<span class="line"><span>}).then(</span></span>
<span class="line"><span>  value=&gt;console.log(&quot;fulfilled状态:&quot;+value),</span></span>
<span class="line"><span>  reason=&gt;console.log(&quot;rejected状态:&quot;+reason)</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>console.log(&quot;他好&quot;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//输出   fulfilled状态:你好    他好</span></span>
<span class="line"><span>//then先于主线任务被执行，这样是不对的</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>修改then，给then添加异步</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>then(onFulfilled, onRejected) {</span></span>
<span class="line"><span>  if (typeof onFulfilled != &quot;function&quot;) {</span></span>
<span class="line"><span>    onFulfilled = value =&gt; value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  if (typeof onRejected != &quot;function&quot;) {</span></span>
<span class="line"><span>    onRejected = value =&gt; value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  if (this.status == HD.FULFILLED) {</span></span>
<span class="line"><span>      //其实就是添加了setTimeout函数之中，then中函数不会立即执行</span></span>
<span class="line"><span>    setTimeout(() =&gt; {</span></span>
<span class="line"><span>      try {</span></span>
<span class="line"><span>        onFulfilled(this.value);</span></span>
<span class="line"><span>      } catch (error) {</span></span>
<span class="line"><span>        onRejected(error);</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  if (this.status == HD.REJECTED) {</span></span>
<span class="line"><span>    setTimeout(() =&gt; {</span></span>
<span class="line"><span>      try {</span></span>
<span class="line"><span>        onRejected(this.value);</span></span>
<span class="line"><span>      } catch (error) {</span></span>
<span class="line"><span>        onRejected(error);</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>存在的问题：resolve/reject放在定时器中，当它还未被执行时，就执行了then方法。then方法缺少对于pending状态的处理。</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let a = new HD((resolve, reject) =&gt; {</span></span>
<span class="line"><span>  setTimeout(()=&gt;{</span></span>
<span class="line"><span>      resolve(&quot;你好&quot;)</span></span>
<span class="line"><span>  },1000)</span></span>
<span class="line"><span>}).then(</span></span>
<span class="line"><span>  value=&gt;console.log(&quot;fulfilled状态:&quot;+value),</span></span>
<span class="line"><span>  reason=&gt;console.log(&quot;rejected状态:&quot;+reason)</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>console.log(&quot;他好&quot;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//输出 他好</span></span>
<span class="line"><span>//因为resolve/reject放在定时器中，当它还未被执行时，就执行了then方法。then方法缺少对于pending状态的处理。</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>修改方法</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//在HD构造函数中添加</span></span>
<span class="line"><span>constructor(executor) {</span></span>
<span class="line"><span>	...</span></span>
<span class="line"><span>  this.callbacks = []</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//在then函数中添加pending状态，如果Promise没有被resolve或者reject（计时器计时1s之后执行），就进入then方法，会把两个函数push进HD对象中，当计时器到了时间，执行到resolve或者reject时，会在then中push进去的方法中，执行对应的方法</span></span>
<span class="line"><span>then(onFulfilled, onRejected) {</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>  if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>    this.callbacks.push({</span></span>
<span class="line"><span>      onFulfilled: value =&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>          onFulfilled(value);</span></span>
<span class="line"><span>        } catch (error) {</span></span>
<span class="line"><span>          onRejected(error);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>      onRejected: value =&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>          onRejected(value);</span></span>
<span class="line"><span>        } catch (error) {</span></span>
<span class="line"><span>          onRejected(error);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//修改resolve和reject函数</span></span>
<span class="line"><span>resolve(value) {</span></span>
<span class="line"><span>  if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>    this.status = HD.FULFILLED;</span></span>
<span class="line"><span>    this.value = value;</span></span>
<span class="line"><span>    this.callbacks.map(callback =&gt; {</span></span>
<span class="line"><span>      callback.onFulfilled(value);</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>reject(value) {</span></span>
<span class="line"><span>  if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>    this.status = HD.REJECTED;</span></span>
<span class="line"><span>    this.value = value;</span></span>
<span class="line"><span>    this.callbacks.map(callback =&gt; {</span></span>
<span class="line"><span>      callback.onRejected(value);</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>49</span></span>
<span class="line"><span>50</span></span>
<span class="line"><span>存在问题: 这里pending状态下是同步的，应该是先执行到reslove(“你好”)，将then添加到微任务，然后打印“哈哈”，然后再执行微任务，打印&quot;你好&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p = new HD((resolve, reject) =&gt; {</span></span>
<span class="line"><span>  setTimeout(() =&gt; {</span></span>
<span class="line"><span>    resolve(&quot;你好&quot;);</span></span>
<span class="line"><span>    console.log(&quot;哈哈&quot;);</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}).then(</span></span>
<span class="line"><span>  value =&gt; {</span></span>
<span class="line"><span>    console.log(value);</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  reason =&gt; {</span></span>
<span class="line"><span>    console.log(reason);</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span>//输出 你好 哈哈</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>修改resolve和reject函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>resolve(value) {</span></span>
<span class="line"><span>  if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>   	this.status = HD.FULFILLED;</span></span>
<span class="line"><span>	this.value = value;</span></span>
<span class="line"><span>    setTimeout(() =&gt; {</span></span>
<span class="line"><span>      this.callbacks.map(callback =&gt; {</span></span>
<span class="line"><span>        callback.onFulfilled(value);</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>reject(value) {</span></span>
<span class="line"><span>  if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>  	this.status = HD.REJECTED;</span></span>
<span class="line"><span>    this.value = value;</span></span>
<span class="line"><span>    setTimeout(() =&gt; {</span></span>
<span class="line"><span>      this.callbacks.map(callback =&gt; {</span></span>
<span class="line"><span>        callback.onRejected(value);</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>存在的问题：未实现then的链式调用</span></span>
<span class="line"><span></span></span>
<span class="line"><span>then的返回值是新的Promise</span></span>
<span class="line"><span>then中通过return 参数，将参数传递给下一个then，且状态是fulfilled状态</span></span>
<span class="line"><span>继续修改：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>then(onFulfilled, onRejected) {</span></span>
<span class="line"><span>  if (typeof onFulfilled != &quot;function&quot;) {</span></span>
<span class="line"><span>    onFulfilled = value =&gt; value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  if (typeof onRejected != &quot;function&quot;) {</span></span>
<span class="line"><span>    onRejected = value =&gt; value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  //返回新的Promise，这里的参数是新Promise的resolve和rejec两个函数。</span></span>
<span class="line"><span>  return new HD((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>      this.callbacks.push({</span></span>
<span class="line"><span>        onFulfilled: value =&gt; {</span></span>
<span class="line"><span>          try {</span></span>
<span class="line"><span>            let result = onFulfilled(value);</span></span>
<span class="line"><span>            //then中的&quot;return 参数&quot;,返回的新Promise默认是fulfilled状态</span></span>
<span class="line"><span>            resolve(result);</span></span>
<span class="line"><span>          } catch (error) {</span></span>
<span class="line"><span>            reject(error);</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>        onRejected: value =&gt; {</span></span>
<span class="line"><span>          try {</span></span>
<span class="line"><span>            let result = onRejected(value);</span></span>
<span class="line"><span>            //then中的&quot;return 参数&quot;,返回的新Promise默认是fulfilled状态</span></span>
<span class="line"><span>            resolve(result);</span></span>
<span class="line"><span>          } catch (error) {</span></span>
<span class="line"><span>            reject(error);</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (this.status == HD.FULFILLED) {</span></span>
<span class="line"><span>      setTimeout(() =&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>          let result = onFulfilled(this.value);</span></span>
<span class="line"><span>          //then中的&quot;return 参数&quot;,返回的新Promise默认是fulfilled状态</span></span>
<span class="line"><span>          resolve(result);</span></span>
<span class="line"><span>        } catch (error) {</span></span>
<span class="line"><span>          reject(error);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (this.status == HD.REJECTED) {</span></span>
<span class="line"><span>      setTimeout(() =&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>          let result = onRejected(this.value);</span></span>
<span class="line"><span>          //then中的&quot;return 参数&quot;,返回的新Promise默认是fulfilled状态</span></span>
<span class="line"><span>          resolve(result);</span></span>
<span class="line"><span>        } catch (error) {</span></span>
<span class="line"><span>          reject(error);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>49</span></span>
<span class="line"><span>50</span></span>
<span class="line"><span>51</span></span>
<span class="line"><span>52</span></span>
<span class="line"><span>53</span></span>
<span class="line"><span>54</span></span>
<span class="line"><span>55</span></span>
<span class="line"><span>继续修改：实现then中可以return 一个Promise</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>then(onFulfilled, onRejected) {</span></span>
<span class="line"><span>  if (typeof onFulfilled != &quot;function&quot;) {</span></span>
<span class="line"><span>    onFulfilled = value =&gt; value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  if (typeof onRejected != &quot;function&quot;) {</span></span>
<span class="line"><span>    onRejected = value =&gt; value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  return new HD((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>      this.callbacks.push({</span></span>
<span class="line"><span>        onFulfilled: value =&gt; {</span></span>
<span class="line"><span>          try {</span></span>
<span class="line"><span>            let result = onFulfilled(value);</span></span>
<span class="line"><span>            //判断下，return的是Promise对象，则用then函数执行其中的resolve或者reject函数</span></span>
<span class="line"><span>            if (result instanceof HD) {</span></span>
<span class="line"><span>              result.then(resolve, reject);</span></span>
<span class="line"><span>            } else {//如果return的是一个参数，默认新的Promise是fulfilled状态，resolve参数即可</span></span>
<span class="line"><span>              resolve(result);</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>          } catch (error) {</span></span>
<span class="line"><span>            reject(error);</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>        onRejected: value =&gt; {</span></span>
<span class="line"><span>          try {</span></span>
<span class="line"><span>            let result = onRejected(value);</span></span>
<span class="line"><span>            if (result instanceof HD) {</span></span>
<span class="line"><span>              result.then(resolve, reject);</span></span>
<span class="line"><span>            } else {</span></span>
<span class="line"><span>              resolve(result);</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>          } catch (error) {</span></span>
<span class="line"><span>            reject(error);</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (this.status == HD.FULFILLED) {</span></span>
<span class="line"><span>      setTimeout(() =&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>          let result = onFulfilled(this.value);</span></span>
<span class="line"><span>          if (result instanceof HD) {</span></span>
<span class="line"><span>            result.then(resolve, reject);</span></span>
<span class="line"><span>          } else {</span></span>
<span class="line"><span>            resolve(result);</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>        } catch (error) {</span></span>
<span class="line"><span>          reject(error);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (this.status == HD.REJECTED) {</span></span>
<span class="line"><span>      setTimeout(() =&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>          let result = onRejected(this.value);</span></span>
<span class="line"><span>          if (result instanceof HD) {</span></span>
<span class="line"><span>            result.then(resolve, reject);</span></span>
<span class="line"><span>          } else {</span></span>
<span class="line"><span>            resolve(result);</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>        } catch (error) {</span></span>
<span class="line"><span>          reject(error);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>49</span></span>
<span class="line"><span>50</span></span>
<span class="line"><span>51</span></span>
<span class="line"><span>52</span></span>
<span class="line"><span>53</span></span>
<span class="line"><span>54</span></span>
<span class="line"><span>55</span></span>
<span class="line"><span>56</span></span>
<span class="line"><span>57</span></span>
<span class="line"><span>58</span></span>
<span class="line"><span>59</span></span>
<span class="line"><span>60</span></span>
<span class="line"><span>61</span></span>
<span class="line"><span>62</span></span>
<span class="line"><span>63</span></span>
<span class="line"><span>64</span></span>
<span class="line"><span>65</span></span>
<span class="line"><span>66</span></span>
<span class="line"><span>67</span></span>
<span class="line"><span>优化then函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>then(onFulfilled, onRejected) {</span></span>
<span class="line"><span>  if (typeof onFulfilled != &quot;function&quot;) {</span></span>
<span class="line"><span>    onFulfilled = value =&gt; value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  if (typeof onRejected != &quot;function&quot;) {</span></span>
<span class="line"><span>    onRejected = value =&gt; value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  return new HD((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>      this.callbacks.push({</span></span>
<span class="line"><span>        onFulfilled: value =&gt; {</span></span>
<span class="line"><span>          this.parse(onFulfilled(this.value), resolve, reject);</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>        onRejected: value =&gt; {</span></span>
<span class="line"><span>          this.parse(onRejected(this.value), resolve, reject);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (this.status == HD.FULFILLED) {</span></span>
<span class="line"><span>      setTimeout(() =&gt; {</span></span>
<span class="line"><span>        this.parse(onFulfilled(this.value), resolve, reject);</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (this.status == HD.REJECTED) {</span></span>
<span class="line"><span>      setTimeout(() =&gt; {</span></span>
<span class="line"><span>        this.parse(onRejected(this.value), resolve, reject);</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//把重复的操作封装</span></span>
<span class="line"><span>parse(result, resolve, reject) {</span></span>
<span class="line"><span>  try {</span></span>
<span class="line"><span>    if (result instanceof HD) {</span></span>
<span class="line"><span>      result.then(resolve, reject);</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>      resolve(result);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  } catch (error) {</span></span>
<span class="line"><span>    reject(error);</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>最后一个问题：Promise的then函数中，return可以是参数，可以是新的Promise，但是不允许是自己，会报错。而HD则不会报错</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let a=new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>	resolve(&quot;参数&quot;)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>p.then(value=&gt;{</span></span>
<span class="line"><span>	return p //会报错</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>修改then函数和parse函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>then(onFulfilled, onRejected) {</span></span>
<span class="line"><span>  if (typeof onFulfilled != &quot;function&quot;) {</span></span>
<span class="line"><span>    onFulfilled = value =&gt; value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  if (typeof onRejected != &quot;function&quot;) {</span></span>
<span class="line"><span>    onRejected = value =&gt; value;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  let promise = new HD((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>      this.callbacks.push({</span></span>
<span class="line"><span>        onFulfilled: value =&gt; {</span></span>
<span class="line"><span>          this.parse(promise, onFulfilled(this.value), resolve, reject);</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>        onRejected: value =&gt; {</span></span>
<span class="line"><span>          this.parse(promise, onRejected(this.value), resolve, reject);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (this.status == HD.FULFILLED) {</span></span>
<span class="line"><span>      setTimeout(() =&gt; {</span></span>
<span class="line"><span>        this.parse(promise, onFulfilled(this.value), resolve, reject);</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (this.status == HD.REJECTED) {</span></span>
<span class="line"><span>      setTimeout(() =&gt; {</span></span>
<span class="line"><span>        this.parse(promise, onRejected(this.value), resolve, reject);</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>  return promise;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//多了一个传递的参数promise，第一个参数：如果then中return的是promise对象，则是该Promise对象</span></span>
<span class="line"><span>parse(promise, result, resolve, reject) {</span></span>
<span class="line"><span>  //return的promise和上一个promise传递过来的参数，是否相等</span></span>
<span class="line"><span>  if (promise == result) {</span></span>
<span class="line"><span>    throw new TypeError(&quot;Chaining cycle detected for promise&quot;);</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  try {</span></span>
<span class="line"><span>    if (result instanceof HD) {</span></span>
<span class="line"><span>      result.then(resolve, reject);</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>      resolve(result);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  } catch (error) {</span></span>
<span class="line"><span>    reject(error);</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>综上最终实现的Promise对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class HD {</span></span>
<span class="line"><span>  static PENDING = &quot;pending&quot;;</span></span>
<span class="line"><span>  static FULFILLED = &quot;fulfilled&quot;;</span></span>
<span class="line"><span>  static REJECTED = &quot;rejected&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  constructor(executor) {</span></span>
<span class="line"><span>    this.callbacks = [];</span></span>
<span class="line"><span>    this.status = HD.PENDING;</span></span>
<span class="line"><span>    this.value = null;</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>      //executor中的参数中this还是指向HD对象的</span></span>
<span class="line"><span>      //但是执行到resolve和reject函数内部时，使用this，this会指向undefined(class中默认严格模式)</span></span>
<span class="line"><span>      //所以使用bind，将resolve和reject函数中的this指向HD对象</span></span>
<span class="line"><span>      executor(this.resolve.bind(this), this.reject.bind(this));</span></span>
<span class="line"><span>    } catch (error) {</span></span>
<span class="line"><span>      this.reject(error);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //resolve函数</span></span>
<span class="line"><span>  resolve(value) {</span></span>
<span class="line"><span>    if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>      this.status = HD.FULFILLED;</span></span>
<span class="line"><span>      this.value = value;</span></span>
<span class="line"><span>      setTimeout(() =&gt; {</span></span>
<span class="line"><span>        this.callbacks.map(callback =&gt; {</span></span>
<span class="line"><span>          callback.onFulfilled(value);</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //reject函数</span></span>
<span class="line"><span>  reject(value) {</span></span>
<span class="line"><span>    if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>      this.status = HD.REJECTED;</span></span>
<span class="line"><span>      this.value = value;</span></span>
<span class="line"><span>      setTimeout(() =&gt; {</span></span>
<span class="line"><span>        this.callbacks.map(callback =&gt; {</span></span>
<span class="line"><span>          callback.onRejected(value);</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //then函数</span></span>
<span class="line"><span>  then(onFulfilled, onRejected) {</span></span>
<span class="line"><span>    if (typeof onFulfilled != &quot;function&quot;) {</span></span>
<span class="line"><span>      onFulfilled = value =&gt; value;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    if (typeof onRejected != &quot;function&quot;) {</span></span>
<span class="line"><span>      onRejected = value =&gt; value;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    let promise = new HD((resolve, reject) =&gt; {</span></span>
<span class="line"><span>      if (this.status == HD.PENDING) {</span></span>
<span class="line"><span>        this.callbacks.push({</span></span>
<span class="line"><span>          onFulfilled: value =&gt; {</span></span>
<span class="line"><span>            this.parse(promise, onFulfilled(this.value), resolve, reject);</span></span>
<span class="line"><span>          },</span></span>
<span class="line"><span>          onRejected: value =&gt; {</span></span>
<span class="line"><span>            this.parse(promise, onRejected(this.value), resolve, reject);</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      if (this.status == HD.FULFILLED) {</span></span>
<span class="line"><span>        setTimeout(() =&gt; {</span></span>
<span class="line"><span>          this.parse(promise, onFulfilled(this.value), resolve, reject);</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      if (this.status == HD.REJECTED) {</span></span>
<span class="line"><span>        setTimeout(() =&gt; {</span></span>
<span class="line"><span>          this.parse(promise, onRejected(this.value), resolve, reject);</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    return promise;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //then函数中，重复的部分单独封装出的函数parse</span></span>
<span class="line"><span>  parse(promise, result, resolve, reject) {</span></span>
<span class="line"><span>    if (promise == result) {</span></span>
<span class="line"><span>      throw new TypeError(&quot;Chaining cycle detected for promise&quot;);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>      if (result instanceof HD) {</span></span>
<span class="line"><span>        result.then(resolve, reject);</span></span>
<span class="line"><span>      } else {</span></span>
<span class="line"><span>        resolve(result);</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    } catch (error) {</span></span>
<span class="line"><span>      reject(error);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>49</span></span>
<span class="line"><span>50</span></span>
<span class="line"><span>51</span></span>
<span class="line"><span>52</span></span>
<span class="line"><span>53</span></span>
<span class="line"><span>54</span></span>
<span class="line"><span>55</span></span>
<span class="line"><span>56</span></span>
<span class="line"><span>57</span></span>
<span class="line"><span>58</span></span>
<span class="line"><span>59</span></span>
<span class="line"><span>60</span></span>
<span class="line"><span>61</span></span>
<span class="line"><span>62</span></span>
<span class="line"><span>63</span></span>
<span class="line"><span>64</span></span>
<span class="line"><span>65</span></span>
<span class="line"><span>66</span></span>
<span class="line"><span>67</span></span>
<span class="line"><span>68</span></span>
<span class="line"><span>69</span></span>
<span class="line"><span>70</span></span>
<span class="line"><span>71</span></span>
<span class="line"><span>72</span></span>
<span class="line"><span>73</span></span>
<span class="line"><span>74</span></span>
<span class="line"><span>75</span></span>
<span class="line"><span>76</span></span>
<span class="line"><span>77</span></span>
<span class="line"><span>78</span></span>
<span class="line"><span>79</span></span>
<span class="line"><span>80</span></span>
<span class="line"><span>81</span></span>
<span class="line"><span>82</span></span>
<span class="line"><span>83</span></span>
<span class="line"><span>84</span></span>
<span class="line"><span>85</span></span>
<span class="line"><span>86</span></span>
<span class="line"><span>87</span></span>
<span class="line"><span>88</span></span>
<span class="line"><span>89</span></span>
<span class="line"><span>90</span></span>
<span class="line"><span>91</span></span>
<span class="line"><span>92</span></span>
<span class="line"><span>93</span></span>
<span class="line"><span>94</span></span>
<span class="line"><span>95</span></span>
<span class="line"><span>###实现 Promise.resolve</span></span>
<span class="line"><span></span></span>
<span class="line"><span>添加静态方法到HD类中</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>static resolve(value) {</span></span>
<span class="line"><span>  return new HD((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    if (value instanceof HD) {</span></span>
<span class="line"><span>      value.then(resolve, reject);</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>      resolve(value);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>实现 Promise.reject</span></span>
<span class="line"><span>添加静态方法到HD类中</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>static reject(reason) {</span></span>
<span class="line"><span>  return new HD((_, reject) =&gt; {</span></span>
<span class="line"><span>    reject(reason);</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>实现 Promise.all</span></span>
<span class="line"><span>添加静态方法到HD类中</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Promise.all=function(promises){</span></span>
<span class="line"><span>    resolves=[]</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        promises.forEach(promise =&gt; {</span></span>
<span class="line"><span>            promise.then(</span></span>
<span class="line"><span>                value=&gt;{</span></span>
<span class="line"><span>                    resolves.push(value)</span></span>
<span class="line"><span>                    if(resolves.length==promises.length){</span></span>
<span class="line"><span>                        resolve(resolves)</span></span>
<span class="line"><span>                    }</span></span>
<span class="line"><span>                },reason={</span></span>
<span class="line"><span>                    reject(reason)</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>            )</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>实现 Promise.race</span></span>
<span class="line"><span>添加静态方法到HD类中</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>static race(promises) {</span></span>
<span class="line"><span>  return new HD((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    promises.map(promise =&gt; {</span></span>
<span class="line"><span>      promise.then(value =&gt; {</span></span>
<span class="line"><span>        resolve(value);</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>事件循环</span></span>
<span class="line"><span>演示事件循环的可视化工具：loupe</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Philip Roberts的视频</span></span>
<span class="line"><span></span></span>
<span class="line"><span>事件循环涉及的概念</span></span>
<span class="line"><span>主线程：用于执行JS任务的线程</span></span>
<span class="line"><span></span></span>
<span class="line"><span>执行栈（call stack）：放入执行栈中的任务，会被主线程执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>任务：分为宏任务（task queue，有些文章也直接称为任务）、微任务（Microtask Queue）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>宏任务：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>script(同步代码)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>setTimeout()</span></span>
<span class="line"><span>setInterval()</span></span>
<span class="line"><span>postMessage</span></span>
<span class="line"><span>I/O</span></span>
<span class="line"><span>UI交互事件</span></span>
<span class="line"><span>requestAnimationFrame(浏览器)</span></span>
<span class="line"><span>setImmediate(Node.js)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>微任务</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Promise的resolve、reject、then函数，注意回调结果才放入微任务队列</span></span>
<span class="line"><span></span></span>
<span class="line"><span>MutationObserver(html5 新特性)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>process.nextTick（Node.js）</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>注意</span></span>
<span class="line"><span></span></span>
<span class="line"><span>主代码属于宏任务，将主代码放入执行栈执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>宏任务产生微任务（setTimeout等宏任务的回调结果属于微任务）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>微任务也会产生微任务+宏任务（promise的then方法能一直添加，即一直增加微任务）；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>微任务不可能凭空出现，第一个微任务一定是宏任务的回调产生的。例如主代码执行到发起网络请求的部分，发起请求后挂起，等待请求结果返回后浏览器会将回调结果放入微任务（并不是把异步任务放入微任务队列，而是异步有结果后，将回调结果放入微任务队列）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>事件循环</span></span>
<span class="line"><span>image-20230428013631363</span></span>
<span class="line"><span></span></span>
<span class="line"><span>事件循环流程如下：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>JS引擎中存在一个monitoring process的进程，这个进程会循环不断的检查主线程的执行情况，一旦主线程空闲，就会去检查宏任务队列</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在执行宏任务之前，浏览器会检查是否需要渲染UI界面，如果需要则在宏任务队列中添加一个渲染的任务。该宏任务比较特殊，由GUI线程接管渲染</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果宏任务队列有任务，则将宏任务放入执行栈。主线程执行完后，继续读取宏任务，直至宏任务队列为空（执行宏任务过程中，如果有回调，待回调有结果，则加入微任务队列），主线程空闲才会检查微任务队列</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果存在微任务，则将其添加至执行栈，主线程开始执行其中的微任务</span></span>
<span class="line"><span></span></span>
<span class="line"><span>微任务执行过程中如果产生微任务，则添加至微任务队尾(promise的有多个then链式调用，假设一直产生微任务，则就会一直执行微任务)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>微任务执行过程中如果产生宏任务，则添加至宏任务队尾，待微任务队列执行执行完毕，才会进入下一轮循环，即读取宏任务</span></span>
<span class="line"><span></span></span>
<span class="line"><span>一直读取微任务，直至微任务队列为空，开启下一轮循环，即主进程执行：渲染-宏任务-微任务</span></span>
<span class="line"><span></span></span>
<span class="line"><span>渲染任务</span></span>
<span class="line"><span>前面提到的渲染任务比较特殊，这里做出解释</span></span>
<span class="line"><span></span></span>
<span class="line"><span>下面是浏览器渲染引擎的工作过程</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20230504153232765</span></span>
<span class="line"><span></span></span>
<span class="line"><span>渲染引擎和 JS引擎是两个不同的引擎</span></span>
<span class="line"><span></span></span>
<span class="line"><span>HTML 和 CSS 文件的解析由渲染引擎的 HTML 解析器和 CSS 解析器负责，它们会分别生成文档对象模型（DOM）和 CSS 对象模型（CSSOM）【但是这些 DOM 和 CSSOM 并不能直接被渲染引擎使用的，而是先传递给 JS 引擎】</span></span>
<span class="line"><span>JS引擎将它们合并成为渲染树（Render Tree）【将Render Tree传递给渲染引擎】</span></span>
<span class="line"><span>渲染引擎完成Style、Layout、Paint、Composite</span></span>
<span class="line"><span>所以说，渲染任务是一个特殊的宏任务（因为其需要渲染引擎的参与）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>浏览器渲染引擎和 JS引擎都是运行在主线程上的，它们共享主线程资源。因此，如果 JS引擎执行的任务过于耗时，会影响到浏览器渲染引擎的正常工作，从而导致页面卡顿、响应迟缓等问题</span></span>
<span class="line"><span></span></span>
<span class="line"><span>补充：使用 v-if 隐藏的 DOM 仍然会被解析并构建成 DOM 树，因此它会影响 Parse HTML 的时间。但是不会影响 Layout 和 Paint 的时间</span></span>
<span class="line"><span></span></span>
<span class="line"><span>await是否阻塞</span></span>
<span class="line"><span>当一个函数含有await关键字时，它将被认为是异步函数，并在遇到await语句时暂停执行异步函数后的代码，等待Promise对象的解析结果。但是，使用await并不会阻塞JS执行线程，。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>结论：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>await操作并不会阻塞JS线程，但它可以暂停异步函数的执行。当Promise对象解析完成后，事件循环会将await之后的代码放入微任务队列，等待执行，其他的JS代码仍然可以继续执行。直到同步代码执行完毕再去执行微任务队列</span></span>
<span class="line"><span></span></span>
<span class="line"><span>举例</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果有一个async函数中包含了await操作，当代码执行到await操作时，这个函数会被暂停，等待await操作所在的Promise对象返回结果。在此期间，JS引擎会在事件循环队列中继续执行其他任务，这些任务可以是其他异步操作的回调函数，也可以是同步代码。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Class</span></span>
<span class="line"><span>在很长一段时间，我都很排斥面向对象编程的开发方式</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可能是由于在我的视角来看，面向过程编程已经能够解决日常开发中遇到的极大多数问题，也有可能是由于我对于面向对象编程本身的理解不到位，也有可能是因为我觉得JS中的面向对象编程是使用原型链来模拟的（其中充斥了一些大坑，甚至兼容性问题）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>总之，</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在我开始接触Dart与TS后</span></span>
<span class="line"><span>看到公司大佬编写的一些工具库源码后</span></span>
<span class="line"><span>开始愈发的觉得存在既有其必要性，必须要要开始学习了，学如逆水行舟不进则退</span></span>
<span class="line"><span></span></span>
<span class="line"><span>所以，这一部分开始，我将尝试学习面向对象编程的这种方式，并希望能应用到项目之中</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class中的this指向问题，会逐步在每一部分讲解</span></span>
<span class="line"><span></span></span>
<span class="line"><span>类的定义</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 类声明</span></span>
<span class="line"><span>class Person {}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 类表达式</span></span>
<span class="line"><span>const TestPerson = class {}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>区别：类声明不会有提升现象，使用类表达式如果使用变量var接收，则会出现变量提升</span></span>
<span class="line"><span></span></span>
<span class="line"><span>构造函数</span></span>
<span class="line"><span>类的数据类型就是函数（所以才有函数的prototype属性），类本身指向构造函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(typeof Person) // function</span></span>
<span class="line"><span>console.log(Person === Person.prototype.constructor) // true</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>所以，使用new关键字创建一个实例对象，实际会调用类的构造函数constructor</span></span>
<span class="line"><span></span></span>
<span class="line"><span>构造函数的this指向创建的实例</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>  //构造函数</span></span>
<span class="line"><span>  constructor(name){</span></span>
<span class="line"><span>    this.name=name</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>new Person()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>不定义构造函数时，会默认生成一个空的构造函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 等于</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor () {}</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>new class的过程</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class本质上就是new function的语法糖，下面的过程也与其一致</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>1、在内存中创建一个新对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2、这个新对象内部的[[Prototype]]属性，被赋值为构造函数的prototype属性</span></span>
<span class="line"><span></span></span>
<span class="line"><span>3、构造函数内部的this被赋值为这个新对象（即this指向新对象）；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>4、执行构造函数内部的代码（给新对象添加属性）；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>5、如果构造函数返回非空对象，则返回该对象；否则，返回刚创建的新对象；</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>函数才有prototype属性，因为class底层也是函数，所以也有prototype属性，其值也是一个对象，键名为constructor，值为类的构造函数constructor</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (name) {</span></span>
<span class="line"><span>        this.name=name</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>console.log(Person.prototype); //{constructor: ƒ}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>如果存在普通成员，则也会加到实例的原型链上，如下：所有Person的实例都可以访问到getName方法。静态成员不会被添加进去，这也是为什么实例不能访问到静态方法的原因</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (name) {</span></span>
<span class="line"><span>        this.name=name</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    getName(){</span></span>
<span class="line"><span>        console.log(this)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  	static getName(){</span></span>
<span class="line"><span>        console.log(this)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>console.log(Person.prototype) //{constructor: ƒ, getName: ƒ}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>我们可以在创建函数时，传入初始化的一些参数，new返回的对象会带着这些数据（初始化实例对象）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (name,age) {</span></span>
<span class="line"><span>        this.name=name //this指向new创建出的实例对象，即向实例对象添加属性name</span></span>
<span class="line"><span>      	this.age=age</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>let p = new Person(&#39;jack&#39;,20)</span></span>
<span class="line"><span>console.log(p.name,p.age);//jack 20</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>类的普通成员</span></span>
<span class="line"><span>普通方法：this指向创建的实例，可以用来操作实例对象的数据。</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (name) {</span></span>
<span class="line"><span>        this.name=name</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  	//普通方法，其中this指向创建的实例对象</span></span>
<span class="line"><span>    getName(){</span></span>
<span class="line"><span>        console.log(this)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  	//箭头函数语法</span></span>
<span class="line"><span>  	getName=()=&gt;{</span></span>
<span class="line"><span>        console.log(this)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  	//类不是对象，`函数名：`的写法在类里都是错的</span></span>
<span class="line"><span>  	getName:()=&gt;{</span></span>
<span class="line"><span>        console.log(this)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>let p = new Person(&#39;jack&#39;,20)</span></span>
<span class="line"><span>p.getName() //Person { name: &#39;tom&#39; }</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>实例对象的属性。可直接通过点语法读写实例属性</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (name) {</span></span>
<span class="line"><span>        this.name=name</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>let p = new Person(&#39;jack&#39;,20)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//取值</span></span>
<span class="line"><span>console.log(p.name);//jack</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//赋值</span></span>
<span class="line"><span>p.name=&#39;tom&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//取值</span></span>
<span class="line"><span>console.log(p.name);//tom</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>前面学习对象时，我们直到对象能直接通过点方法完成读写属性，是因为setter和getter。在class中我们可直接定义setter和getter来实现读写的拦截</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (name) {</span></span>
<span class="line"><span>        this.name=name</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  	//属性名</span></span>
<span class="line"><span>    get propName(){</span></span>
<span class="line"><span>      	//这里可以做拦截处理</span></span>
<span class="line"><span>        return this.name</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>		//属性名</span></span>
<span class="line"><span>    set propName(value){</span></span>
<span class="line"><span>      	//这里可以做拦截处理</span></span>
<span class="line"><span>        this.name=value</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>let p = new Person(&#39;jack&#39;,20)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 读取 （实例.属性名）触发get</span></span>
<span class="line"><span>console.log(p.propName);//jack</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 赋值 （实例.属性名=xxx）触发set</span></span>
<span class="line"><span>p.propName=&#39;tom&#39;</span></span>
<span class="line"><span>console.log(p.propName);//tom</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>解构类中的函数，通常我建议不要这样调用函数。但是，这在语法上是成立的，所以这里仍然需要提下这种用法造成的this指向问题</span></span>
<span class="line"><span></span></span>
<span class="line"><span>this的调用者是window，但是由于class内部默认严格模式所以是undefined</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (name) {</span></span>
<span class="line"><span>        this.name=name</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  	//普通方法，其中this指向创建的实例对象</span></span>
<span class="line"><span>    getName(){</span></span>
<span class="line"><span>        console.log(this)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>let p = new Person(&#39;jack&#39;,20)</span></span>
<span class="line"><span>const {getName} =p</span></span>
<span class="line"><span>getName() //undefined</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>解决this指向不是当前实例的问题</span></span>
<span class="line"><span></span></span>
<span class="line"><span>bind手动修改this指向</span></span>
<span class="line"><span></span></span>
<span class="line"><span>利用了创建实例时，构造函数执行的时机，获取方法并bind改变this指向为当前实例，最后赋值回去</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (name) {</span></span>
<span class="line"><span>        this.name=name</span></span>
<span class="line"><span>        this.getName=this.getName.bind(this)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  	//普通方法，其中this指向创建的实例对象</span></span>
<span class="line"><span>    getName(){</span></span>
<span class="line"><span>        console.log(this)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>let p = new Person(&#39;jack&#39;,20)</span></span>
<span class="line"><span>const {getName} =p</span></span>
<span class="line"><span>getName() //Person { getName: [Function: getName], name: &#39;jack&#39; }</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>箭头函数（类中推荐使用箭头函数）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (name) {</span></span>
<span class="line"><span>        this.name=name</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  	//普通方法，其中this指向创建的实例对象</span></span>
<span class="line"><span>    getName=()=&gt;{</span></span>
<span class="line"><span>        console.log(this)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>let p = new Person(&#39;jack&#39;,20)</span></span>
<span class="line"><span>const {getName} =p</span></span>
<span class="line"><span>getName() //Person { getName: [Function: getName], name: &#39;jack&#39; }</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>代理方案（网上抄来的）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function classProxy (target) {</span></span>
<span class="line"><span>    const map = new Map()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 读取拦截配置, 只需要配置 get</span></span>
<span class="line"><span>    const hanlder = {</span></span>
<span class="line"><span>        get(target, key) {</span></span>
<span class="line"><span>            const val = Reflect.get(target, key)</span></span>
<span class="line"><span>            // 要获取的是函数执行, 如果不是函数就直接返回 val</span></span>
<span class="line"><span>            if (typeof val !== &#39;function&#39;) return val</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            if (!map.has(val)) {</span></span>
<span class="line"><span>                // 使用 bind改变运行函数的 this为拦截的实例对象</span></span>
<span class="line"><span>                map.set(val, val.bind(target))</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            return map.get(val)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    const proxy = new Proxy(target, hanlder)</span></span>
<span class="line"><span>    return proxy</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (text) {</span></span>
<span class="line"><span>        this.text = text</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    getText () {</span></span>
<span class="line"><span>        console.log(this.text)</span></span>
<span class="line"><span>        return this.text</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const person = classProxy(new Person(&#39;test&#39;))</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const { getText } = person</span></span>
<span class="line"><span></span></span>
<span class="line"><span>getText() // test</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>类的静态成员</span></span>
<span class="line"><span>包括静态变量、方法、块。静态成员是所有实例共享的</span></span>
<span class="line"><span></span></span>
<span class="line"><span>静态成员是属于类的，只有静态成员中的this指向当前类</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>  	//3、静态变量</span></span>
<span class="line"><span>    static school =&#39;默认值&#39;</span></span>
<span class="line"><span>  	//1、构造函数、普通方法中的this指向创建的实例对象。只能操作实例数据</span></span>
<span class="line"><span>    constructor (name) {</span></span>
<span class="line"><span>       this.name=name</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  	getName(){</span></span>
<span class="line"><span>      return this.name</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  	//2、静态方法中的this指向类，所以静态方法能访问其他所有成员，关键的是只要有他能才能操作静态变量</span></span>
<span class="line"><span>    static getThis(){</span></span>
<span class="line"><span>        console.log(this)</span></span>
<span class="line"><span>      	//</span></span>
<span class="line"><span>      	this.school=&#39;这有这里才能访问到静态变量&#39;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//4、类调用静态方法</span></span>
<span class="line"><span>console.log(Person.school) //默认值</span></span>
<span class="line"><span>Person.getThis() //{ school: &#39;默认值&#39; }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//5、实例调用普通方法</span></span>
<span class="line"><span>let p=new Person()</span></span>
<span class="line"><span>p.getName()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>可以看到普通方法、静态方法的this不同，他们只能访问自己this范围内的数据</span></span>
<span class="line"><span></span></span>
<span class="line"><span>类的私有成员</span></span>
<span class="line"><span>构造函数、普通方法在其函数内部可以通过this访问到普通成员、私有成员（静态方法才能访问静态成员）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>new class创造的实例仅能通过点操作符访问普通成员，无法访问私有成员</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span># 语法是ECMAScript 2022（ES12）开始支持</span></span>
<span class="line"><span></span></span>
<span class="line"><span># node16以上版本才支持</span></span>
<span class="line"><span></span></span>
<span class="line"><span># eslint 选指定</span></span>
<span class="line"><span>module.exports = {</span></span>
<span class="line"><span>  parserOptions: {</span></span>
<span class="line"><span>    ecmaVersion: &#39;12&#39;,</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    #school =&#39;默认值&#39;</span><span>  // 私有变量</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //1、构造函数，通过this调用私有方法</span></span>
<span class="line"><span>    constructor () {</span></span>
<span class="line"><span>       this.#getThis()</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    f1(){</span></span>
<span class="line"><span>        console.log(&#39;普通方法f1&#39;)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    static f2(){</span></span>
<span class="line"><span>        console.log(&#39;静态方法f2&#39;)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  	//2、私有方法，通过this调用普通方法</span></span>
<span class="line"><span>    #getThis(){</span></span>
<span class="line"><span>        console.log(this) //Person {#getThis: ƒ}。为啥没有f1呢？前面提到过，f1是普通方法，要放在实例对象的[[Prototype]]原型链上</span></span>
<span class="line"><span>        this.f1() //普通方法f</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>let p = new Person()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>继承</span></span>
<span class="line"><span>通过extends关键字，继承父类的普通成员、静态成员</span></span>
<span class="line"><span></span></span>
<span class="line"><span>子类（Child）如果设置了 constructor 方法就必须在函数开始调用 super() ，super()表示父级构造函数，如果父级构造函数需要参数，可以通过super(xxx)传入</span></span>
<span class="line"><span></span></span>
<span class="line"><span>本质：new子类时，会调用子类的构造方法，其中的super方法创建一个父级实例，然后把父级实例赋值给this（指向子类的实例），所以子类有了父级的普通成员、静态成员</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    //静态属性</span></span>
<span class="line"><span>    static school =&#39;默认值&#39;</span></span>
<span class="line"><span>    //构造函数</span></span>
<span class="line"><span>    constructor (text) {</span></span>
<span class="line"><span>       console.log(&#39;父级构造函数，入参：&#39;,text)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    //普通方法</span></span>
<span class="line"><span>    f1(){</span></span>
<span class="line"><span>        console.log(&#39;普通方法f1&#39;)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    //静态方法</span></span>
<span class="line"><span>    static f2(){</span></span>
<span class="line"><span>        console.log(&#39;静态方法f2&#39;)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  	//私有方法</span></span>
<span class="line"><span>    #f3(){</span></span>
<span class="line"><span>        console.log(&#39;私有方法f3&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//------子类Child-------</span></span>
<span class="line"><span>class Child extends Person{</span></span>
<span class="line"><span>    constructor(){</span></span>
<span class="line"><span>        super(&#39;子类调用&#39;)// super(xxx) 相当于父类的构造函数</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  	f4(){</span></span>
<span class="line"><span>      super.f2()  //super.xxx 调用父类的普通成员、静态成员（私有成员不能调用）</span></span>
<span class="line"><span>		}</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//1、可调用父类的静态方法</span></span>
<span class="line"><span>Child.f2()//静态方法f2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//2、可调用父类的普通方法</span></span>
<span class="line"><span>let c=new Child() //父级构造函数，入参: 子类调用</span></span>
<span class="line"><span>c.f1()//普通方法f1</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>如果子类没有指定构造函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    constructor (text) {</span></span>
<span class="line"><span>        this.text = text</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Child extends Person {}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const a = new Child(&#39;设置 text&#39;); // Child { text: &#39;设置 text&#39; }</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>super还可以调用父级普通方法</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//------父类Person-------</span></span>
<span class="line"><span>class Person {</span></span>
<span class="line"><span>    //普通方法</span></span>
<span class="line"><span>    f1(){</span></span>
<span class="line"><span>        return &#39;普通方法f1&#39;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//------子类Child-------</span></span>
<span class="line"><span>class Child extends Person{</span></span>
<span class="line"><span>    constructor(){</span></span>
<span class="line"><span>        super()</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    f4(){</span></span>
<span class="line"><span>         return &#39;通过super调用&#39;+super.f1()</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let c=new Child()</span></span>
<span class="line"><span>c.f4()&#39;通过super调用普通方法f1&#39;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>混入</span></span>
<span class="line"><span>将多个模块代码混入到类中</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 定义一个 Mixin 对象</span></span>
<span class="line"><span>const Mixin = {</span></span>
<span class="line"><span>  foo() {</span></span>
<span class="line"><span>    console.log(&#39;foo&#39;);</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  bar() {</span></span>
<span class="line"><span>    console.log(&#39;bar&#39;);</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 定义一个类</span></span>
<span class="line"><span>class MyClass {</span></span>
<span class="line"><span>  constructor() {</span></span>
<span class="line"><span>    // 将 Mixin 合并到当前对象中</span></span>
<span class="line"><span>    Object.assign(this, Mixin);</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 创建一个实例</span></span>
<span class="line"><span>const obj = new MyClass();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 调用 Mixin 中的方法</span></span>
<span class="line"><span>obj.foo(); // 输出 &quot;foo&quot;</span></span>
<span class="line"><span>obj.bar(); // 输出 &quot;bar&quot;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>​</span></span>
<span class="line"><span></span></span>
<span class="line"><span>JSDocs</span></span>
<span class="line"><span>JSDoc 注释规则</span></span>
<span class="line"><span>JSDoc注释一般应该放置在方法或函数声明之前，它必须以/**开始</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span>* JSDoc 注释写在这里</span></span>
<span class="line"><span>*/</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>变量类型 @type</span></span>
<span class="line"><span>写在变量前一行，指定变量类型。格式：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/** @type {xxx} */</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>基本类型</span></span>
<span class="line"><span></span></span>
<span class="line"><span>指定变量为string类型</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/** @type {string} */</span></span>
<span class="line"><span>var a;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>image-20230404140752941</span></span>
<span class="line"><span></span></span>
<span class="line"><span>数组类型</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/** @type {number[]} */</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/** @type {Array&lt;number&gt;} */</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/** @type {Array.&lt;number&gt;} */</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>指定对象字面量类型</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/** @type {{name:string,age:number}} */</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>image-20230404141245902</span></span>
<span class="line"><span></span></span>
<span class="line"><span>指定函数类型【推荐第一种形式，形参名和类型更加清晰。更推荐@param方式】</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//---箭头函数形式，必须指定形参名a、b---</span></span>
<span class="line"><span>/** @type {(a:number,b:number)=&gt;number} */</span></span>
<span class="line"><span>var a;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>image-20230404142316939</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//---function形式，不指明形参，不推荐---</span></span>
<span class="line"><span>/** @type {function(number,number):number} */</span></span>
<span class="line"><span>var b;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>image-20230404141836954</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/** @type {Function} */</span></span>
<span class="line"><span>var a;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>image-20230404142502342</span></span>
<span class="line"><span></span></span>
<span class="line"><span>不指定类型默认为any类型，或者手动声明</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/** @type {*} */</span></span>
<span class="line"><span>/** @type {?} */</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>image-20230404142812303</span></span>
<span class="line"><span></span></span>
<span class="line"><span>字面量</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * @type {1}</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>let a;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>联合类型</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/** @type {string|number} */</span></span>
<span class="line"><span>var a;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>断言</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * @type {number | string}</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>var numberOrString = Math.random() &lt; 0.5 ? &quot;hello&quot; : 100;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//将numberOrString断言为number类型</span></span>
<span class="line"><span>var typeAssertedNumber = /** @type {number} */ (numberOrString)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>参数类型 @param、@callback、@returns</span></span>
<span class="line"><span>函数形参、返回值注释</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * @param {string} p1   参数p1类型为string</span></span>
<span class="line"><span> * @param {string} [p2] 参数p2类型为string,可选参数</span></span>
<span class="line"><span> * @returns {string}     返回值类型</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>function a(p1, p2, p3, p4){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>回调函数注释</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * 返回用户信息的回调</span></span>
<span class="line"><span> * @callback UserInfoCallback</span></span>
<span class="line"><span> * @param {string} name 姓名</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * 获取用户</span></span>
<span class="line"><span> * @param {UserInfoCallback} cb 回调函数</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>async function fetchUser (cb) {</span></span>
<span class="line"><span>  const username = await fetch(&#39;get/users&#39;)</span></span>
<span class="line"><span>  return cb(username)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>使用@typedef 定义对象，有些时候会失效，所以我推荐下面的方式：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * 查询地锁状态</span></span>
<span class="line"><span> * @param {Object} data</span></span>
<span class="line"><span> * @param {string} data.connectorId 枪id</span></span>
<span class="line"><span> * @param {number} data.supplierId 供应商id</span></span>
<span class="line"><span> * @see [接口文档](http://xxxx)</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>function getInviteCode(data){};</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>![image-20240922234750117](/Users/heyingjie/Library/Application Support/typora-user-images/image-20240922234750117.png)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>@typedef、@property</span></span>
<span class="line"><span>如果类型不是基础类型，而是对象类型（使用@property字段）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * 定义新类型Student</span></span>
<span class="line"><span> * @typedef {object} Student</span></span>
<span class="line"><span> * @property {string} Student.name</span></span>
<span class="line"><span> * @property {number} Student.age</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**@type {Student}  */</span></span>
<span class="line"><span>let a;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * @param {Student} 查询的学生</span></span>
<span class="line"><span> * @returns {number} 年龄</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>function getUserAge(stu) {</span></span>
<span class="line"><span>  return stu.age</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>@enum</span></span>
<span class="line"><span>枚举类型，一般配合@readonly使用，因为枚举值正常来说是不能被更改的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * @readonly</span></span>
<span class="line"><span> * @enum {0｜1}</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>const gender ={</span></span>
<span class="line"><span>    male:0,</span></span>
<span class="line"><span>    female:1</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * @type {gender.male}</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>let a;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>@template</span></span>
<span class="line"><span>声明泛型</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * @template T</span></span>
<span class="line"><span> * @param {T} x - A generic parameter that flows through to the return type</span></span>
<span class="line"><span> * @return {T}</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>function id(x){ return x }</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>@example</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * 计算两个数字的和</span></span>
<span class="line"><span> * @param {number} a - 第一个数字</span></span>
<span class="line"><span> * @param {number} b - 第二个数字</span></span>
<span class="line"><span> * @returns {number} 两个数字的和</span></span>
<span class="line"><span> * @example</span></span>
<span class="line"><span> *</span><span> // 示例 1</span></span>
<span class="line"><span> * const result1 = add(2, 3);</span></span>
<span class="line"><span> * console.log(result1);</span><span> // 输出: 5</span></span>
<span class="line"><span> *</span></span>
<span class="line"><span> *</span><span> // 示例 2</span></span>
<span class="line"><span> * const result2 = add(5, -2);</span></span>
<span class="line"><span> * console.log(result2);</span><span> // 输出: 3</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>function add(a, b) {</span></span>
<span class="line"><span>  return a + b;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>@see</span></span>
<span class="line"><span>文档url地址</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span>  * 领取证书</span></span>
<span class="line"><span>  * @param {Object} data</span></span>
<span class="line"><span>  * @see [接口文档](http://xxxx)</span></span>
<span class="line"><span>*/</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>案例</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/**</span></span>
<span class="line"><span> * 首页-数据预览接口</span></span>
<span class="line"><span> * @param {Object} data</span></span>
<span class="line"><span> * @param {number} data.level 证书等级（1-7）</span></span>
<span class="line"><span> * @param {string} data.showName 用户昵称</span></span>
<span class="line"><span> * @returns {string} 返回值类型</span></span>
<span class="line"><span> * @see [接口文档](http://yapi.yiche.com/project/743/interface/api/74850)</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>customStatisPreview(data) {</span></span>
<span class="line"><span>  // xxxx</span></span>
<span class="line"><span>},</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>d.ts文件</span></span>
<span class="line"><span>JSDoc仅仅可以在鼠标悬浮在变量或者函数时出现提示。但是，并不能在输入时提示字段名</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20230817152211814</span></span>
<span class="line"><span></span></span>
<span class="line"><span>d.ts文件是记录声明与类型关系的文件，编辑器会自动读取这个文件为我们做代码提示</span></span>
<span class="line"><span></span></span>
<span class="line"><span>参考：https://m.php.cn/faq/394698.html</span></span>
<span class="line"><span></span></span>
<span class="line"><span>模块化规范</span></span>
<span class="line"><span>模块化概述</span></span>
<span class="line"><span>EMS</span></span>
<span class="line"><span></span></span>
<span class="line"><span>官方的模块化标准，目前浏览器已原生支持、Node环境下也支持</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CommonJS</span></span>
<span class="line"><span></span></span>
<span class="line"><span>仅Node环境中支持</span></span>
<span class="line"><span></span></span>
<span class="line"><span>UMD</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Universal Module Definition 通用模块定义，它可以通过运行编译时让同一个代码模块支持EMS、CommonJS</span></span>
<span class="line"><span></span></span>
<span class="line"><span>本质就是一个立即执行函数，通过判断是否存在某些全局变量，来使用不同的导出</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>(function(root, factory) {</span></span>
<span class="line"><span>    if (typeof module === &#39;object&#39; &amp;&amp; typeof module.exports === &#39;object&#39;) {</span></span>
<span class="line"><span>        //commonjs模块规范</span></span>
<span class="line"><span>        module.exports = factory();</span></span>
<span class="line"><span>    } else if (typeof define === &#39;function&#39; &amp;&amp; define.amd) {</span></span>
<span class="line"><span>        //是AMD模块规范，如require.js</span></span>
<span class="line"><span>        define(function(require,exports,module){</span></span>
<span class="line"><span>        //如果要将指定模块名(比如:fpd)挂载到window对象，可以用       \</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // root.fpd= factory();});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        module.exports = factory();});</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    } else if (typeof define === &#39;function&#39; &amp;&amp; define.cmd) {</span></span>
<span class="line"><span>        //CMD模块规范，如sea.js</span></span>
<span class="line"><span>        define(function(require, exports, module) {</span></span>
<span class="line"><span>            module.exports = factory()</span></span>
<span class="line"><span>        })</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        //没有模块环境，直接挂载在全局对象上</span></span>
<span class="line"><span>        root.umdModule = factory(root);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}(this, function() {</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>     // 方法</span></span>
<span class="line"><span>    function 私有方法名(){};</span></span>
<span class="line"><span>    function 公共方法(){};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //对外暴露的方法</span></span>
<span class="line"><span>    return {</span></span>
<span class="line"><span>        公共方法: 公共方法</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>}));</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>IIFE</span></span>
<span class="line"><span></span></span>
<span class="line"><span>IIFE打包成一个立即执行函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>(function foo(){</span></span>
<span class="line"><span>  console.log(&#39;立即执行函数&#39;)</span></span>
<span class="line"><span>}())</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>较为常见的 SDK 打包方式，项目使用script标签引入后，就会立即执行向window上挂载SDK类</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在另一个script标签中增加 new SDK类(配置参数)，就可实现加载SDK功能</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CommonJS</span></span>
<span class="line"><span>基础</span></span>
<span class="line"><span>Node环境中模块内置变量、函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>module 变量</span></span>
<span class="line"><span></span></span>
<span class="line"><span>代表当前JS模块，存储当前模块的信息</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>module.path // 当前js文件的查找路径</span></span>
<span class="line"><span></span></span>
<span class="line"><span>module.exports // 表示当前模块对外输出的接口，其他文件加载该模块，本质就是读取该变量</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>exports 变量</span></span>
<span class="line"><span></span></span>
<span class="line"><span>是module.exports的别名</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var exports = module.exports;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>require 函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>用于引入模块的函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 内置模块</span></span>
<span class="line"><span>const foo1 = require(&quot;http&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 第三方模块（axios模块需要通过npm安装）</span></span>
<span class="line"><span>const axios = require(&quot;axios&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 文件模块(参数是路径)</span></span>
<span class="line"><span>const foo2 = require(&quot;/a.js&quot;); //看后面的 路径分析——&gt;文件定位</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>加载模块流程</span></span>
<span class="line"><span>加载内置模块的流程：缓存加载、文件定位、编译执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>加载第三方模块、文件模块的流程：缓存加载、路径分析、文件定位、编译执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>缓存加载</span></span>
<span class="line"><span></span></span>
<span class="line"><span>node 为了提高性能，优先从缓存中加载，如果缓存中没有，才会从路径分析、文件定位、编译执行，最后放入缓存中</span></span>
<span class="line"><span></span></span>
<span class="line"><span>文件模块：在第一次加载模块后，会把模块编译执行并放在缓存中。从而以后再次加载模块的时候，会直接去缓存中找相应的模块。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>内置模块：它在 Node 源代码编译过程中直接编译成了二进制可执行文件，在启动 Node 进程的同时就从内存中加载了核心模块，并缓存起来。所以内置模块的加载跳过了文件定位和编译执行的步骤，并且优先于文件模块加载</span></span>
<span class="line"><span></span></span>
<span class="line"><span>路径分析</span></span>
<span class="line"><span></span></span>
<span class="line"><span>路径分析主要是对模块标识符分析，根据不同类型的模块标识符使用不同规则分析路径</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>require(&quot;模块标识符&quot;);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>（1）如果模块标识符为路径（绝对路径、相对路径），比如： require(./a.js)或者require(./a)，会从指定路径寻找</span></span>
<span class="line"><span></span></span>
<span class="line"><span>（2）如果模块标识符不为路径，比如require(&#39;a.js&#39;)、require(&#39;a&#39;)，就会按照以下的顺序去寻找</span></span>
<span class="line"><span></span></span>
<span class="line"><span>查询当前文件目录下的node_modules路径</span></span>
<span class="line"><span>查询父级目录下的node_modules路径</span></span>
<span class="line"><span>查询父级的父级目录下的node_modules路径</span></span>
<span class="line"><span>一直递归，直到查询到根目录下的node_modules路径</span></span>
<span class="line"><span>文件定位</span></span>
<span class="line"><span></span></span>
<span class="line"><span>由于模块标识符的文件后缀可以省略，node 需要知道要查找的模块，到底是一个文件还是一个文件夹（包）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>主要分为两个步骤：文件拓展名分析和目录（包）分析</span></span>
<span class="line"><span></span></span>
<span class="line"><span>文件拓展名分析</span></span>
<span class="line"><span></span></span>
<span class="line"><span>我们使用 require 引入模块的时候，可以不加文件的后缀名。比如：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var foo = require(&quot;foo&quot;);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>这个时候 Node 就会进行文件拓展名分析，会依次分析下面三个拓展名：.js、.node、.json 在分析的过程中，Node 会同步阻塞式调用 fs 模块来判断文件是否存在</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果查找不到这个文件，那么就会进行目录（包）分析</span></span>
<span class="line"><span></span></span>
<span class="line"><span>找到 foo 这个目录（或者叫包）【如何找到？请看上面的路径分析】</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果有 package.json 文件，使用 JSON.parse 解析 JSON 对象，找到 name 属性值，如果和模块标识符一样，那就找到 main 字段，这个字段指定了包的入口文件</span></span>
<span class="line"><span>如果没有 package.json 文件，就会在当前目录下依次寻找index.js、index.node、index.json，如果都不符合条件就抛出异常</span></span>
<span class="line"><span>编译执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>文件定位无论是文件拓展名分析还是目录（包）分析，只要成功，最后都会找到一个文件</span></span>
<span class="line"><span></span></span>
<span class="line"><span>node 根据文件后缀，处理最终定位的文件</span></span>
<span class="line"><span></span></span>
<span class="line"><span>.js：通过 fs 模块同步载入后编译执行</span></span>
<span class="line"><span>.node：这是 c/c++编写的拓展文件，需要调用 dlopen()方法来编译</span></span>
<span class="line"><span>.json：通过 fs 模块同步载入后使用 JSON.parse 解析结果</span></span>
<span class="line"><span>其余拓展名都被当做 js 文件来处理</span></span>
<span class="line"><span>导出和引入</span></span>
<span class="line"><span>使用module.exports导出/引入</span></span>
<span class="line"><span></span></span>
<span class="line"><span>module.exports 是 node 提供的一个导出对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>多次导出</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//a.js</span></span>
<span class="line"><span>var a = 1;</span></span>
<span class="line"><span>var aPlus = function () {</span></span>
<span class="line"><span>  return a++;</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span>module.exports.a = a;</span></span>
<span class="line"><span>module.exports.aPlus = aPlus;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>批量导出</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//a.js</span></span>
<span class="line"><span>module.exports = {</span></span>
<span class="line"><span>  //对象</span></span>
<span class="line"><span>  fun1() {},</span></span>
<span class="line"><span>  fun2() {},</span></span>
<span class="line"><span>  count: 1,</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>引入（多次导出还是批量导出，导出的都是对象，引入的也是整个对象）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//b.js</span></span>
<span class="line"><span>const obj = require(&#39;./a.js&#39;);//导入整个对象</span></span>
<span class="line"><span>console.log(obj.count) //1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const {fun1,fun2，count} = require(&#39;./a.js&#39;);//解构赋值</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>使用exports导出/引入</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在每个 node 模块中，node 提供一个 exports 变量，指向 module.exports。这等同在每个模块头部，有一句代码</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var exports = module.exports;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>使用 exports 时，只能给 exports 添加属性</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//a.js</span></span>
<span class="line"><span>exports.area = 10;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//b.js  引入与前面一样</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>不能直接给 exports 赋值，这种用法是错误的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let count = 1;</span></span>
<span class="line"><span>exports = count;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>因为，相当于下面代码。node 实际导出的是 module.exports，exports 存的 count 根本没有导出</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var exports = module.exports;</span></span>
<span class="line"><span>let count = 1;</span></span>
<span class="line"><span>exports = count;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>这种形式的 exports 和 module.exports 混用，也是错误的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>exports.hello = function () {</span></span>
<span class="line"><span>  return &quot;hello&quot;;</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>module.exports = &quot;Hello world&quot;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>因为等价于下面的代码。</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var exports = module.exports;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//</span></span>
<span class="line"><span>module.exports.hello = function () {</span></span>
<span class="line"><span>  return &quot;hello&quot;;</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//module.exports原本是一个有hello属性的对象，现在变成了字符串</span></span>
<span class="line"><span>module.exports = &quot;Hello world&quot;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>注意</span></span>
<span class="line"><span></span></span>
<span class="line"><span>为避免导出时出现问题，尽量只使用module.exxports</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ESM</span></span>
<span class="line"><span>基础</span></span>
<span class="line"><span>每个模块都是单独的私有作用域，模块内部，自动采用严格模式(“use strict”)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ESM 导出的是值的地址，且默认为 const，是不可以修改的，修改操作只在模块内部进行（由于 const 的问题，实际上引用类型，是可以更改的）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//a.js</span></span>
<span class="line"><span>export let count = 1;</span></span>
<span class="line"><span>export function countPlus() {</span></span>
<span class="line"><span>  count++;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export let stu = {</span></span>
<span class="line"><span>  name: &quot;jack&quot;,</span></span>
<span class="line"><span>  age: 18,</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//b.js</span></span>
<span class="line"><span>import { count, stu, countPlus } from &quot;./a.js&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//--可以直接修改引用类型的值--</span></span>
<span class="line"><span>stu.age++;</span></span>
<span class="line"><span>console.log(stu); //{ name: &#39;jack&#39;, age: 19 }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//--模块内部的函数是可以修改，其内部值的--</span></span>
<span class="line"><span>countPlus();</span></span>
<span class="line"><span>console.log(count); //2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//--直接修改内部count值报错--</span></span>
<span class="line"><span>count++; //TypeError: Assignment to constant variable.</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>引入 ESM 模块，模块内的代码就会被被执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//a.js</span></span>
<span class="line"><span>console.log(&quot;a.js文件中的打印&quot;);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//b.js</span></span>
<span class="line"><span>import {} from &quot;./a.js&quot;; //a.js文件中的打印</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>import 关键字不能直接在作用域种使用</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>if (true) {</span></span>
<span class="line"><span>  import { name } from &quot;./module.js&quot;; // 这么写会报错的</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// 动态导入模块就可以解决上面的问题</span></span>
<span class="line"><span>import(&quot;./module.js&quot;).then(function (module) {</span></span>
<span class="line"><span>  console.log(module);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>导出和引入的方式</span></span>
<span class="line"><span>引入</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 具名导入（named import）</span></span>
<span class="line"><span>import { useRef } from &quot;react&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 命名空间导入（namespace import）</span></span>
<span class="line"><span>import * as ReactCopy from &quot;react&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 默认导入（default import）</span></span>
<span class="line"><span>import React from &quot;react&quot;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>导出</span></span>
<span class="line"><span></span></span>
<span class="line"><span>多值导出</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>export let count = 1;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export function countplus() {</span></span>
<span class="line"><span>  count++;</span></span>
<span class="line"><span>  console.log(count);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>export class Person {}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>也可以统一在最后导出</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>export { count, countplus, Person };</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//as关键字可以重命名</span></span>
<span class="line"><span>export { name as myName, hi as hello, Person as People };</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// as default是一个特殊名字，相当于把name作为默认导出</span></span>
<span class="line"><span>export { name as default, hi };</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// !!!! 错误语法 : export多值导出的并不是对象，所以切记不能写成下面键值对语法</span></span>
<span class="line"><span>export {</span></span>
<span class="line"><span>  name:11</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>引入模块</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//引入某个值</span></span>
<span class="line"><span>import { xxx } from &quot;yyy&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//引入命名空间，xxx是一个对象，包含所有使用“多值导出”的</span></span>
<span class="line"><span>import * as xxx from &quot;yyy&quot;;</span></span>
<span class="line"><span>console.log(xxx.name)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>默认导出（仅导出一个值）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//默认导出一个对象</span></span>
<span class="line"><span>export default {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//默认导出一个函数</span></span>
<span class="line"><span>export default function add(){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>默认导出后不能是语句</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//！！！！报错</span></span>
<span class="line"><span>export default const add= function(){}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 可以</span></span>
<span class="line"><span>const add = function(){}</span></span>
<span class="line"><span>export default add</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>引入模块</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//xxx是默认导出的值</span></span>
<span class="line"><span>import xxx from &quot;yyy&quot;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>特殊写法（比较少用）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>import { name } from &quot;./module.js&quot;</span></span>
<span class="line"><span>import { age } from &quot;./module2.js&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export { name age }</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>重新导出</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在一个文件中导入又导出，可以直接这样写：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>一般用法是在index文件中把整个npm包需要导出的重新具名导出</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// module中如果有具名导出name，通过下面可以再次具名导出</span></span>
<span class="line"><span>export { name } from &quot;./xxx&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 从module2拿到默认导出，在改成具名导出NewCar</span></span>
<span class="line"><span>export { default as NewCar } from &#39;./xxx&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>export * from &#39;./xxx&#39;  // 重新导出xxx中的多值导出。不包含default默认导出</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>注意</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这两种导出方式其实可以同时使用（并不推荐）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 多值导出</span></span>
<span class="line"><span>export const foo = &quot;Hello&quot;;</span></span>
<span class="line"><span>export const bar = &quot;World&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//默认导出</span></span>
<span class="line"><span>export default { name: &quot;John&quot;, age: 30 };</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>引入</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 只能访问到多值导出的内容。 xxx.name是undefined</span></span>
<span class="line"><span>import * as xxx from &quot;yyy&quot;;</span></span>
<span class="line"><span>console.log(xxx.foo); // &quot;Hello&quot;</span></span>
<span class="line"><span>console.log(xxx.bar); // &quot;World&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 使用只能访问到默认导出的内容</span></span>
<span class="line"><span>import xxx from &quot;yyy&quot;;</span></span>
<span class="line"><span>console.log(xxx.name); // &quot;John&quot;</span></span>
<span class="line"><span>console.log(xxx.age);  // 30</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>补充</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在b.js 写引入，查看效果</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>node b.js</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>会出现提示，按照提示来 就可以了</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span> Warning: To load an ES module, set &quot;type&quot;: &quot;module&quot; in the package.json or use the .mjs extension.</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>使用npm init -y生成一个package.json文件，在里面添加</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&quot;type&quot;: &quot;module&quot;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>输入 node b.js，重新运行，输出结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span>浏览器</span></span>
<span class="line"><span>HTML 网页中，浏览器可通过&lt;script&gt;标签加载 JS 脚本</span></span>
<span class="line"><span></span></span>
<span class="line"><span>同步加载</span></span>
<span class="line"><span></span></span>
<span class="line"><span>默认情况下，浏览器是同步加载JS 脚本【渲染引擎遇到&lt;script&gt;标签就会停下来，等到执行完脚本，再继续向下渲染。如果是外部脚本，还必须加入脚本下载的时间】</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果脚本体积很大，下载和执行的时间就会很长，因此造成浏览器堵塞，用户会感觉到浏览器“卡死”了，没有任何响应。</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;!-- 页面内嵌的脚本 --&gt;</span></span>
<span class="line"><span>&lt;script type=&quot;application/javascript&quot;&gt;</span></span>
<span class="line"><span>  //脚本代码</span></span>
<span class="line"><span>&lt;/script&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;!-- 外部脚本 --&gt;</span></span>
<span class="line"><span>&lt;script type=&quot;application/javascript&quot; src=&quot;脚本地址&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>**异步加载 **</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script&gt;标签默认为同步加载，只要打开 defer 或 async 属性，脚本就会异步加载【渲染引擎遇到这一行命令，就会开始下载外部脚本，但不会等它下载和执行，而是直接执行后面的命令】</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script src=&quot;path/to/myModule.js&quot; defer&gt;&lt;/script&gt;</span></span>
<span class="line"><span>&lt;script src=&quot;path/to/myModule.js&quot; async&gt;&lt;/script&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>defer：要等到整个页面在内存中正常渲染结束（DOM 结构完全生成），才会执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>async：一旦下载完，渲染引擎就会中断渲染，执行这个脚本以后，再继续渲染</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意：如果有多个 defer 脚本，会按照它们在页面出现的顺序，执行脚本；而多个 async 脚本是不能保证按照在页面出现的顺序执行脚本。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用type属性可开启浏览器原生ESM支持，main.js文件可以使用ESM导出</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span>&lt;html lang=&quot;en&quot;&gt;</span></span>
<span class="line"><span>	&lt;head&gt;</span></span>
<span class="line"><span>    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span>    &lt;title&gt;Title&lt;/title&gt;</span></span>
<span class="line"><span>	&lt;/head&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	&lt;!--html文件是入口，在其中会加载main.js--&gt;</span></span>
<span class="line"><span>	&lt;script src=&quot;./main.js&quot; type=&quot;module&quot;&gt;</span></span>
<span class="line"><span>  	import xxx from &#39;xxx&#39;</span></span>
<span class="line"><span>  &lt;/script&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	&lt;body&gt;&lt;/body&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>ESM 与 CJS 模块的差异</span></span>
<span class="line"><span>区别一：运行阶段</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CommonJS 本质是加载的是一个对象（即module.exports属性）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>require是同步加载代码，运行时动态加载</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const cmjExample = require(&quot;./a.js&quot;);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>ES6 模块不是对象，它的对外接口只是一种静态定义（语法级别的）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在代码静态解析阶段就可以确定依赖关系（按需加载所需依赖），必须写在文件开头</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>import esmExample from &quot;./a.js&quot;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>也可以运行时动态加载，写法必须是下面这样</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>import(&#39;lang/zh.js&#39;).then(module) =&gt; { /* 获得语言包对象 */ }</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>区别二：导出值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CommonJS 模块输出的是一个值的拷贝</span></span>
<span class="line"><span></span></span>
<span class="line"><span>对于基础类型，修改引入值是不会改变模块原本的值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>但是引用类型比较特殊，修改引入的对象会改变模块原本的值</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// a.js</span></span>
<span class="line"><span>module.exports = {</span></span>
<span class="line"><span>  count: 1,</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>不可修改</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// b.js</span></span>
<span class="line"><span>const { count } = require(&quot;./a.js&quot;);</span></span>
<span class="line"><span>console.log(count); //1</span></span>
<span class="line"><span>count=2  // 输出 TypeError: &quot;city&quot; is read-only</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// c.js</span></span>
<span class="line"><span>const { count } = require(&quot;./a.js&quot;);</span></span>
<span class="line"><span>console.log(count); //1</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>可修改</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// b.js</span></span>
<span class="line"><span>const A = require(&quot;./a.js&quot;);</span></span>
<span class="line"><span>console.log(A.count); //1</span></span>
<span class="line"><span>A.count=2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// c.js</span></span>
<span class="line"><span>const A = require(&quot;./a.js&quot;);</span></span>
<span class="line"><span>console.log(A.count); //2</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>ESM模块输出的是值的引用</span></span>
<span class="line"><span></span></span>
<span class="line"><span>实际测试，居然与cmj是一样的，只有对象能改</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//a.js</span></span>
<span class="line"><span>export let count = 1;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//b.js</span></span>
<span class="line"><span>import { count } from &quot;./a.js&quot;;</span></span>
<span class="line"><span>console.log(count); //1</span></span>
<span class="line"><span>count=2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//b.js</span></span>
<span class="line"><span>import { count } from &quot;./a.js&quot;;</span></span>
<span class="line"><span>console.log(count); //2</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>注意</span></span>
<span class="line"><span></span></span>
<span class="line"><span>cmj、esm是一样的，都是导出运行后的结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span>下面用cmj举例子，导出的是实例、返回值，无论多少次引入都是同一个值</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 导出的是实例</span></span>
<span class="line"><span>class RootApi{</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>module.exports=new RootApi()</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 导出的是返回值</span></span>
<span class="line"><span>function f1{</span></span>
<span class="line"><span>	return 111</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>module.exports=f1()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>区别三：还是导出值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CommonJS 模块除了可以导出JS模块，还能导出JSON文件</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ESM模块只能导出JS模块（在使用打包工具时，是因为打包工具会替我们做一层转换，所以才能通过import引入图片、JSON等等）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>打包与构建</span></span>
<span class="line"><span>这块可以参考 Vite 的笔记，这里做一个额外的补充</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Tree Shaking</span></span>
<span class="line"><span>JS 是以模块为单位的，虽然只引入了 Button 组件，但是实际上引入了整个 xxx 模块</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>import { Button } from &#39;xxx&#39;;  // 这实际上全量导入</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>如果项目中引入了支持Tree Shaking 的打包工具，例如：rollup 。就可以实现仅仅打包引入的函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>参考 rollup 官方提供的 Repl 查看打包结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20241217235102859</span></span>
<span class="line"><span></span></span>
<span class="line"><span>果我们自己封装了组件库/工具提供给三方使用，也需要与 Tree Shaking 兼容，才能保证三方用户在打包时能充分利用 Tree Shaking 去除我们组件库/工具中无用代码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ESM 支持</span></span>
<span class="line"><span></span></span>
<span class="line"><span>所有模块需要以 ESM 格式发布的，打包工具可以进行静态分析识别哪些代码是真正被使用到的，哪些是可以安全移除的</span></span>
<span class="line"><span></span></span>
<span class="line"><span>无副作用声明</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在 package.json 中，声明 &quot;sideEffects&quot;: false 或者列出具有副作用的具体文件。这帮助打包工具更准确地执行 Tree Shaking，避免意外移除必要的代码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>优化的导入路径</span></span>
<span class="line"><span></span></span>
<span class="line"><span>虽然 Tree Shaking 能进行静态分析去除全量引入中无用的代码，但是仍然推荐使用者直接使用按需加载</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 全量导入（不推荐）</span></span>
<span class="line"><span>import { Button } from &#39;element-plus&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 按需加载（推荐）</span></span>
<span class="line"><span>import Button from &#39;element-plus/lib/button&#39;;</span></span>
<span class="line"><span>// 或者使用 Babel 插件后</span></span>
<span class="line"><span>import { Button } from &#39;element-plus&#39;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>支持按需加载需要 组件库/工具开发者 进行适配，利用 Bable 实现（这部分可以参考我写的 vite 组件库，后续补充到这里来）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>设计模式</span></span>
<span class="line"><span>参考设计模式</span></span>
<span class="line"><span></span></span>
<span class="line"><span>策略模式</span></span>
<span class="line"><span>https://www.jianshu.com/p/bfa7e289303a</span></span>
<span class="line"><span></span></span>
<span class="line"><span>发布订阅模式</span></span>
<span class="line"><span>EventBus通常是指事件总线系统，可以在不同的组件和模块之间传递事件。它用于解耦不同组件之间的通信，各组件只需要关注自己需要的事件和数据</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class EventBus {</span></span>
<span class="line"><span>  constructor() {</span></span>
<span class="line"><span>    this.events = {}; // 存储事件及其对应的回调函数列表</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 订阅事件</span></span>
<span class="line"><span>  subscribe(eventName, callback) {</span></span>
<span class="line"><span>    this.events[eventName] = this.events[eventName] || []; // 如果事件不存在，创建一个空的回调函数列表</span></span>
<span class="line"><span>    this.events[eventName].push(callback); // 将回调函数添加到事件的回调函数列表中</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 发布事件</span></span>
<span class="line"><span>  publish(eventName, data) {</span></span>
<span class="line"><span>    if (this.events[eventName]) {</span></span>
<span class="line"><span>     this.events[eventName].forEach(callback =&gt; {</span></span>
<span class="line"><span>        callback(data); // 执行回调函数，并传递数据作为参数</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 取消订阅事件</span></span>
<span class="line"><span>  unsubscribe(eventName, callback) {</span></span>
<span class="line"><span>    if (this.events[eventName]) {</span></span>
<span class="line"><span>      this.events[eventName] = this.events[eventName].filter(cb =&gt; cb !== callback); // 过滤掉要取消的回调函数</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>EventEmitter 是一个 Node.js 中的模块，使用它可以定义和触发事件</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class EventEmitter {</span></span>
<span class="line"><span>  constructor() {</span></span>
<span class="line"><span>    this.events = {}; // 用于存储事件及其对应的回调函数列表</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 订阅事件</span></span>
<span class="line"><span>  on(eventName, callback) {</span></span>
<span class="line"><span>    this.events[eventName] = this.events[eventName] || []; // 如果事件不存在，创建一个空的回调函数列表</span></span>
<span class="line"><span>    this.events[eventName].push(callback); // 将回调函数添加到事件的回调函数列表中</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 发布事件</span></span>
<span class="line"><span>  emit(eventName, data) {</span></span>
<span class="line"><span>    if (this.events[eventName]) {</span></span>
<span class="line"><span>      this.events[eventName].forEach(callback =&gt; {</span></span>
<span class="line"><span>        callback(data); // 执行回调函数，并传递数据作为参数</span></span>
<span class="line"><span>      });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 取消订阅事件</span></span>
<span class="line"><span>  off(eventName, callback) {</span></span>
<span class="line"><span>    if (this.events[eventName]) {</span></span>
<span class="line"><span>      this.events[eventName] = this.events[eventName].filter(cb =&gt; cb !== callback); // 过滤掉要取消的回调函数</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 添加一次性的事件监听器</span></span>
<span class="line"><span>  once(eventName, callback) {</span></span>
<span class="line"><span>      const onceCallback = data =&gt; {</span></span>
<span class="line"><span>          callback(data); // 执行回调函数</span></span>
<span class="line"><span>          this.off(eventName, onceCallback); // 在执行后取消订阅该事件</span></span>
<span class="line"><span>      };</span></span>
<span class="line"><span>      this.on(eventName, onceCallback);</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>单例模式</span></span>
<span class="line"><span>目的：维护一个全局实例对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>弹窗（登录框，信息提升框）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>全局态管理 store (Vuex / Redux)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>1、函数/类实现方案（唯一的实例存在静态成员里）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let Singleton = function (params) {</span></span>
<span class="line"><span>    this.params=params  // 这里就是类的构造函数 this指向new Singleton时新创建的对象</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Singleton.getInstance = function (params) {//静态方法</span></span>
<span class="line"><span>    return this.instance|| (this.instance=new Singleton(params)) //this指向Singleton</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let res1 = Singleton.getInstance(&#39;Winner&#39;);</span></span>
<span class="line"><span>let res2 = Singleton.getInstance(&#39;Looser&#39;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(res1) // Singleton { params: &#39;Winner&#39; }</span></span>
<span class="line"><span>console.log(res2) // Singleton { params: &#39;Winner&#39; }</span></span>
<span class="line"><span>console.log(res1===res2) // true</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Singleton{</span></span>
<span class="line"><span>    constructor(params){</span></span>
<span class="line"><span>        this.params=params</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    static instance=null</span></span>
<span class="line"><span>    static getInstance(params) {</span></span>
<span class="line"><span>        return this.instance|| (this.instance=new Singleton(params))</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>const res1= Singleton.getInstance(&#39;Winner&#39;)</span></span>
<span class="line"><span>const res2= Singleton.getInstance(&#39;Looser&#39;)</span></span>
<span class="line"><span>console.log(res1) // Singleton { params: &#39;Winner&#39; }</span></span>
<span class="line"><span>console.log(res2) // Singleton { params: &#39;Winner&#39; }</span></span>
<span class="line"><span>console.log(res1===res2) // true</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>2、闭包实现（唯一的实例存在闭包里）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let CreateSingleton = (function () {</span></span>
<span class="line"><span>    let instance;</span></span>
<span class="line"><span>    return function (name) {</span></span>
<span class="line"><span>        if (instance) {</span></span>
<span class="line"><span>            return instance;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        this.name = name;</span></span>
<span class="line"><span>        return instance = this;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>})();</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let Winner = new CreateSingleton(&#39;Winner&#39;);</span></span>
<span class="line"><span>let Looser = new CreateSingleton(&#39;Looser&#39;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(Winner === Looser); // true</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>3、模块化</span></span>
<span class="line"><span></span></span>
<span class="line"><span>esm、commonjs导出的对象其实就是单例模式 （全局只有一个）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// a.js</span></span>
<span class="line"><span>module.exports ={</span></span>
<span class="line"><span>   city:&#39;北京&#39;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// b.js</span></span>
<span class="line"><span>const obj require(&#39;./a&#39;)</span></span>
<span class="line"><span>obj.city=&#39;上海&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// c.js</span></span>
<span class="line"><span>const obj require(&#39;./a&#39;)</span></span>
<span class="line"><span>console.log(obj.city) //上海</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>如果导出的是个类呢？每个文件引入后，new创建的肯定不是一个实例。所以不能导出类，应该导出实例【用的闭包的方式】</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Location{</span></span>
<span class="line"><span>  //xxxx</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>module.exports = (function () {</span></span>
<span class="line"><span>  let location;</span></span>
<span class="line"><span>  return function () {</span></span>
<span class="line"><span>    if (location) {</span></span>
<span class="line"><span>      return location;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    location = new Location();</span></span>
<span class="line"><span>    return location;</span></span>
<span class="line"><span>  };</span></span>
<span class="line"><span>})()();</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>最后</span></span>
<span class="line"><span></span></span>
<span class="line"><span>高阶函数包装下，不同的fn返回对象，都是唯一单例</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 定义</span></span>
<span class="line"><span>var getSingleton = function(fn) {</span></span>
<span class="line"><span>    var ret;</span></span>
<span class="line"><span>    return function() { // arguments 是传入的fn的参数</span></span>
<span class="line"><span>      	// apply目的是让fn内的this和funcHandle的指向保证一致，即谁调用funcHandle时的决定</span></span>
<span class="line"><span>        return ret || (ret = fn.apply(this, arguments));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      	// 如果不使用apply，fn这个函数中的会指向window</span></span>
<span class="line"><span>        //return ret || (ret = fn(arguments));</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>下面调用例子里，是否使用apply，是没有区别的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var funcHandle = getSingleton(function() {</span></span>
<span class="line"><span>    console.log(&#39;this指向&#39;,this) // window</span></span>
<span class="line"><span>    return {}</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>var res1 = funcHandle();</span></span>
<span class="line"><span>var res2 = funcHandle();</span></span>
<span class="line"><span>console.log(res1 === res2);// true</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>这个例子才有差异</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 使用apply绑定this：this 等于 funHandle 中的this，obj调用的funHandle，所以最后this指向了obj</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 不使用apply绑定this：this 指向 window</span></span>
<span class="line"><span>let obj={}</span></span>
<span class="line"><span>obj.funcHandle = getSingleton(function() {</span></span>
<span class="line"><span>    console.log(&#39;this指向&#39;,this)</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>var res1 = obj.funcHandle();</span></span>
<span class="line"><span>var res2 = obj.funcHandle();</span></span>
<span class="line"><span>console.log(res1 === res2);// true</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>这个例子里是否使用apply是返回的都是同一个实例，对我们的主功能无影响，为什么选择使用apply的方案</span></span>
<span class="line"><span></span></span>
<span class="line"><span>funcHandle是一个可复用的工具函数，当使用文件A导出funcHandle函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在其他任何页面调用funcHandle，其中的this都应该指向使用页面中的this</span></span>
<span class="line"><span></span></span>
<span class="line"><span>参考：https://juejin.cn/post/7266702105829687354</span></span>
<span class="line"><span></span></span>
<span class="line"><span>装饰器模式</span></span>
<span class="line"><span>image-20231026203554974</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// Function.prototype（看成一个整体）, 增加一个after字段</span></span>
<span class="line"><span>Function.prototype.after = function (fn) {</span></span>
<span class="line"><span>    const _this = this; // 本质是load对象调用了原型链上的after方法，this指向load对象（函数）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return function () { // 这里是&lt;新load函数&gt;可以看下面，该函数直接调用this指向window</span></span>
<span class="line"><span>      	// _this指向load，这里是调用load函数执行。arguments是新load函数的入参</span></span>
<span class="line"><span>        _this.apply(this, arguments);</span></span>
<span class="line"><span>        if (fn &amp;&amp; typeof fn === &#39;function&#39;) {</span></span>
<span class="line"><span>            fn.apply(this);//</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 函数是Function类的实例，load是一个对象</span></span>
<span class="line"><span>function load() {</span></span>
<span class="line"><span>    console.log(&#39;load&#39;)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// load对象上没有after属性，所以沿着原型链查找，原型链指向 Function.prototype（看成一个整体），其中有一个after属性</span></span>
<span class="line"><span>// &lt;返回值是新的load函数&gt;</span></span>
<span class="line"><span>const load=load.after(() =&gt; {</span></span>
<span class="line"><span>    console.log(&#39;after&#39;)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>load()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>新例子</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>module.exports={</span></span>
<span class="line"><span>  Page(option){</span></span>
<span class="line"><span>    const option.load=option.load.after(() =&gt; {</span></span>
<span class="line"><span>    	console.log(&#39;after&#39;)</span></span>
<span class="line"><span>		})</span></span>
<span class="line"><span>	}</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 页面 。框架会自动调用</span></span>
<span class="line"><span>const Api=require(&#39;./a.js&#39;)</span></span>
<span class="line"><span>Api.Page({</span></span>
<span class="line"><span>  onLoad(){</span></span>
<span class="line"><span>    // xxx</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>Dom</span></span>
<span class="line"><span>HTML结构</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;html&gt;</span></span>
<span class="line"><span>	&lt;head&gt;&lt;/head&gt;</span></span>
<span class="line"><span>  &lt;body&gt;&lt;/body&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>获取顶层节点</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;html&gt;是最顶层的 document 节点，通过document.documentElement获取</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;body&gt; 通过document.body获取</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;head&gt; 通过document.head获取</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>获取其他节点</span></span>
<span class="line"><span>image-20221219141710618</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;html&gt;</span></span>
<span class="line"><span>&lt;body&gt;</span></span>
<span class="line"><span>  &lt;div&gt;Begin&lt;/div&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  &lt;ul&gt;</span></span>
<span class="line"><span>    &lt;li&gt;Information&lt;/li&gt;</span></span>
<span class="line"><span>  &lt;/ul&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  &lt;div&gt;End&lt;/div&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  &lt;script&gt;</span></span>
<span class="line"><span>    //遍历body中的顶层节点</span></span>
<span class="line"><span>    for (let elem of document.body.children) {</span></span>
<span class="line"><span>      console.log(elem); // DIV, UL, DIV, SCRIPT</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  &lt;/script&gt;</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>&lt;/body&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>查找节点</span></span>
<span class="line"><span>最常见的就是这几个，不常见的这里就不介绍了</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>document.getElementById 参数是html的id值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>document.querySelectorAll()、document.querySelector() 参数是css选择器</span></span>
<span class="line"><span></span></span>
<span class="line"><span>element.matches() 参数是css选择器，返回布尔值，表示是否存在该元素</span></span>
<span class="line"><span></span></span>
<span class="line"><span>closest() 参数是css选择器，向上查找与 CSS 选择器匹配的最近的祖先，找到则停止搜索并返回该祖先</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>例子1：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;ul&gt;</span></span>
<span class="line"><span>    &lt;li&gt;The&lt;/li&gt;</span></span>
<span class="line"><span>    &lt;li&gt;test&lt;/li&gt;</span></span>
<span class="line"><span>&lt;/ul&gt;</span></span>
<span class="line"><span>&lt;ul&gt;</span></span>
<span class="line"><span>    &lt;li&gt;has&lt;/li&gt;</span></span>
<span class="line"><span>    &lt;li&gt;passed&lt;/li&gt;</span></span>
<span class="line"><span>&lt;/ul&gt;</span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>    let elements = document.querySelectorAll(&#39;ul &gt; li:last-child&#39;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    for (let elem of elements) {</span></span>
<span class="line"><span>        console.log(elem.innerHTML); // &quot;test&quot;, &quot;passed&quot;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>&lt;/script&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>例子2：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;h1&gt;Contents&lt;/h1&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;div class=&quot;contents&quot;&gt;</span></span>
<span class="line"><span>  &lt;ul class=&quot;book&quot;&gt;</span></span>
<span class="line"><span>    &lt;li class=&quot;chapter&quot;&gt;Chapter 1&lt;/li&gt;</span></span>
<span class="line"><span>    &lt;li class=&quot;chapter&quot;&gt;Chapter 2&lt;/li&gt;</span></span>
<span class="line"><span>  &lt;/ul&gt;</span></span>
<span class="line"><span>&lt;/div&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>  let chapter = document.querySelector(&#39;.chapter&#39;); // LI</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  console.log(chapter.closest(&#39;.book&#39;)); // UL</span></span>
<span class="line"><span>  console.log(chapter.closest(&#39;.contents&#39;)); // DIV</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  console.log(chapter.closest(&#39;h1&#39;)); // null（因为 h1 不是祖先）</span></span>
<span class="line"><span>&lt;/script&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>创建节点</span></span>
<span class="line"><span></span></span>
<span class="line"><span>document.createElement(tag) //用给定的标签创建一个元素节点</span></span>
<span class="line"><span></span></span>
<span class="line"><span>document.createTextNode(value) //创建一个文本节点（很少使用）</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>例子</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;html&gt;</span></span>
<span class="line"><span>    &lt;head&gt;&lt;/head&gt;</span></span>
<span class="line"><span>    &lt;body&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    &lt;/body&gt;</span></span>
<span class="line"><span>    &lt;script&gt;</span></span>
<span class="line"><span>        let divEle=document.createElement(&#39;div&#39;)</span></span>
<span class="line"><span>        divEle.className=&#39;alert&#39; //类名</span></span>
<span class="line"><span>        divEle.innerHTML=&#39;hi&#39;  //</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        document.body.append(divEle) //页面中追加创建的div元素</span></span>
<span class="line"><span>    &lt;/script&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>克隆节点</span></span>
<span class="line"><span></span></span>
<span class="line"><span>node.cloneNode(deep) //deep为true，是深克隆；false表示不克隆子元素</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>添加节点</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//将节点或字符串插入不同位置：</span></span>
<span class="line"><span>node.append(...nodes or strings) —— 在 node 内部的末尾 插入节点或字符串，</span></span>
<span class="line"><span>node.prepend(...nodes or strings) —— 在 node 内部的开头 插入节点或字符串，</span></span>
<span class="line"><span>node.before(...nodes or strings) —— 在 node 前面 插入节点或字符串，</span></span>
<span class="line"><span>node.after(...nodes or strings) —— 在 node 后面 插入节点或字符串，</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>image-20221219155529450</span></span>
<span class="line"><span></span></span>
<span class="line"><span>删除节点</span></span>
<span class="line"><span></span></span>
<span class="line"><span>node.remove()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>替换节点</span></span>
<span class="line"><span></span></span>
<span class="line"><span>node.replaceWith(...nodes or strings) —— 将 node 替换为给定的节点或字符串</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>页面长度、距离</span></span>
<span class="line"><span>两个概念：文档、窗口（视口）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20240712104323205</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Dom元素</span></span>
<span class="line"><span>注意：属性是否包含 ：content、padding、 border、margin、scollbar</span></span>
<span class="line"><span></span></span>
<span class="line"><span>offset- 属性</span></span>
<span class="line"><span></span></span>
<span class="line"><span>offsetHeight： Dom元素的高、宽。（包含 content+padding+border+scollbar）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>常用于做高度展开动画</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>	&lt;div class=&quot;parent&quot; style=&quot;overflow: hidden;transition: 0.4s ;&quot;&gt;</span></span>
<span class="line"><span>    &lt;div class=&quot;son&quot;&gt; 这里是文案区域 &lt;/div&gt;</span></span>
<span class="line"><span>  &lt;/div&gt;</span></span>
<span class="line"><span>  &lt;/div&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>获取son的offsetHeight，设置parent的高度来实现展开、折叠</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>offsetTop：相对于其最近的定位祖先元素(position)的顶部边缘的距离</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20240712104013594</span></span>
<span class="line"><span></span></span>
<span class="line"><span>client- 属性</span></span>
<span class="line"><span></span></span>
<span class="line"><span>clientHeight：如果没有定义 CSS 或者内联元素其为0，否则表示元素的高（包含 content+padding）</span></span>
<span class="line"><span>clientTop：元素上边框的长度</span></span>
<span class="line"><span>scroll- 属性</span></span>
<span class="line"><span></span></span>
<span class="line"><span>scrollHeight：元素内容的高度（包含 content+padding）。如果内容&lt;=元素高度就等于clientHeight，大于就是完整内容高度</span></span>
<span class="line"><span></span></span>
<span class="line"><span>scrollTop：这个属性很特殊，是可读、可写的。所以其可以设置滚动位置</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20240712115017296</span></span>
<span class="line"><span></span></span>
<span class="line"><span>getBoundingClientRect方法</span></span>
<span class="line"><span></span></span>
<span class="line"><span>元素距离可视区域的距离和宽高</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20240712112144265</span></span>
<span class="line"><span></span></span>
<span class="line"><span>补充：整个页面也可以看成是一个Dom元素。通过document.documentElement获取，也有Dom元素的属性</span></span>
<span class="line"><span></span></span>
<span class="line"><span>窗口</span></span>
<span class="line"><span>window.innerHeight：窗口的高度</span></span>
<span class="line"><span>winodw.scrollY、window.pageYOffset：页面滚动的距离（等价于document.documentElement.scrollTop）</span></span>
<span class="line"><span>image-20240712111241941</span></span>
<span class="line"><span></span></span>
<span class="line"><span>点击事件</span></span>
<span class="line"><span>点击位置距离其他位置的距离</span></span>
<span class="line"><span></span></span>
<span class="line"><span>event.pageY：点击位置距离文档顶部的距离</span></span>
<span class="line"><span>event.clientY：点击位置距离窗口顶部的距离</span></span>
<span class="line"><span>event.offsetY：点击位置距离触发事件元素顶部的距离</span></span>
<span class="line"><span>event.screenY：点击位置距离屏幕顶部的距离</span></span>
<span class="line"><span>image-20240712104507781</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Canvas</span></span>
<span class="line"><span>MDN canvasAPI :https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API</span></span>
<span class="line"><span></span></span>
<span class="line"><span>创建</span></span>
<span class="line"><span>在canvas标签上指定width、height（单位px），或者获取canvas对象设置width、height属性（单位px）指定的是canvas画布大小。（不设置会初始化宽度为300像素和高度为150像素）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用CSS指定的是实际可视区大小，canvas画布会被强制拉伸为CSS指定的宽高。（不设置会以canvas画布的大小为可视区域）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Dom创建</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span>&lt;html lang=&quot;en&quot;&gt;</span></span>
<span class="line"><span>&lt;head&gt;</span></span>
<span class="line"><span>    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span></span>
<span class="line"><span>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></span>
<span class="line"><span>    &lt;title&gt;Document&lt;/title&gt;</span></span>
<span class="line"><span>&lt;/head&gt;</span></span>
<span class="line"><span>&lt;body&gt;</span></span>
<span class="line"><span>    &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;canvas&quot;&gt;&lt;/canvas&gt;</span></span>
<span class="line"><span>&lt;/body&gt;</span></span>
<span class="line"><span>&lt;style&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/style&gt;</span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>    /** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span>    // 获取canvas对象</span></span>
<span class="line"><span>    const canvas=document.getElementById(&#39;canvas&#39;)</span></span>
<span class="line"><span>    // 获取context（画笔）对象，可以调用context的各种方法绘制</span></span>
<span class="line"><span>    const context =canvas.getContext(&#39;2d&#39;)</span></span>
<span class="line"><span>    // 绘制一个填充黑色的矩形</span></span>
<span class="line"><span>    context.fillRect(100, 100, 150, 150)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/script&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>JS创建</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span>&lt;html lang=&quot;en&quot;&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;head&gt;</span></span>
<span class="line"><span>    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span></span>
<span class="line"><span>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></span>
<span class="line"><span>    &lt;title&gt;Document&lt;/title&gt;</span></span>
<span class="line"><span>&lt;/head&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;body&gt;&lt;/body&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>    const canvas = document.createElement(&#39;canvas&#39;)</span></span>
<span class="line"><span>    canvas.width = 400</span></span>
<span class="line"><span>    canvas.height = 400</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    document.body.append(canvas)</span></span>
<span class="line"><span>    const context = canvas.getContext(&#39;2d&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    context.fillRect(100, 100, 150, 150)</span></span>
<span class="line"><span>&lt;/script&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/html&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>坐标</span></span>
<span class="line"><span>canvas获取context后，可以调用context上的方法绘制各种图形、线条</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这些方法的参数很多都包含(x,y)坐标</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意下，参数里的坐标都是相对于canvas画布的</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20230506170146455</span></span>
<span class="line"><span></span></span>
<span class="line"><span>线条</span></span>
<span class="line"><span>使用获取的context对象，来调用它的相关方法绘制</span></span>
<span class="line"><span></span></span>
<span class="line"><span>开始、结束路径</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.beginPath() //开始</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//。。。绘制一条线段</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.closePath() //结束</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>直线</span></span>
<span class="line"><span></span></span>
<span class="line"><span>将起始点、中间点坐标按代码顺序链接起来</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.beginPath() //开始</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.moveTo(100,100) //起始坐标</span></span>
<span class="line"><span>context.lineTo(300,100) //中间点</span></span>
<span class="line"><span>context.lineTo(300,300) //中间点</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.closePath() //结束</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.stroke() //绘制线段。这个必须写，且需放置在最后</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>image-20230506171243775</span></span>
<span class="line"><span></span></span>
<span class="line"><span>线段样式</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.lineWidth=50 // 线段宽度，单位px</span></span>
<span class="line"><span>context.lineCap=&#39;round&#39; //线段终点。 默认直角，round为圆角</span></span>
<span class="line"><span>context.lineJoin=&#39;round&#39; //线段连接点。 同上</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>代码</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.beginPath() //开始</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.moveTo(100,100)</span></span>
<span class="line"><span>context.lineTo(300,100)</span></span>
<span class="line"><span>context.lineTo(300,300)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.lineWidth=50</span></span>
<span class="line"><span>context.lineCap=&#39;round&#39;</span></span>
<span class="line"><span>context.lineJoin=&#39;round&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.closePath() //结束</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.stroke() //绘制线段。这个必须写，且需放置在最后</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>image-20230506172019317</span></span>
<span class="line"><span></span></span>
<span class="line"><span>线段颜色</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.strokeStyle=&#39;red&#39;  //默认黑色</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>颜色支持 颜色字符串（例如：red）、 十六进制色值、渐变色</span></span>
<span class="line"><span></span></span>
<span class="line"><span>渐变色比较复杂，放在最后讲</span></span>
<span class="line"><span></span></span>
<span class="line"><span>填充</span></span>
<span class="line"><span>填充指定区域</span></span>
<span class="line"><span></span></span>
<span class="line"><span>前面讲了使用moveTo、lineTo指定点后，最后使用stroke绘制线段</span></span>
<span class="line"><span></span></span>
<span class="line"><span>我们也可以使用fill填充点之间的区域，默认黑色</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.moveTo(100,100)</span></span>
<span class="line"><span>context.lineTo(300,100)</span></span>
<span class="line"><span>context.lineTo(300,300)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.fill()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>image-20230506172952018</span></span>
<span class="line"><span></span></span>
<span class="line"><span>还有一个用于快捷填充矩形区域的函数fillRect</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>context2.fillRect(矩形左上角x,矩形左上角y,宽,高)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>注意：无论是stroke还是fill、fillRect都必须写在指定条件之后</span></span>
<span class="line"><span></span></span>
<span class="line"><span>填充颜色</span></span>
<span class="line"><span></span></span>
<span class="line"><span>与线段可指定颜色一样，填充区域也可以指定颜色</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.fillStyle=&#39;red&#39;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>image-20230506173431238</span></span>
<span class="line"><span></span></span>
<span class="line"><span>圆弧</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.arc(x, y, radius, startAngle, endAngle, anticlockwise);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// x：圆心的 x 坐标。</span></span>
<span class="line"><span>// y：圆心的 y 坐标。</span></span>
<span class="line"><span>// radius：圆的半径。</span></span>
<span class="line"><span>// startAngle：起始角度，以弧度表示 （ 范围 0-2*Math.PI ）</span></span>
<span class="line"><span>// endAngle：结束角度，以弧度表示。</span></span>
<span class="line"><span>// anticlockwise：一个布尔值，可选参数，表示绘制方向是顺时针还是逆时针。默认是 false，即顺时针。</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>环形进度条</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20240226101258023</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span>&lt;html lang=&quot;en&quot;&gt;</span></span>
<span class="line"><span>&lt;head&gt;</span></span>
<span class="line"><span>    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span>    &lt;title&gt;Title&lt;/title&gt;</span></span>
<span class="line"><span>&lt;/head&gt;</span></span>
<span class="line"><span>&lt;body&gt;</span></span>
<span class="line"><span>    &lt;canvas width=&quot;200&quot; height=&quot;200&quot; id=&quot;canvas&quot;&gt;&lt;/canvas&gt;</span></span>
<span class="line"><span>&lt;/body&gt;</span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>    const canvas=document.getElementById(&#39;canvas&#39;)</span></span>
<span class="line"><span>    const context=canvas.getContext(&#39;2d&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    context.lineWidth=10</span></span>
<span class="line"><span>    context.strokeStyle=&#39;#eee&#39;</span></span>
<span class="line"><span>    context.arc(canvas.width/2,canvas.height/2,50,(3/4)*Math.PI,(2+1/4)*Math.PI,false)</span></span>
<span class="line"><span>    context.stroke()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/script&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>渐变色</span></span>
<span class="line"><span>线段和填充区域都可以使用渐变色，这里为了看的更清楚，在填充区域使用渐变色</span></span>
<span class="line"><span></span></span>
<span class="line"><span>线性渐变</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const canvas = document.createElement(&#39;canvas&#39;)</span></span>
<span class="line"><span>canvas.width = 400</span></span>
<span class="line"><span>canvas.height = 400</span></span>
<span class="line"><span>document.body.append(canvas)</span></span>
<span class="line"><span>const context = canvas.getContext(&#39;2d&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//创建渐变色起点(100,100),终点(300,100);</span></span>
<span class="line"><span>let gradient = context.createLinearGradient(100, 100, 300, 100)//注意：只是渐变色的起点终点，具体线条呈现的颜色取决于它处于渐变对象起点到终点的哪个范围</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 配置渐变色对象，第一个参数0-1之间，0是起点，1是终点。设置渐变开始的位置</span></span>
<span class="line"><span>gradient.addColorStop(0, &#39;red&#39;)</span></span>
<span class="line"><span>gradient.addColorStop(1, &#39;green&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//指定填充区域颜色</span></span>
<span class="line"><span>context.fillStyle = gradient</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//绘制矩形填充区域</span></span>
<span class="line"><span>context.fillRect(100, 100, 200, 200)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>image-20230506175501589</span></span>
<span class="line"><span></span></span>
<span class="line"><span>径向渐变</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const canvas = document.createElement(&#39;canvas&#39;)</span></span>
<span class="line"><span>canvas.width = 400</span></span>
<span class="line"><span>canvas.height = 400</span></span>
<span class="line"><span>document.body.append(canvas)</span></span>
<span class="line"><span>const context = canvas.getContext(&#39;2d&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let radialGradient= context.createRadialGradient(200,200,0,200,200,150)//前三个参数是圆1的x坐标、y坐标、半径。后三个是第二个圆的x坐标、y坐标、半径。两个圆</span></span>
<span class="line"><span>radialGradient.addColorStop(0,&#39;red&#39;)</span></span>
<span class="line"><span>radialGradient.addColorStop(1,&#39;green&#39;)</span></span>
<span class="line"><span>context.fillStyle=radialGradient</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.fillRect(100, 100, 200, 200)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>image-20230506180727228</span></span>
<span class="line"><span></span></span>
<span class="line"><span>锥形渐变</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const canvas = document.createElement(&#39;canvas&#39;)</span></span>
<span class="line"><span>canvas.width = 400</span></span>
<span class="line"><span>canvas.height = 400</span></span>
<span class="line"><span>document.body.append(canvas)</span></span>
<span class="line"><span>const context = canvas.getContext(&#39;2d&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let conicGradient= context.createConicGradient(0*(Math.PI/180),200,200)//第一个参数是弧度（公式：PI/180*目标度数=目标弧度），中心x坐标、y坐标。</span></span>
<span class="line"><span>conicGradient.addColorStop(0,&#39;red&#39;)</span></span>
<span class="line"><span>conicGradient.addColorStop(1,&#39;green&#39;)</span></span>
<span class="line"><span>context.fillStyle=conicGradient</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context.fillRect(100, 100, 200, 200)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>image-20230506182608800</span></span>
<span class="line"><span></span></span>
<span class="line"><span>实践:绘制虚线框</span></span>
<span class="line"><span>用 setLineDash 方法和 lineDashOffset 属性来制定虚线样式。 setLineDash 方法接受一个数组，来指定线段与间隙的交替；lineDashOffset属性设置起始偏移量。</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function draw(){</span></span>
<span class="line"><span>    var canvas = document.getElementById(&#39;tutorial&#39;);</span></span>
<span class="line"><span>    if (!canvas.getContext) return;</span></span>
<span class="line"><span>    var ctx = canvas.getContext(&quot;2d&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ctx.setLineDash([20, 5]);  // [实线长度, 间隙长度]</span></span>
<span class="line"><span>    ctx.lineDashOffset = -0;</span></span>
<span class="line"><span>    ctx.strokeRect(50, 50, 210, 210);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>draw();</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>img</span></span>
<span class="line"><span></span></span>
<span class="line"><span>实践：绘制海报</span></span>
<span class="line"><span>使用canvas的drawImage方法可以向canvas画布上绘制图片</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可多次调用drawImage，达到绘制不同图片叠加的效果，利用这种特性制作海报（后绘制的图层级高）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>toDataURL方法可以将canvas导出为base64格式的图片</span></span>
<span class="line"><span></span></span>
<span class="line"><span>过程中遇到两个问题</span></span>
<span class="line"><span></span></span>
<span class="line"><span>canvas绘制的图片模糊的原因</span></span>
<span class="line"><span></span></span>
<span class="line"><span>绘制图像时，会出现加粗</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20230423184442056</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在高分辨率屏幕下（背景网格是实际像素），单位css像素会占据更多的实际像素，且不使用原本的颜色填充，而是使用了某种近似颜色算法</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20230423184704055</span></span>
<span class="line"><span></span></span>
<span class="line"><span>解决：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 设备像素比=物理像素/css像素（即1个css像素，占据几个实际像素）</span></span>
<span class="line"><span>const ratio = window.devicePixelRatio || 1;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//将canvas尺寸设置为 原本正常尺寸的ratio倍</span></span>
<span class="line"><span>canvas.width = 315 * ratio;</span></span>
<span class="line"><span>canvas.height = 464 * ratio;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 绘制的内容 宽、高放大为ratio倍</span></span>
<span class="line"><span>context.scale(ratio, ratio);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let imgQrcode = new Image();</span></span>
<span class="line"><span>    imgQrcode.setAttribute(&quot;crossOrigin&quot;, &quot;anonymous&quot;);//解决图片跨域问题</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    imgQrcode.src = &#39;https://hedaodao-1256075778.cos.ap-beijing.myqcloud.com/JS/20230423190815%20.png&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>imgPost.onload = function () {//图片加载url后，触发</span></span>
<span class="line"><span>  //canvas的确变大了ratio倍，</span></span>
<span class="line"><span>  context.drawImage(imgPost,0,0,canvas.width / ratio,canvas.height / ratio);//在canvas容器的（0,0）位置放置图片左上角。裁切长度=canvas.width/ratio，高度=canvas.height/ratio这样尺寸的图片。所以图片是原本的尺寸</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>canvas上绘制的图片需要是同源，否则就会报错提示跨域</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20230423191020885</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let imgQrcode = new Image();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>imgQrcode.setAttribute(&quot;crossOrigin&quot;, &quot;anonymous&quot;); //设置忽略同源</span></span>
<span class="line"><span></span></span>
<span class="line"><span>imgQrcode.src = &#39;a.png&#39;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>生成海报</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//创建图片对象，将其改造为同步方式</span></span>
<span class="line"><span>function loadImageSync(imageUrl) {</span></span>
<span class="line"><span>  let imgPost = new Image();</span></span>
<span class="line"><span>  imgPost.setAttribute(&#39;crossOrigin&#39;, &#39;anonymous&#39;);</span></span>
<span class="line"><span>  imgPost.src = imageUrl;</span></span>
<span class="line"><span>  return new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>    imgPost.onload = function () {</span></span>
<span class="line"><span>      return resolve(imgPost);</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span>    imgPost.onerror = function () {</span></span>
<span class="line"><span>      return reject(`加载失败，图片资源：${imageUrl}`);</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//创建海报。入参是二维码url</span></span>
<span class="line"><span>export async function createIndexSharePostImage(qrCode) {</span></span>
<span class="line"><span>  const originWidth = 315;</span></span>
<span class="line"><span>  const originHeight = 464;</span></span>
<span class="line"><span>  const canvas = document.createElement(&#39;canvas&#39;);</span></span>
<span class="line"><span>  canvas.style.display = &#39;none&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  const ratio = (window.devicePixelRatio || 1) * 2;</span></span>
<span class="line"><span>  canvas.width = Math.round(originWidth * ratio);</span></span>
<span class="line"><span>  canvas.height = Math.round(originHeight * ratio);</span></span>
<span class="line"><span>  document.body.append(canvas);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  const context = canvas.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span>  context.scale(ratio, ratio);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>  let imgPost = await loadImageSync(</span></span>
<span class="line"><span>    &#39;https://hedaodao-1256075778.cos.ap-beijing.myqcloud.com/JS/20230423190645%20.png&#39;</span></span>
<span class="line"><span>  );</span></span>
<span class="line"><span>  let qrCodePost = await loadImageSync(qrCode);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //绘制背景</span></span>
<span class="line"><span>  context.drawImage(imgPost, 0, 0, originWidth, originHeight);</span></span>
<span class="line"><span>  //绘制二维码</span></span>
<span class="line"><span>  context.drawImage(</span></span>
<span class="line"><span>    qrCodePost,</span></span>
<span class="line"><span>    originWidth / 2 - 85 / 2,</span></span>
<span class="line"><span>    originHeight - (52 + 85),</span></span>
<span class="line"><span>    85,</span></span>
<span class="line"><span>    85</span></span>
<span class="line"><span>  );</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //转成base64编码的图片</span></span>
<span class="line"><span>  return canvas.toDataURL({</span></span>
<span class="line"><span>    format: &#39;image/png&#39;,</span></span>
<span class="line"><span>    quality: 1,</span></span>
<span class="line"><span>    width: canvas.width,</span></span>
<span class="line"><span>    height: canvas.height,</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>49</span></span>
<span class="line"><span>50</span></span>
<span class="line"><span>51</span></span>
<span class="line"><span>52</span></span>
<span class="line"><span>53</span></span>
<span class="line"><span>54</span></span>
<span class="line"><span>55</span></span>
<span class="line"><span>image-20230423191206484</span></span>
<span class="line"><span></span></span>
<span class="line"><span>下载或保存</span></span>
<span class="line"><span></span></span>
<span class="line"><span>下载：目前发现通过a标签下载图片的方式，在PC端正常，而在移动端浏览器上存在兼容性问题。尤其是在微信中会直接弹窗toast提示，不允许下载。</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//下载</span></span>
<span class="line"><span>const link = document.createElement(&#39;a&#39;);</span></span>
<span class="line"><span>link.style.display = &#39;none&#39;;</span></span>
<span class="line"><span>link.href = canvasBase64;</span></span>
<span class="line"><span>link.setAttribute (&#39;download&#39;, &#39;yc-qrcode.png&#39;);</span></span>
<span class="line"><span>document.body.appendChild (link);</span></span>
<span class="line"><span>link.click();</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>保存：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>移动端各个浏览器均实现了长按保存图片到相册的功能（微信也实现了），所以我们可以在合成海报后，直接使用image组件显示base64格式的图片。用户可以通过长按保存图片</span></span>
<span class="line"><span></span></span>
<span class="line"><span>前端数据存储</span></span>
<span class="line"><span>Cookie</span></span>
<span class="line"><span>Cookie一般是由服务端在响应请求时，通过设置响应体的头的Set-Cookie字段，浏览器读取后在该域名下设置的键值对(多个键值对使用分号分隔)，并存储在前端浏览器中</span></span>
<span class="line"><span></span></span>
<span class="line"><span>默认情况下，页面域名、发起请求域名与存储Cookie的主域名相同就能访问到该Cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意：子域名不同也无法访问（但是可以设置domain这个key来改变，后面会讲到）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>在 site.com 下设置的Cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在 forum.site.com 下不可以被访问</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>协议不同可以访问（可以通过设置secure这个key改变）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>http://site.com 下的Cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span>https://site.com 也能访问到</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>端口不同可以访问</span></span>
<span class="line"><span></span></span>
<span class="line"><span>发送请求时实现携带Cookie：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>前端通过</span></span>
<span class="line"><span></span></span>
<span class="line"><span>fetch：同源默认发送，不同源默认不发送；可手动设置withCredentials:&quot;include&quot;发送</span></span>
<span class="line"><span></span></span>
<span class="line"><span>xhr：默认withCredentials:false，需手动设置为true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>axios ：基于xhr的封装，所以同上</span></span>
<span class="line"><span></span></span>
<span class="line"><span>服务端也必须设置下面响应头</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Access-Control-Allow-Credentials:true</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>前端存储Cookie的限制：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>一个域名下 存储的Cookie 总数不得超过 20+ 左右（和浏览器自身的限制相关）</span></span>
<span class="line"><span>每个Cookies大小不能超过 4KB</span></span>
<span class="line"><span>JS操作当前域名下的Cookie：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 读取当前域名下的Cookie</span></span>
<span class="line"><span>document.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//该操作只会更新Cookie中的user字段为hedaodao，其他Cookie字段不会被影响</span></span>
<span class="line"><span>document.cookie = &quot;user=hedaodao&quot;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>Cookie中默认的一些Key：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>通过指定这些Key的值，可以设置浏览器对Cookie的处理方式</span></span>
<span class="line"><span></span></span>
<span class="line"><span>path</span></span>
<span class="line"><span></span></span>
<span class="line"><span>值是：url 路径，该路径必须是绝对路径，设置后该路径下的页面才可以访问该 Cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//默认值，即该域名下的所有路径都可以访问</span></span>
<span class="line"><span>path=/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//仅该域名下的/user路径可以访问</span></span>
<span class="line"><span>path=/user</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>domain</span></span>
<span class="line"><span></span></span>
<span class="line"><span>值是：Cookie的根域名，这个根域名下的子域名都可以访问Cookie。默认情况下，不允许子域访问Cookies（注意：设置IP不行，必须是域名）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>domain=site.com</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在 site.com 下设置的Cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在 forum.site.com 下也可以被访问</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>expires、max-age</span></span>
<span class="line"><span></span></span>
<span class="line"><span>设置Cookie的有效期，两个字段设置任意一个即可，Cookie过期后，浏览器自动删除。如果都不设置则在关闭浏览器页面tab后，立即自动删除</span></span>
<span class="line"><span></span></span>
<span class="line"><span>expires：过期时间(必须为标准时间)，如果这个时间设置的是过去的时间，则浏览器自动删除该Cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//设置过期时间为明天</span></span>
<span class="line"><span>let date = new Date(Date.now() + 86400e3); //Tue Dec 20 2022 19:50:09 GMT+0800 (中国标准时间)</span></span>
<span class="line"><span>date = date.toUTCString();//&#39;Tue, 20 Dec 2022 11:50:23 GMT&#39;</span></span>
<span class="line"><span>document.cookie = &quot;user=John; expires=&quot; + date;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>max-age：指明了距离过期的秒数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//一小时后过期</span></span>
<span class="line"><span>document.cookie = &quot;user=hedaodao; max-age=3600&quot;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>secure</span></span>
<span class="line"><span></span></span>
<span class="line"><span>设置后，在https域名下设置的Cookie，在http的同域名下不可访问到</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>document.cookie = &quot;user=hedaodao; secure&quot;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>httpOnly</span></span>
<span class="line"><span></span></span>
<span class="line"><span>防止XSS攻击</span></span>
<span class="line"><span></span></span>
<span class="line"><span>设置后，不可使用document.cookie来获取当前域名下的Cookie了</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>document.cookie = &quot;user=hedaodao; httpOnly&quot;;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>samesite</span></span>
<span class="line"><span></span></span>
<span class="line"><span>防止 XSRF（跨网站请求伪造）攻击。用于设置从第三方域名跳转到网址A的策略</span></span>
<span class="line"><span></span></span>
<span class="line"><span>strict 从邮件链接跳转到网址A，如果是strict，则所有请求都不携带cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span>lax（默认值）可是有时候我们确实会存在从外部营销网址引流到网址A的情况，所以才有了lax。他是在strict的基础上放松了限制</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Get 链接会发送 Cookie，跨域的Post、图片、iframe、form表单都不会发送 Cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span>详细内容请查看</span></span>
<span class="line"><span></span></span>
<span class="line"><span>实践案例</span></span>
<span class="line"><span></span></span>
<span class="line"><span>安装express</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>yarn init -y</span></span>
<span class="line"><span></span></span>
<span class="line"><span>yarn add express</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>新建app.js，作为服务端设置Cookies</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const express = require(&#39;express&#39;)</span></span>
<span class="line"><span>const router = express.Router();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const app = express()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//设置header要在路由之前</span></span>
<span class="line"><span>app.all(&#39;*&#39;, function(reqest, response, next) {</span></span>
<span class="line"><span>    response.header(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);//解决跨域</span></span>
<span class="line"><span>    response.header(&#39;Access-Control-Allow-Credentials&#39;,&#39;true&#39;)</span></span>
<span class="line"><span>    response.header(&#39;Access-Control-Allow-Methods&#39;,&#39;PUT,POST,GET,DELETE,OPTIONS&#39;);</span></span>
<span class="line"><span>    next();</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//路由</span></span>
<span class="line"><span>router.get(&#39;/test&#39;,(request,response)=&gt;{</span></span>
<span class="line"><span>    console.log(&#39;接口响应&#39;,response)</span></span>
<span class="line"><span>    //有一点需要注意：现在都是前后端分离的项目，后端设置cookie要设置domain，domain值得是前端的域名，否则无法自动种在前端域名下</span></span>
<span class="line"><span>    response.cookie(&#39;username&#39;, &#39;hedaodao&#39;,{ maxAge: 900000,httpOnly:true })</span></span>
<span class="line"><span>    response.json({</span></span>
<span class="line"><span>        data:null</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>//挂载路由</span></span>
<span class="line"><span>app.use(router)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//监听端口</span></span>
<span class="line"><span>app.listen(&#39;8099&#39;,()=&gt;{</span></span>
<span class="line"><span>    console.log(&#39;启动&#39;)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>直接在浏览器访问接口 http://127.0.0.1:8099/test，可以看到成功在该域名下存储了Cookie，且访问时，请求头自动带了Cookie字段</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20221222172508425</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20221222172436163</span></span>
<span class="line"><span></span></span>
<span class="line"><span>新建index.html（使用VSCode的Live Server插件运行起来），在不同的域名下，请求接口</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意：现在都是前后端分离的项目，后端设置Cookie要设置domain，domain值得是前端的域名，否则无法将接口返回的Cookie自动存储在前端域名下</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span>&lt;html lang=&quot;en&quot;&gt;</span></span>
<span class="line"><span>&lt;head&gt;</span></span>
<span class="line"><span>    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span>    &lt;title&gt;Title&lt;/title&gt;</span></span>
<span class="line"><span>&lt;/head&gt;</span></span>
<span class="line"><span>&lt;script src=&quot;https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>     axios({</span></span>
<span class="line"><span>        method: &#39;get&#39;,</span></span>
<span class="line"><span>        url: &#39;http://127.0.0.1:8099/test&#39;</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>&lt;/script&gt;</span></span>
<span class="line"><span>&lt;body&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/body&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>sessionStorage、LocalStotage</span></span>
<span class="line"><span>网页只能访问到当前的 &lt;协议+域名+端口&gt; 下存储的数据，注意：子域名不一致也无法访问</span></span>
<span class="line"><span></span></span>
<span class="line"><span>例如： http://www.baidu.com与http://www.yy.baidu.com</span></span>
<span class="line"><span></span></span>
<span class="line"><span>sessionStorage</span></span>
<span class="line"><span></span></span>
<span class="line"><span>当前页签不关闭就一直存在，页签关闭就会被清楚</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果是window.open打开的页面，也可以访问</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>sessionStorage.setItem(&#39;token&#39;, res.data); //如果key存在时，就更新value</span></span>
<span class="line"><span></span></span>
<span class="line"><span>sessionStorage.getItem(key) //如果key不存在就返回null</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>LocalStotage</span></span>
<span class="line"><span></span></span>
<span class="line"><span>一直存储，除非清楚浏览器缓存</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>localStorage.setItem(&#39;token&#39;, res.data); //如果key存在时，就更新value</span></span>
<span class="line"><span></span></span>
<span class="line"><span>localStorage.getItem(key) //如果key不存在就返回null</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>监听缓存</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>window.addEventListener(&#39;storage&#39;, () =&gt; {  ...});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 或</span></span>
<span class="line"><span>window.onstorage = () =&gt; {  ...};</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>前端攻击</span></span>
<span class="line"><span>XSS（跨站脚本漏洞攻击）</span></span>
<span class="line"><span>跨站脚本攻击是指攻击者往Web页面里插入恶意JS代码，当用户浏览该页之时，嵌入其中的JS代码会被执行，从而达到恶意攻击用户的目的</span></span>
<span class="line"><span></span></span>
<span class="line"><span>例如最常用的手段：新闻详情页面支持评论、展示用户评论的功能，攻击者将JS脚本作为评论提交到服务器，其他用户访问该页面展示该评论时，就会在用户浏览器执行该JS脚本</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Cookie的httpOnly字段可以阻止JS获取Cookie，一定程度上防止XSS获取存储用户登录信息的Cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span>XSRF（跨站请求伪造）</span></span>
<span class="line"><span>跨站请求伪造（Cross-Site Request Forgery）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>该攻击手段很大程度上是依赖Cookie来实现的，因为默认情况下，访问A.com时存下的Cookie，在访问A.com相关的数据时，Cookie会被自动携带（请求该域名下的接口也会携带）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>用户在访问银行网站bank.com时，存下了Cookie，其中存储了用户信息。在evil.com网站上有一个表单，向bank.com域名下的接口提交表单时，也会自动携带带有用户信息的Cookie，这时候evil.com就能伪装成用户进行非法操作了。这就实现了XSRF攻击</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20221221163355473</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Cookie的samesite字段可以防止XSRF攻击</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Web API</span></span>
<span class="line"><span>Web API的完整列表 其中包含了大量的API，这里仅涉及一些有意思的内容</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Intersection</span></span>
<span class="line"><span>监听指定元素与目标元素之间相交，常用于计算广告曝光相关等业务</span></span>
<span class="line"><span></span></span>
<span class="line"><span>文档：https://developer.mozilla.org/zh-CN/docs/Web/API/Intersection_Observer_API</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let observer = new IntersectionObserver((entrys)=&gt;{// #listItem元素可能有多个，这个entrys是个数组</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  	entrys.forEach((entry)=&gt;{</span></span>
<span class="line"><span>      //   entry.boundingClientRect</span></span>
<span class="line"><span>      //   entry.intersectionRatio</span></span>
<span class="line"><span>      //   entry.intersectionRect</span></span>
<span class="line"><span>      //   entry.isIntersecting</span><span> // 是否相交。多个entry只处理相交的，可以用这个判断</span></span>
<span class="line"><span>      //   entry.rootBounds</span></span>
<span class="line"><span>      //   entry.target</span></span>
<span class="line"><span>      //   entry.time</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span></span></span>
<span class="line"><span>},</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  root: document.querySelector(&quot;#scrollArea&quot;), // 指定元素区域，默认为视口</span></span>
<span class="line"><span>  rootMargin: &quot;0px&quot;, // 与css的margin一样，可以设置一个值或者 上、右、下、左。扩展、缩小设置root区域的范围。默认 0px</span></span>
<span class="line"><span>  threshold: 1.0, // 相交的百分比,取值[0,1]之间,默认0。1为目标元素完全进入root区域才触发，可设置数组[0,0.25,0.5,0.75,1]则会触发5次</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>let target = document.querySelector(&quot;#listItem&quot;);</span></span>
<span class="line"><span>observer.observe(target);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>案例：图片懒加载</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const observer = new IntersectionObserver((changes) =&gt; {</span></span>
<span class="line"><span>  changes.forEach((change) =&gt; {</span></span>
<span class="line"><span>    if (change.isIntersecting) {</span></span>
<span class="line"><span>      const img = change.target</span></span>
<span class="line"><span>      img.src = img.dataset.src</span></span>
<span class="line"><span>      observer.unobserve(img)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>observer.observe(img)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>requestAnimationFrame</span></span>
<span class="line"><span>requestAnimationFrame可以在浏览器下一次重绘之前，调用用户提供的回调函数。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这个函数是一次性的，如果希望每次重绘都触发，必须在回调函数中继续调用requestAnimationFrame</span></span>
<span class="line"><span>回调函数的调用频率通常与显示器的刷新率相匹配。在高刷屏幕上，运行的更快</span></span>
<span class="line"><span>网络请求相关</span></span>
<span class="line"><span>请求基础</span></span>
<span class="line"><span>最开始为了安全，跨源请求是被禁止的</span></span>
<span class="line"><span></span></span>
<span class="line"><span>后来，跨源请求被允许了，但是任何新功能都需要服务器明确允许，以特殊的 header 表述。请求被分为了</span></span>
<span class="line"><span></span></span>
<span class="line"><span>安全的请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>请求方法为：GET，POST 或 HEAD</span></span>
<span class="line"><span></span></span>
<span class="line"><span>请求header为：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Accept</span></span>
<span class="line"><span>Accept-Language</span></span>
<span class="line"><span>Content-Language</span></span>
<span class="line"><span>Content-Type 的值为 application/x-www-form-urlencoded，multipart/form-data 或 text/plain</span></span>
<span class="line"><span>非安全的请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>请求方法或请求header不符合上面的</span></span>
<span class="line"><span></span></span>
<span class="line"><span>对于非安全的请求浏览器会向服务器先发起一个预检请求（preflight），通过header中的字段告知服务器该请求的新功能，服务器通过返回的header字段告知浏览器是否同意，同意才会真正发起请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意浏览器作为一个绝对被信任者参与其中，负责上面的流程</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>https://zh.javascript.info/fetch-crossorigin</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>URL对象</span></span>
<span class="line"><span>一般使用字符串，使用qs这个库（https://www.npmjs.com/package/qs），或者当成字符串处理，但是使用URL对象会更加简单</span></span>
<span class="line"><span></span></span>
<span class="line"><span>URL对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>protocol 以冒号字符 : 结尾</span></span>
<span class="line"><span>search 以问号 ? 开头的一串参数</span></span>
<span class="line"><span>hash 以哈希字符 # 开头</span></span>
<span class="line"><span>如果存在 HTTP 身份验证，则这里可能还会有 user 和 password 属性：http://login:password@site.com（图片上没有，很少被用到）</span></span>
<span class="line"><span>image-20221016150655259</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const url=new URL(&#39;user/login&#39;,&#39;https://www.baidu.com&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(url.href) // https://www.baidu.com/user/login</span></span>
<span class="line"><span>console.log(url.protocol) // https:</span></span>
<span class="line"><span>console.log(url.port) //空字符串</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>SearchParams：URL的参数对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>append(name, value) —— 按照 name 添加参数</span></span>
<span class="line"><span>delete(name) —— 按照 name 移除参数</span></span>
<span class="line"><span>get(name) —— 按照 name 获取参数（存在有个相同的name，只获取第一个）</span></span>
<span class="line"><span>getAll(name) —— 获取相同 name 的所有参数（这是可行的，例如 ?user=jack&amp;user=tom），</span></span>
<span class="line"><span>has(name) —— 按照 name 检查参数是否存在</span></span>
<span class="line"><span>set(name, value) —— set/replace 参数（如果name已存在，则覆盖）</span></span>
<span class="line"><span>sort() —— 按 name 对参数进行排序（字典排序）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const url=new URL(&#39;user/login&#39;,&#39;https://www.baidu.com&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let searchParams=url.searchParams</span></span>
<span class="line"><span>searchParams.set(&#39;a&#39;,&#39;1&#39;)</span></span>
<span class="line"><span>searchParams.set(&#39;b&#39;,&#39;2&#39;)</span></span>
<span class="line"><span>searchParams.set(&#39;b&#39;,&#39;3&#39;) //重复的后面会覆盖前面的</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(url.href) // https://www.baidu.com/user/login?a=1&amp;b=3</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>URL编码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>URL中不被允许的字符必须被编码，例如非拉丁字母和空格 —— 用其 UTF-8 代码代替，并加上前缀 %。例如 空格会被编码为%20（由于历史原因，空格也可以用 + 编码，但这是一个例外）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>URL对象会自动进行URL编码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>XMLHttpRequest</span></span>
<span class="line"><span>XMLHttpRequest是一个内建的浏览器对象，只能在浏览器环境使用，它允许使用 JavaScript 发送 HTTP 请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>fetch是更新的方法，在浏览器和Node环境中均可以使用，但是fetch无法完成上传进度的跟踪，这里我们主要看下XMLHttpRequest如何实现上传进度的跟踪</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//创建对象</span></span>
<span class="line"><span>let xhr = new XMLHttpRequest()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//配置请求信息</span></span>
<span class="line"><span>xhr.open(&#39;GET&#39;,&#39;&#39;) //xhr.open(method, URL, [async, user, password]) async默认为true表示同步请求，user和password字段在需要HTTP基本身份验证（如果有的话）的请求中使用</span></span>
<span class="line"><span>xhr.timeout = 2000 //指定超时时间，超时请求就会被取消，并且触发 timeout 事件</span></span>
<span class="line"><span>xhr.responseType = &#39;json&#39; //设置服务器响应格式，text字符串，arraybuffer二进制数据，blob二进制数据，json</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//设置header</span></span>
<span class="line"><span>//使用setRequestHeader设置header不会覆盖；xhr.setRequestHeader(&#39;X-Auth&#39;, &#39;123&#39;);xhr.setRequestHeader(&#39;X-Auth&#39;, &#39;456&#39;); 最后的结果是X-Auth: 123, 456</span></span>
<span class="line"><span>xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;application/json&#39;); //注意：一些header字段是浏览器控制，不允许js设置，前面提到过</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//发送请求，参数是请求体，不写则不传递</span></span>
<span class="line"><span>xhr.send()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//xhr.abort()</span><span>  //终止XHR请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//xhr的监听事件</span></span>
<span class="line"><span>xhr.onload = function () {//当请求完成（即使 HTTP 状态为 400 或 500 等），并且响应已完全下载</span></span>
<span class="line"><span>    //status状态码；statusText状态消息，例如状态码200对应ok，404对应Not Found，403对应Forbidden</span></span>
<span class="line"><span>    //请求就会被取消，并且触发 timeout 事件</span></span>
<span class="line"><span>    if (xhr.status != 200) { // 分析响应的 HTTP 状态</span></span>
<span class="line"><span>        console.log(`Error ${xhr.status}: ${xhr.statusText}`); // 例如 404: Not Found</span></span>
<span class="line"><span>    } else { // 显示结果</span></span>
<span class="line"><span>        console.log(`Done, got ${xhr.response.length} bytes`); // response 是服务器响应</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>xhr.onerror = function () { // 非 HTTP 错误，断网、URL不存在</span></span>
<span class="line"><span>    console.log(`网络错误`);</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//下载的监听事件</span></span>
<span class="line"><span>xhr.onprogress = function (event) { // 定期触发</span></span>
<span class="line"><span>    // event.loaded —— 已经下载了多少字节</span></span>
<span class="line"><span>    // 当服务器发送了 Content-Length header 时，event.lengthComputable = true</span></span>
<span class="line"><span>    // event.total —— 总字节数（如果 lengthComputable 为 true）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if (event.lengthComputable) {</span></span>
<span class="line"><span>        console.log(`Received ${event.loaded} of ${event.total} bytes`);</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        console.log(`Received ${event.loaded} bytes`); // 没有 Content-Length</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//上传的监听事件 xhr.upload</span></span>
<span class="line"><span>xhr.upload.onload = function () { //上传成功完成</span></span>
<span class="line"><span>    console.log(`Upload finished successfully.`);</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>xhr.upload.onerror = function () { //非 HTTP 错误，断网、URL不存在</span></span>
<span class="line"><span>    console.log(`Error during the upload: ${xhr.status}`);</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span>xhr.upload.onprogress = function (event) {//上传期间定期触发</span></span>
<span class="line"><span>    // event.loaded —— 已经上传了多少字节</span></span>
<span class="line"><span>    // event.total —— 总字节数</span></span>
<span class="line"><span>    console.log(`Uploaded ${event.loaded} of ${event.total} bytes`);</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span>//大文件恢复上传。需要服务器记录接收字节数，前端通过另一个接口拿到，然后使用slice处理完成文件</span></span>
<span class="line"><span>//xhr.send(file.slice(startByte));</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>49</span></span>
<span class="line"><span>50</span></span>
<span class="line"><span>51</span></span>
<span class="line"><span>52</span></span>
<span class="line"><span>53</span></span>
<span class="line"><span>54</span></span>
<span class="line"><span>55</span></span>
<span class="line"><span>56</span></span>
<span class="line"><span>57</span></span>
<span class="line"><span>58</span></span>
<span class="line"><span>59</span></span>
<span class="line"><span>60</span></span>
<span class="line"><span>XHR实际上还有很多事件：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>loadstart —— 请求开始。</span></span>
<span class="line"><span>progress —— 一个响应数据包到达，此时整个 response body 都在 response 中。</span></span>
<span class="line"><span>abort —— 调用 xhr.abort() 取消了请求。</span></span>
<span class="line"><span>error —— 发生连接错误，例如，域错误。不会发生诸如 404 这类的 HTTP 错误。</span></span>
<span class="line"><span>load —— 请求成功完成。</span></span>
<span class="line"><span>timeout —— 由于请求超时而取消了该请求（仅发生在设置了 timeout 的情况下）。</span></span>
<span class="line"><span>loadend —— 在 load，error，timeout 或 abort 之后触发。</span></span>
<span class="line"><span>error，abort，timeout 和 load 事件是互斥的。其中只有一种可能发生</span></span>
<span class="line"><span></span></span>
<span class="line"><span>fetch</span></span>
<span class="line"><span>发起请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>fetch法是一个异步方法用来发起网络请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>参数：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>第一个是url</span></span>
<span class="line"><span>第二个是个对象，用来指定请求时的配置 （更多参数详见：https://zh.javascript.info/fetch-api）</span></span>
<span class="line"><span>返回值：请求的结果，是一个Promise对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意：如果 fetch 无法建立一个 HTTP 请求，例如网络问题，亦或是请求的网址不存在，那么 promise 才会 reject。异常的 HTTP 状态，例如 404 或 500，不会导致出现 error</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>fetch(url,{</span></span>
<span class="line"><span>     method:&#39;POST&#39;,//fetch默认为Get请求。但是可以在第二个参数中使用method字段指定为其他方式</span></span>
<span class="line"><span>     headers:{</span></span>
<span class="line"><span>         //注意：为了保证了 HTTP 的正确性和安全性，有些属性仅由浏览器控制。详见（https://fetch.spec.whatwg.org/#forbidden-header-name）</span></span>
<span class="line"><span>     },</span></span>
<span class="line"><span>     body:&#39;你好&#39; //请求体发送内容。注意：如果值是字符串，则 Content-Type 会默认设置为text/plain;charset=UTF-8；所以，当这里发送json字符串时，记得要设置为application/json</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>    let url = &#39;https://api.github.com/repos/javascript-tutorial/en.javascript.info/commits?per_page=100&#39;;</span></span>
<span class="line"><span>    let response = await fetch(url);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>解析请求结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span>fetch返回的响应对象，有很多成员，下面一一介绍</span></span>
<span class="line"><span></span></span>
<span class="line"><span>response.ok和response.status</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let url = &#39;https://api.github.com/repos/javascript-tutorial/en.javascript.info/commits?per_page=100&#39;;</span></span>
<span class="line"><span>let response = await fetch(url);</span></span>
<span class="line"><span>// 1、response.ok =&gt; 如果 HTTP 状态码为 200-299，则为 true</span></span>
<span class="line"><span>if (response.ok) {</span></span>
<span class="line"><span>    let json = await response.json();</span></span>
<span class="line"><span>    console.log(json)</span></span>
<span class="line"><span>} else {</span></span>
<span class="line"><span>    alert(&quot;HTTP-Error: &quot; + response.status);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>response.headers</span></span>
<span class="line"><span></span></span>
<span class="line"><span>response.headers =&gt;headers不是map对象，但是其有map方法</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//get方法</span></span>
<span class="line"><span>console.log(&#39;response --&gt; &#39;,response.headers.get(&#39;Content-Type&#39;))</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//遍历header</span></span>
<span class="line"><span>for (let [key,value] of response.headers){</span></span>
<span class="line"><span>  console.log(&#39;header --&gt; &#39;,key, value)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>response.body</span></span>
<span class="line"><span></span></span>
<span class="line"><span>body是一个ReadableStream对象，不能直接读取。可以通过以下的异步函数读取其内容</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>response.text() —— 读取 response，并以文本形式返回response</span></span>
<span class="line"><span></span></span>
<span class="line"><span>response.json() —— 将 response 解析为 JSON 格式</span></span>
<span class="line"><span></span></span>
<span class="line"><span>response.formData() —— 以 FormData 对象的形式返回response</span></span>
<span class="line"><span></span></span>
<span class="line"><span>response.blob() —— 以 Blob（具有类型的二进制数据）形式返回response</span></span>
<span class="line"><span></span></span>
<span class="line"><span>response.arrayBuffer() —— 以 ArrayBuffer（低级别的二进制数据）形式返回 response</span></span>
<span class="line"><span></span></span>
<span class="line"><span>response.body.getReader() —— 获取一个流读取器，可以使用它的read方法来逐块读取body数据（response.body是一个流对象）</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>例子：将response解析为</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let json =await response.json()</span></span>
<span class="line"><span>console.log(&#39;response json --&gt; &#39;,json)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>例子：通过流读取器读取数据，存储在chunks数组中（每个元素是一个字节类型的数据块）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const reader=response.body.getReader()</span></span>
<span class="line"><span>const totalLength=response.headers.get(&#39;Content-Length&#39;) //注意：Content-Length字段不一定存在，我们应该检查循环中的 receivedLength，一旦达到一定的限制就将其中断。这样 chunks 就不会溢出内存了。</span></span>
<span class="line"><span>let receiveLength=0</span></span>
<span class="line"><span>let chunks = [] //数据</span></span>
<span class="line"><span>while (true){//在循环中接收响应块（response chunk）</span></span>
<span class="line"><span>    const {done,value}=await reader.read() //done为true接收结束，value是接收的字节化块数据，value.length就是当前块数据的长度(单位是字节)</span></span>
<span class="line"><span>    if (done){</span></span>
<span class="line"><span>        break;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    receiveLength+=value.length</span></span>
<span class="line"><span>    console.log(`接收了${receiveLength}bytes/${totalLength}bytes`); //获取下载进度（fetch 方法无法跟踪 上传 进度）</span></span>
<span class="line"><span>    chunks.push(value)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>将字节类型的数据块转化为需要的类型</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 如果我们需要的是二进制内容 let blob = new Blob(chunks);</span></span>
<span class="line"><span>//</span></span>
<span class="line"><span>// 如果我们需要的是字符串呢</span></span>
<span class="line"><span>// 由于没有单个方法可以将每一个块数据串联起来，所以这里需要通过遍历数据按照顺序拼接放置在Uint8Array中</span></span>
<span class="line"><span>let chunksAll=new Uint8Array(receiveLength)</span></span>
<span class="line"><span>let position=0</span></span>
<span class="line"><span>for (let chunk of chunks){</span></span>
<span class="line"><span>    chunksAll.set(chunk,position)</span></span>
<span class="line"><span>    position+=chunk.length</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>let res=new TextDecoder(&#39;utf-8&#39;).decode(chunksAll) //解析字节数据，返回值是文本</span></span>
<span class="line"><span>console.log(JSON.parse(res)) //转为json数据</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>注意：我们只能选择一种读取 body 的方法，例如：我们已经使用了 response.text() 方法来获取 response，那么如果再用 response.json()，则会提未捕获的rejected错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>TypeError: Failed to execute &#39;text&#39; on &#39;Response&#39;: body stream already read</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>终止网络请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>亦可以用来终止Promise操作，Promise原本没有终止的概念</span></span>
<span class="line"><span></span></span>
<span class="line"><span>AbortController对象，有abort()方法和signal属性。调用后有abort()后signal属性就变成了true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>1、有fetch结合，fetch内部做了处理，当它的第二个配置对象中配置了signal的值后，就会监听这个值。为假就会终止请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let controller=new AbortController()</span></span>
<span class="line"><span>let url = &#39;https://api.github.com/repos/javascript-tutorial/en.javascript.info/commits?per_page=100&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let response = await fetch(url,{</span></span>
<span class="line"><span>    signal:controller.signal</span></span>
<span class="line"><span>}).catch(err =&gt;{</span></span>
<span class="line"><span>    console.log(&#39;err --&gt; &#39;,err)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>controller.abort()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>2、一般的Promise异步操作，也可以使用</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let controller=new AbortController()</span></span>
<span class="line"><span>function f(signal){</span></span>
<span class="line"><span>    return  new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        signal.throwIfAborted() //如果signal是终止状态，就会抛出异常。后面就不执行了</span></span>
<span class="line"><span>        setTimeout(()=&gt;{</span></span>
<span class="line"><span>            resolve(&#39;执行完毕&#39;)</span></span>
<span class="line"><span>        },1000)</span></span>
<span class="line"><span>        controller.abort()</span></span>
<span class="line"><span>        signal.addEventListener(&#39;abort&#39;,()=&gt;{</span></span>
<span class="line"><span>            reject()</span></span>
<span class="line"><span>        })</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>controller.abort()</span></span>
<span class="line"><span>let res= await f(controller.signal).catch(err =&gt;{</span></span>
<span class="line"><span>   console.log(&#39;err --&gt; &#39;,err)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>console.log(res)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>3、Node中的一些异步函数也类似于fetch函数。例如fs.readFile，fs.writeFile，http.request，https.request 和 timers 以及新版本支持的 Fetch API</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const fs = require(&#39;fs&#39;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const ac = new AbortController();</span></span>
<span class="line"><span>const { signal } = ac;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>fs.readFile(&#39;data.json&#39;, { signal, encoding: &#39;utf8&#39; }, (err, data) =&gt; {</span></span>
<span class="line"><span>    if (err) {</span></span>
<span class="line"><span>        console.error(err);</span></span>
<span class="line"><span>        return;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    console.log(data);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ac.abort();</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>长轮询</span></span>
<span class="line"><span>Long polling，每个一段时间就向服务器发送一个请求，获取最新状态</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这种方式，对于服务器是一种负担，所以要注意服务器架构是否能同时在有很多连接的情况下正常工作</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function subscribe() {</span></span>
<span class="line"><span>  let response = await fetch(&quot;/subscribe&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  if (response.status == 502) {</span></span>
<span class="line"><span>    // 状态 502 是连接超时错误，</span></span>
<span class="line"><span>    // 连接挂起时间过长时可能会发生，</span></span>
<span class="line"><span>    // 远程服务器或代理会关闭它</span></span>
<span class="line"><span>    // 让我们重新连接</span></span>
<span class="line"><span>    await subscribe();</span></span>
<span class="line"><span>  } else if (response.status != 200) {</span></span>
<span class="line"><span>    // 一个 error —— 让我们显示它</span></span>
<span class="line"><span>    showMessage(response.statusText);</span></span>
<span class="line"><span>    // 一秒后重新连接</span></span>
<span class="line"><span>    await new Promise(resolve =&gt; setTimeout(resolve, 1000));</span></span>
<span class="line"><span>    await subscribe();</span></span>
<span class="line"><span>  } else {</span></span>
<span class="line"><span>    // 获取并显示消息</span></span>
<span class="line"><span>    let message = await response.text();</span></span>
<span class="line"><span>    showMessage(message);</span></span>
<span class="line"><span>    // 再次调用 subscribe() 以获取下一条消息</span></span>
<span class="line"><span>    await subscribe();</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>subscribe().catch(err=&gt;{</span></span>
<span class="line"><span>	console.log(&#39;网络错误&#39;,err)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>WebSocket</span></span>
<span class="line"><span>WebSocke可以是客户端和服务端直接建立一条持久化的连接，双方都可以主动发送消息</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意，要打开一个 WebSocket 连接，需要使用特殊的协议 ws 创建 new WebSocket（ wss:// 是加密的协议）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>express框架使用WebSocket</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var express = require(&quot;express&quot;);</span></span>
<span class="line"><span>var expressWs = require(&quot;express-ws&quot;);</span></span>
<span class="line"><span>var app = express();</span></span>
<span class="line"><span>expressWs(app);  //将 express 实例上绑定 websock 的一些方法</span></span>
<span class="line"><span>app.ws(&quot;/socketTest&quot;, function (ws, req) {</span></span>
<span class="line"><span>    ws.send(&quot;你连接成功了&quot;);</span></span>
<span class="line"><span>    ws.on(&quot;message&quot;, function (msg) {</span></span>
<span class="line"><span>        ws.send(`这是第二次发送信息，接收到:${msg}`);</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>app.listen(3000);</span></span>
<span class="line"><span>console.log(&quot;Listening on port 3000...&quot;);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>浏览器</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span>&lt;html lang=&quot;zh&quot;&gt;</span></span>
<span class="line"><span>&lt;head&gt;</span></span>
<span class="line"><span>    &lt;meta charset=&quot;utf-8&quot;&gt;</span></span>
<span class="line"><span>&lt;/head&gt;</span></span>
<span class="line"><span>&lt;script type=&quot;module&quot;&gt;</span></span>
<span class="line"><span>    let socket = new WebSocket(&#39;ws://localhost:9091/socketTest&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    socket.onopen=function (e){ //连接已建立</span></span>
<span class="line"><span>        console.log(&#39;连接已经建立&#39;,e)</span></span>
<span class="line"><span>        socket.send(&#39;这里是客户端&#39;)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    socket.onmessage = function (e) {//接收到消息</span></span>
<span class="line"><span>        let message = e.data;</span></span>
<span class="line"><span>        console.log(&#39;onmessage事件：&#39;,message)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    socket.onerror=function (e){ //出错</span></span>
<span class="line"><span>        console.log(&#39;onerror事件：&#39;,e)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    socket.onclose=function (e){ //关闭websocket</span></span>
<span class="line"><span>        console.log(&#39;onclose事件：&#39;,e)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/script&gt;</span></span>
<span class="line"><span>&lt;body&gt;</span></span>
<span class="line"><span>&lt;div style=&quot;height:200px;border:red solid 1px;position: relative&quot;&gt;</span></span>
<span class="line"><span>    &lt;div style=&quot;background-color:red; &quot;&gt;子元素&lt;/div&gt;</span></span>
<span class="line"><span>&lt;/div&gt;</span></span>
<span class="line"><span>&lt;/body&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>JS高级进阶</span></span>
<span class="line"><span>闭包封装</span></span>
<span class="line"><span>简单说，函数中返回一个函数。父函数中的变量不会销毁，如下add每次调用count都会加1</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function createAdd(){</span></span>
<span class="line"><span>  let count=0</span></span>
<span class="line"><span>	return function(){</span></span>
<span class="line"><span>    count++</span></span>
<span class="line"><span>    return count</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const add=createAdd()</span></span>
<span class="line"><span>add()  // 1</span></span>
<span class="line"><span>add()  // 2</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>方式1</span></span>
<span class="line"><span>重要的事情，日常开发用到最多的就是对第三方API、系统的API做封装。这里用一个简单的例子</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function createRequest(globalCofing){  // 全局的公用参数，存到闭包中</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  const {baseUrl} = globalCofing||{}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  return function(requestConfig){   // 实际上每个请求用的函数，其内部使用了fetch发起请求</span></span>
<span class="line"><span>    const {url,methed} = requestConfig||{}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return fetch(`{baseUrl}${url}`,{</span></span>
<span class="line"><span>      methed</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 作为闭包存下了baseUrl数据</span></span>
<span class="line"><span>const request = createRequest({</span></span>
<span class="line"><span>	baseUrl:&#39;xxxx&#39;</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>request({</span></span>
<span class="line"><span>  url:&#39;xxx&#39;,</span></span>
<span class="line"><span>  method:&#39;GET&#39;</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>方式2</span></span>
<span class="line"><span>不直接返回函数，而是挂载函数。通过递归收集参数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function sum(...args){</span></span>
<span class="line"><span>    // 闭包，但是不直接返回函数，而是在函数上挂calc函数，再返回</span></span>
<span class="line"><span>    // fn的参数就是sum(1)返回的函数的参数</span></span>
<span class="line"><span>    const fn=(...rest)=&gt;sum(...args,...rest)</span></span>
<span class="line"><span>    // 这里的args就是合并后的。调用calc进行计算</span></span>
<span class="line"><span>    fn.calc=()=&gt; args.reduce((pre,cur)=&gt;pre+cur,0)</span></span>
<span class="line"><span>    return fn</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(sum(1)(2)(3,7).calc()) // 13</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>柯里化封装</span></span>
<span class="line"><span>接收一个函数func1，内部返回一个函数，这个函数调用func1</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 任意函数，返回值会被缓存</span></span>
<span class="line"><span>function slow(x) {</span></span>
<span class="line"><span>    // 这里可能会有重负载的 CPU 密集型工作</span></span>
<span class="line"><span>    console.log(`Called with ${x}`);</span></span>
<span class="line"><span>    return x;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 缓存工具（柯里化，入参是一个函数）</span></span>
<span class="line"><span>function cachingDecorator(func) {</span></span>
<span class="line"><span>  	// 这里是闭包</span></span>
<span class="line"><span>    let cache = new Map();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  	// 这里的x实际上传给 &quot;入参func的&quot;</span></span>
<span class="line"><span>    return function(x) {</span></span>
<span class="line"><span>        if (cache.has(x)) {    // 如果缓存中有对应的结果</span></span>
<span class="line"><span>            return cache.get(x); // 从缓存中读取结果</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        let result = func(x);  // 否则就调用 func</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        cache.set(x, result);  // 然后将结果缓存（记住）下来</span></span>
<span class="line"><span>        return result;</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>slowWrapper = cachingDecorator(slow) // 这里就是入参func</span></span>
<span class="line"><span>slowWrapper(1) // 这里是入参func的参数</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>​</span></span>
<span class="line"><span></span></span>
<span class="line"><span>状态机(FSM)</span></span>
<span class="line"><span>FSM（finite state machine）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>预定义了所有的状态</span></span>
<span class="line"><span></span></span>
<span class="line"><span>状态接收变更，完成从状态A转换为状态B的状态转换</span></span>
<span class="line"><span></span></span>
<span class="line"><span>以常见的订单状态为例子</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20231024005813636</span></span>
<span class="line"><span></span></span>
<span class="line"><span>不使用状态机</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const orderInfo={</span></span>
<span class="line"><span>  status:0 // 0初始值，1创建成功，2已支付</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 以取消为例子</span></span>
<span class="line"><span>functin cancelOrderPay(){</span></span>
<span class="line"><span> 	if(是否已支付){</span></span>
<span class="line"><span>    // 这里做大量的逻辑，来重置订单</span></span>
<span class="line"><span>    // 这些逻辑都需要判断各种状态是否符合要求，再执行</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>使用状态机</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20231024010723367</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20231024010810243</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20231024011401038</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20231024011503169</span></span>
<span class="line"><span></span></span>
<span class="line"><span>fsm的Go包：https://pkg.go.dev/github.com/looplab/fsm</span></span>
<span class="line"><span></span></span>
<span class="line"><span>JS包：https://github.com/jakesgordon/javascript-state-machine</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Node</span></span>
<span class="line"><span>路径</span></span>
<span class="line"><span>node中所有接收路径作为参数的函数，如果传入相对路径，默认都是会和process.cwd()做拼接</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>fs.readFileSync(&#39;./data&#39;)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>我们可以在不同的目录执行同一个index文件，process.cwd()表示的是当前路径。这样会导致执行同一个文件，但是其中入参路径是根据执行目录而变化的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>node ~/Document/test/index.js</span></span>
<span class="line"><span></span></span>
<span class="line"><span>node index.js</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>所以，我们推荐node中凡是传入路径的，都是使用resolve</span></span>
<span class="line"><span></span></span>
<span class="line"><span>一般分为下面两种情况</span></span>
<span class="line"><span></span></span>
<span class="line"><span>__dirname</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// path.resolve 拼接两个路径，最后返回一个绝对路径</span></span>
<span class="line"><span>// __dirname表示的是当前文件所在目录</span></span>
<span class="line"><span>// 使用resolve入参路径，不会随着执行目录变化</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const path =require(&#39;path&#39;)</span></span>
<span class="line"><span>fs.readFileSync(path.resolve(__dirname,&#39;./data&#39;))</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>process.cwd() 执行脚本时，所在的目录</span></span>
<span class="line"><span></span></span>
<span class="line"><span>该目录会随着，执行脚本做在目录而变化，一般情况下并不实用。但是，有一种情况很有用，那就是执行目录不变。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果你的程序是作为npm包发布的，例如：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>vite.config.js中引入的插件，所有插件安装位置都在node_module中，vite.config.js调用插件函数，只有用process.cwd()才能准确定位到项目根目录的vite.config.js文件，方便插件来操作项目下的其他文件</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const path =require(&#39;path&#39;)</span></span>
<span class="line"><span>fs.readFileSync(path.resolve(process.cwd(),&#39;./data&#39;))</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>现在推荐使用ESM模块化规范， 浏览器环境没有__dirname，但是浏览器、node 中都支持 import.meta.url其作用是获取当前模块的路径（ file:///xxx/xxx/xxx.js）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果真的需要在 node 环境中模拟__dirname，可以使用下面方式</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>import { fileURLToPath } from &#39;url&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const __filename = fileURLToPath(import.meta.url); // 把 file 协议的路径转化为绝对路径</span></span>
<span class="line"><span>const __dirname = dirname(__filename);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 如果需要获取特定路径。比如在根目录模块中使用下面代码，可定位到 src 目录下</span></span>
<span class="line"><span>const targetPath = url.fileURLToPath(new URL(&quot;./src&quot;, import.meta.url))</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>文件</span></span>
<span class="line"><span>fs.readFileSync、**fs.writeFileSync ** 读写文件</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const mainJS=fs.readFileSync(path.resolve(__dirname,&#39;./main.js&#39;),{ encoding: &#39;utf8&#39; })</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>fs.writeFileSync(path.resolve(__dirname, &#39;../data/audio.ass&#39;), data)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>读不存在的目录、文件会报错</span></span>
<span class="line"><span></span></span>
<span class="line"><span>写不存在的目录会报错，写不存在的文件会新建一个文件后写入，如果同名文件存在，默认会覆盖原有文件内容</span></span>
<span class="line"><span></span></span>
<span class="line"><span>文件存在时不希望覆盖原有内容，可以先使用fs.exists()或fs.promises.access()（推荐使用，因为fs.exists()已被废弃）来检查文件是否存在，然后决定是否写入或以追加模式写入。例如，使用追加模式(a)写入内容而不覆盖原文件：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>判断目录不存在，创建目录</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const { existsSync, mkdirSync } = require(&quot;fs&quot;);</span></span>
<span class="line"><span>if (!existsSync(filePath)) {</span></span>
<span class="line"><span>    mkdirSync(filePath,{ recursive: true });</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>文件流</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>https://juejin.cn/post/7190563380900397117</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>fs.readdirSync 读取目录下的目录名+文件名（仅仅返回第一层级）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const resArr=fs.readdirSync(path.resolve(__dirname,&#39;./src&#39;))</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// [ &#39;assets&#39;, &#39;components&#39;, &#39;test.js&#39; ]</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>如果目录不存在，会直接报错</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//可以判断文件、目录是否存在</span></span>
<span class="line"><span>const isExist = existsSync(path.join(rootAbsPath, &#39;./dist&#39;));</span></span>
<span class="line"><span>if (isExist) {</span></span>
<span class="line"><span>  console.log(&#39;删除dist目录...&#39;); //包括dist及其子目录</span></span>
<span class="line"><span>  process.execSync(`rm -rf dist`, {</span></span>
<span class="line"><span>    cwd: rootAbsPath,</span></span>
<span class="line"><span>  });</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>fs.statSync 获取指定路径的文件夹、文件的描述信息</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let statInfo=fs.statSync(path.resolve(__dirname,&#39;./src/test.js&#39;))</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>查看test文件，返回的结构</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>statInfo Stats {</span></span>
<span class="line"><span>  dev: 16777220,</span></span>
<span class="line"><span>  mode: 16877,</span></span>
<span class="line"><span>  nlink: 3,</span></span>
<span class="line"><span>  uid: 503,</span></span>
<span class="line"><span>  gid: 20,</span></span>
<span class="line"><span>  rdev: 0,</span></span>
<span class="line"><span>  blksize: 4096,</span></span>
<span class="line"><span>  ino: 154375193,</span></span>
<span class="line"><span>  size: 96,</span></span>
<span class="line"><span>  blocks: 0,</span></span>
<span class="line"><span>  atimeMs: 1689610080350.9265,</span></span>
<span class="line"><span>  mtimeMs: 1689610078085.3977,</span></span>
<span class="line"><span>  ctimeMs: 1689610078085.3977,</span></span>
<span class="line"><span>  birthtimeMs: 1689609893659.2727,</span></span>
<span class="line"><span>  atime: 2023-07-17T16:08:00.351Z,</span></span>
<span class="line"><span>  mtime: 2023-07-17T16:07:58.085Z,</span></span>
<span class="line"><span>  ctime: 2023-07-17T16:07:58.085Z,</span></span>
<span class="line"><span>  birthtime: 2023-07-17T16:04:53.659Z</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>判断是否为目录</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>statInfo.isDirectory() //返回布尔值</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>目录</span></span>
<span class="line"><span>mkdir</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>只能创建一层目录</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 从 Node.js v10.12.0 开始，支持递归创建多级目录</span></span>
<span class="line"><span>fs.mkdirSync(&#39;path/to/new/directory&#39;, { recursive: true });</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>执行Shell命令</span></span>
<span class="line"><span>同步：child_process.execSync(command[, options])</span></span>
<span class="line"><span></span></span>
<span class="line"><span>异步：child_process.exec(command[, options][, callback])</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Node会新开一个子线程调用shell命令</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var process = require(&#39;child_process&#39;);</span></span>
<span class="line"><span>process.exec(&#39;shell命令&#39;, function(err, stdout, errout){</span></span>
<span class="line"><span>    // err是执行结果，是否有错</span></span>
<span class="line"><span>    // stdout是标准输出，即shell命令执行后的结果</span></span>
<span class="line"><span>    // errout是错误输出</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span></span></span>
<span class="line"><span>var process = require(&#39;child_process&#39;);</span></span>
<span class="line"><span>let res=process.exec(&#39;shell命令&#39;,{</span></span>
<span class="line"><span>  encoding: &#39;utf-8&#39;, //指定编码方式，res才会输出string</span></span>
<span class="line"><span>  cwd:&#39;执行命令所在的路径&#39; //默认工作路径为运行脚本所在的路径</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>同步方式</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>execSync(`git log -1 HEAD --pretty=&#39;%s&#39;`,{</span></span>
<span class="line"><span>  encoding: &#39;utf-8&#39;,</span></span>
<span class="line"><span>  cwd:&#39;执行命令所在的路径&#39;</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>全局捕获Error</span></span>
<span class="line"><span></span></span>
<span class="line"><span>process.on(&#39;uncaughtException&#39;, function (err) {</span></span>
<span class="line"><span>  console.error(&#39;捕获到全局异常:&#39;, err.message);</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>process.on(&#39;unhandledRejection&#39;, function (err) {</span></span>
<span class="line"><span>  console.error(&#39;捕获到全局 Promise 异常:&#39;, err.message);</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>网络与浏览器</span></span>
<span class="line"><span>Http与Https</span></span>
<span class="line"><span>HTTP是超文本传输协议，HTTP的初衷是为了提供一种发布和接收HTML页面的方法。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>HTTPS使用的主要目的是提供对网站服务器的身份认证，同时保护交换数据的隐私与完整性。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>TLS是传输层加密协议，前身是SSL协议，由网景公司1995年发布，有时候两者不区分。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>HTTP</span></span>
<span class="line"><span></span></span>
<span class="line"><span>HTTP/1.0、HTTP1.1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>HTTP/2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>基于TCP协议</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在HTTP/1的基础上增加了 多路复用(多请求可以复用一个TCP连接)、服务器推送、头信息压缩、二进制分帧</span></span>
<span class="line"><span></span></span>
<span class="line"><span>HTTP/3</span></span>
<span class="line"><span></span></span>
<span class="line"><span>基于QUIC协议</span></span>
<span class="line"><span></span></span>
<span class="line"><span>HTTP/2使用TCP协议+多路复用，所以当多个请求复用一个TCP时，如果某个请求出现丢包，由于TCP的滑动窗口，会一直等待丢失的包重传，导致多个请求受阻。所以提出来HTTP/3</span></span>
<span class="line"><span></span></span>
<span class="line"><span>V8引擎内存机制</span></span>
<span class="line"><span>JS 引擎中对变量的存储主要有两种位置，栈内存和堆内存，栈内存存储基本类型数据以及引用类型数据的内存地址，堆内存储存引用类型的数据</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20210511125507639</span></span>
<span class="line"><span></span></span>
<span class="line"><span>栈内存的回收：栈内存调用栈上下文切换后就被回收，比较简单</span></span>
<span class="line"><span>堆内存的回收：V8 的堆内存分为新生代内存和老生代内存，新生代内存是临时分配的内存，存在时间短，老生代内存存在时间长</span></span>
<span class="line"><span>img</span></span>
<span class="line"><span></span></span>
<span class="line"><span>新生代内存回收机制：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>新生代内存容量小，64 位系统下仅有 32M。新生代内存分为 From、To 两部分，进行垃圾回收时，先扫描 From，将非存活对象回收，将存活对象顺序复制到 To 中，之后调换 From/To，等待下一次回收。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>老生代内存回收机制：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>晋升：如果新生代的变量经过多次回收依然存在，那么就会被放入老生代内存中</span></span>
<span class="line"><span>标记清除：老生代内存会先遍历所有对象并打上标记，然后对正在使用或被强引用的对象取消标记，回收被标记的对象</span></span>
<span class="line"><span>整理内存碎片：把对象挪到内存的一端</span></span>
<span class="line"><span>为什么限制内存大小？</span></span>
<span class="line"><span></span></span>
<span class="line"><span>1、够用了，js设计的初衷是浏览器脚本语言，只执行一次，便释放内存</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2、如果不限制，回收一次100MB的内存大概花费3ms，V8引擎在回收垃圾时，是暂停住所有代码的执行，一旦垃圾过多，在回收内存的时候，中断的时间过长，体验不佳。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>新生代内存：保存新变量，存活时间短的 老生代内存：保存老变量，存活时间长的（老变量：经过几次垃圾回收也没有被杀死的变量）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>新生代变量晋升老生代变量的条件：①这个变量经历过内存回收，当未被回收 ②新生代内存空间一旦超过占用临界值，①中的变量就会被移到老生代内存中 新生代内存特点：内存回收频率快，因为频率快，所以要求回收这个动作要快，即持续时间短，所以采用了牺牲空间换取时间的算法。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>新生代内存回收机制</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20210427094117135假设所有新变量都存在From中，那么在回收的过程中，会先标记活变量，将活着的变量全部复制到To当中，清空From，第二次回收时，标记活变量，将活着的变量全部复制到From当中，清空To 也就是：标记-复制-清空的过程 老生代内存回收机制 假设在内存中有一片连续的区域：1，2，3，4，5 此时2，4死亡，标记并删除后，内存变为：1，-，3，-，5 这时内存空间会不连续，也就是所谓的内存碎片，如果不进行修补，有可能会放不进数组，因为在数据结构中，数组中的元素是储存在内存中的连续一片地址中的。所以在V8引擎中，老生代内存在标记-删除之后，还要进行一次排列，整理内存碎片。 标记死亡变量，删除死亡变量，整理内存空间 也就是标记-删除-整理的过程</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**总结：**新生代内存：标记-复制-清空（省时，费空间） 老生代内存：标记-删除-整理</span></span>
<span class="line"><span></span></span>
<span class="line"><span>内存回收时机</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20210427094359903</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在内存占用接近临界值的时候，开始回收内存 全局变量：只在程序执行完成才会被回收，否则永久保留</span></span>
<span class="line"><span></span></span>
<span class="line"><span>http状态码</span></span>
<span class="line"><span>1开头 代表请求已被接受，需要继续处理。这类响应是临时响应</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2开头 （请求成功）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>200 （成功） 服务器已成功处理了请求。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>3开头 （请求被重定向）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>301 （永久移动） 请求的网页已永久移动到新位置。 服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>302 （临时移动） 服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>304 协商缓存</span></span>
<span class="line"><span></span></span>
<span class="line"><span>4开头 （请求错误）这些状态代码表示请求可能出错，妨碍了服务器的处理。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>401 Unauthorized， 表示未经授权</span></span>
<span class="line"><span></span></span>
<span class="line"><span>403 forbidden，表示对请求资源的访问被服务器拒绝</span></span>
<span class="line"><span></span></span>
<span class="line"><span>404 not found，表示在服务器上没有找到请求的资源</span></span>
<span class="line"><span></span></span>
<span class="line"><span>5开头（服务器错误）这些状态代码表示服务器在尝试处理请求时发生内部错误。 这些错误可能是服务器本身的错误，而不是请求出错。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>500 （服务器内部错误） 服务器遇到错误，无法完成请求。 501 （尚未实施） 服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码。 502 （错误网关） 服务器作为网关或代理，从上游服务器收到无效响应。 503 （服务不可用） 服务器目前无法使用（由于超载或停机维护）。 通常，这只是暂时状态。 504 （网关超时） 服务器作为网关或代理，但是没有及时从上游服务器收到请求。 505 （HTTP 版本不受支持） 服务器不支持请求中所用的 HTTP 协议版本。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>浏览器静态资源缓存</span></span>
<span class="line"><span>强缓存</span></span>
<span class="line"><span></span></span>
<span class="line"><span>服务端主动在respone header里面通过字段通知浏览器需要进行缓存的方式 respone header 的cache-control字段，常见的值有max-age, public ,private ,no-cache ,no-store等</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如下图respon header中,cache-control:max-age=31536000,public,immutable</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20210411232414821</span></span>
<span class="line"><span></span></span>
<span class="line"><span>max-age表示缓存的时间是31536000秒（1年）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public表示可以被浏览器和代理服务器缓存，代理服务器一般可用nginx来做。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>immutable表示该资源永远不变，但是实际上该资源并不是永远不变，它这么设置的意思是为了让用户在刷新页面的时候不要去请求服务器！如果你只设置了cahe-control:max-age=31536000,public 这属于强缓存，每次用户正常打开这个页面，浏览器会判断缓存是否过期，没有过期就从缓存中读取数据；但是有一些用户会点击浏览器的刷新按钮去刷新页面，这时候就算资源没有过期，浏览器也会直接去请求服务器，这就是额外的请求消耗了，这时候就相当于是走协商缓存的流程了。如果cahe-control:max-age=315360000,public再加个immutable的话，就算用户刷新页面，浏览器也不会发起请求去服务，浏览器会直接从本地磁盘或者内存中读取缓存并返回200状态，看上图的红色框（from memory cache）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>总结</span></span>
<span class="line"><span></span></span>
<span class="line"><span>cache-control: max-age=xxxx，public 客户端和代理服务器都可以缓存该资源；客户端在xxx秒的有效期内，如果有请求该资源的需求的话就直接读取缓存,statu code:200 ，如果用户做了刷新操作，就向服务器发起http请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>cache-control: max-age=xxxx，private 只让客户端可以缓存该资源；代理服务器不缓存。客户端在xxx秒内直接读取缓存,statu code:200</span></span>
<span class="line"><span></span></span>
<span class="line"><span>cache-control: max-age=xxxx，immutable 客户端在xxx秒的有效期内，如果有请求该资源的需求的话就直接读取缓存,statu code:200 ，即使用户做了刷新操作，也不向服务器发起http请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>cache-control: no-cache 跳过设置强缓存，但是不妨碍设置协商缓存；一般如果你做了强缓存，只有在强缓存失效了才走协商缓存的，设置了no-cache就不会走强缓存了，每次请求都回询问服务端。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>cache-control: no-store 不缓存，这个会让客户端、服务器都不缓存，也就没有所谓的强缓存、协商缓存了。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>协商缓存</span></span>
<span class="line"><span></span></span>
<span class="line"><span>客户端主动请求资源，如果服务端发现该静态资源未发生变化，则直接返回304，客户端使用缓存的静态资源。如果发生变化，返回新的静态资源</span></span>
<span class="line"><span></span></span>
<span class="line"><span>怎么设置协商缓存？</span></span>
<span class="line"><span></span></span>
<span class="line"><span>response header里面的设置etag和last-modified两个字段</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>etag: &#39;5c20abbd-e2e8&#39;</span></span>
<span class="line"><span>last-modified: Mon, 24 Dec 2018 09:49:49 GMT</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>etag：每个文件有一个，改动文件了就变了，就是个文件hash，每个文件唯一</span></span>
<span class="line"><span></span></span>
<span class="line"><span>last-modified：文件的修改时间，精确到秒</span></span>
<span class="line"><span></span></span>
<span class="line"><span>也就是说，每次请求返回来 response header 中的 etag和 last-modified，在下次请求时在 request header 就把这两个带上，服务端把你带过来的标识进行对比，然后判断资源是否更改了，如果更改就直接返回新的资源，和更新对应的response header的标识etag、last-modified。如果资源没有变，那就不变etag、last-modified</span></span>
<span class="line"><span></span></span>
<span class="line"><span>协商缓存流程</span></span>
<span class="line"><span></span></span>
<span class="line"><span>服务端发现资源没有改变的时候，会走如下流程：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>发请求--&gt;看资源是否过期--&gt;过期--&gt;请求服务器--&gt;服务器对比资源是否改变（通过对比 etag）--&gt;没改变-&gt;返回304状态码--&gt;客户端用缓存的老资源。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>服务端发现资源改变的时候，会走如下流程：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>发请求--&gt;看资源是否过期--&gt;过期--&gt;请求服务器--&gt;服务器对比资源是否改变（通过对比 etag）--&gt;改变--&gt;返回200状态码--&gt;客户端如第一次接收该资源一样，记下它的cache-control中的max-age、etag、last-modified等。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>总结</span></span>
<span class="line"><span></span></span>
<span class="line"><span>请求资源时，把用户本地该资源的 etag 同时带到服务端，服务端和最新资源做对比。 如果资源没更改，返回304，浏览器读取本地缓存。 如果资源有更改，返回200，返回最新的资源。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>补充</span></span>
<span class="line"><span></span></span>
<span class="line"><span>response header中的etag、last-modified在客户端重新向服务端发起请求时，会在request header中换个key名：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// response header</span></span>
<span class="line"><span>etag: &#39;5c20abbd-e2e8&#39;</span></span>
<span class="line"><span>last-modified: Mon, 24 Dec 2018 09:49:49 GMT</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// request header 变为</span></span>
<span class="line"><span>if-none-matched: &#39;5c20abbd-e2e8&#39;</span></span>
<span class="line"><span>if-modified-since: Mon, 24 Dec 2018 09:49:49 GMT</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>为什么要有etag？ 你可能会觉得使用last-modified已经足以让浏览器知道本地的缓存副本是否足够新，为什么还需要etag呢？HTTP1.1中etag的出现（也就是说，etag是新增的，为了解决之前只有If-Modified的缺点）主要是为了解决几个last-modified比较难解决的问题：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>一些文件也许会周期性的更改，但是他的内容并不改变(仅仅改变的修改时间)，这个时候我们并不希望客户端认为这个文件被修改了，而重新get；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>某些文件修改非常频繁，比如在秒以下的时间内进行修改，(比方说1s内修改了N次)，if-modified-since能检查到的粒度是秒级的，这种修改无法判断(或者说UNIX记录MTIME只能精确到秒)；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>某些服务器不能精确的得到文件的最后修改时间。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>跨域</span></span>
<span class="line"><span>浏览器的同源策略：同源策略（Sameoriginpolicy）是一种约定，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响。可以说Web是构建在同源策略基础之上的，浏览器只是针对同源策略的一种实现。同源策略会阻止一个域的javascript脚本和另外一个域的内容进行交互。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**同域的概念：**简单的解释就是相同域名,端口相同,协议相同</span></span>
<span class="line"><span></span></span>
<span class="line"><span>当前网页URL地址：study.cn/json/jsonp/jsonp.html</span></span>
<span class="line"><span>请求地址	形式	结果</span></span>
<span class="line"><span>http://study.cn/test/a.html	同一域名,不同文件夹	成功</span></span>
<span class="line"><span>http://study.cn/json/jsonp/jsonp.html	同一域名,统一文件夹	成功</span></span>
<span class="line"><span>http://a.study.cn/json/jsonp/jsonp.html	不同域名,文件路径相同	失败</span></span>
<span class="line"><span>http://study.cn:8080/json/jsonp/jsonp.html	同一域名,不同端口	失败</span></span>
<span class="line"><span>https://study.cn/json/jsonp/jsonp.html	同一域名,不同协议	失败</span></span>
<span class="line"><span>跨域:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>浏览器对于javascript的同源策略的限制，例如a.cn下面的js不能调用b.cn中的js,对象或数据(因为a.cn和b.cn是不同域),所以就出现了跨域的概念</span></span>
<span class="line"><span></span></span>
<span class="line"><span>跨域的解决方案</span></span>
<span class="line"><span></span></span>
<span class="line"><span>JSONP</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**核心思想：**Web 页面上直接使用Ajax受到同源策略的影响。但是，通过&lt;script&gt;调用js文件不受浏览器同源策略的影响，所以通过 Script 便签可以进行跨域的请求。通过script标签加载JS脚本，在JS脚本中发起请求</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**优点：**简单适用，兼容性好（兼容低版本IE）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**缺点：**只支持get请求，不支持post请求。它只支持跨域 HTTP 请求这种情况,不能解决不同域的两个页面或 iframe 之间进行数据通信</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**过程：**网页通过添加一个&lt;script&gt;元素，向服务器请求 JSON 数据，服务器收到请求后，将数据放在一个指定名字的回调函数的参数位置传回来。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>例子：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>前端</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 拼接url的</span></span>
<span class="line"><span>function stringify (data) {</span></span>
<span class="line"><span>  const pairs = Object.entries(data)</span></span>
<span class="line"><span>  const qs = pairs.map(([k, v]) =&gt; {</span></span>
<span class="line"><span>    let noValue = false</span></span>
<span class="line"><span>    if (v === null || v === undefined || typeof v === &#39;object&#39;) {</span></span>
<span class="line"><span>      noValue = true</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return `${encodeURIComponent(k)}=${noValue ? &#39;&#39; : encodeURIComponent(v)}`</span></span>
<span class="line"><span>  }).join(&#39;&amp;&#39;)</span></span>
<span class="line"><span>  return qs</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function jsonp ({ url, onData, params }) {</span></span>
<span class="line"><span>  const script = document.createElement(&#39;script&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 一、为了避免全局污染，使用一个随机函数名</span></span>
<span class="line"><span>  const cbFnName = `JSONP_PADDING_${Math.random().toString().slice(2)}`</span></span>
<span class="line"><span>  // 二、默认 callback 函数为 cbFnName</span></span>
<span class="line"><span>  script.src = `${url}?${stringify({ callback: cbFnName, ...params })}`</span></span>
<span class="line"><span>  // 三、使用 onData 作为 cbFnName 回调函数，接收数据。JSONP回调函数必须挂载到全局</span></span>
<span class="line"><span>  window[cbFnName] = onData;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  document.body.appendChild(script)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>服务</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const http = require(&#39;http&#39;)</span></span>
<span class="line"><span>const url = require(&#39;url&#39;)</span></span>
<span class="line"><span>const qs = require(&#39;querystring&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const server = http.createServer((req, res) =&gt; {</span></span>
<span class="line"><span>  const { pathname, query } = url.parse(req.url)</span></span>
<span class="line"><span>  const params = qs.parse(query)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  const data = { name: &#39;shanyue&#39;, id: params.id }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  if (params.callback) {</span></span>
<span class="line"><span>    str = `${params.callback}(${JSON.stringify(data)})`</span></span>
<span class="line"><span>    res.end(str)</span></span>
<span class="line"><span>  } else {</span></span>
<span class="line"><span>    res.end()</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server.listen(10010, () =&gt; console.log(&#39;Done&#39;))</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>CORS</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CORS是一个 W3C 标准 ，全称是跨域资源分享（Cross-Origin Resource Sharing），它允许浏览器向跨源服务器，发出 XMLHttpRequest 请求，从而克服了 Ajax 只能同源使用的限制。实现 CORS 通信的关键是服务器。只要服务器实现了 CORS 接口，就可以跨源通信。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CORS 的优缺点：使用简单方便，更为安全；支持 POST 请求方式；CORS 是一种新型的跨域问题的解决方案，存在兼容问题，仅支持 IE 10 以上</span></span>
<span class="line"><span></span></span>
<span class="line"><span>1、普通跨域请求：只需服务器端设置Access-Control-Allow-Origin</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2、带cookie跨域请求：前后端都需要进行设置</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//前端axios</span></span>
<span class="line"><span>axios.defaults.withCredentials = true</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//后端Node.js</span></span>
<span class="line"><span>var http = require(&#39;http&#39;);</span></span>
<span class="line"><span>var server = http.createServer();</span></span>
<span class="line"><span>var qs = require(&#39;querystring&#39;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server.on(&#39;request&#39;, function(req, res) {</span></span>
<span class="line"><span>    var postData = &#39;&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 数据块接收中</span></span>
<span class="line"><span>    req.addListener(&#39;data&#39;, function(chunk) {</span></span>
<span class="line"><span>        postData += chunk;</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 数据接收完毕</span></span>
<span class="line"><span>    req.addListener(&#39;end&#39;, function() {</span></span>
<span class="line"><span>        postData = qs.parse(postData);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // 跨域后台设置</span></span>
<span class="line"><span>        res.writeHead(200, {</span></span>
<span class="line"><span>            // 后端允许发送Cookie</span></span>
<span class="line"><span>            &#39;Access-Control-Allow-Credentials&#39;: &#39;true&#39;,</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            // 允许访问的域（协议+域名+端口）</span></span>
<span class="line"><span>            &#39;Access-Control-Allow-Origin&#39;: &#39;http://www.domain1.com&#39;,</span></span>
<span class="line"><span>            /*</span></span>
<span class="line"><span>             * 此处设置的cookie还是domain2的而非domain1，因为后端也不能跨域写cookie(nginx反向代理可以实现)，</span></span>
<span class="line"><span>             * 但只要domain2中写入一次cookie认证，后面的跨域接口都能从domain2中获取cookie，从而实现所有的接口都能跨域访问</span></span>
<span class="line"><span>             */</span></span>
<span class="line"><span>            &#39;Set-Cookie&#39;: &#39;l=a123456;Path=/;Domain=www.domain2.com;HttpOnly&#39;</span><span>  // HttpOnly的作用是让js无法读取cookie</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        res.write(JSON.stringify(postData));</span></span>
<span class="line"><span>        res.end();</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server.listen(&#39;8080&#39;);</span></span>
<span class="line"><span>console.log(&#39;Server is running at port 8080...&#39;);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>Server Proxy</span></span>
<span class="line"><span></span></span>
<span class="line"><span>即，服务器代理，当你需要有跨域的请求操作时发送请求给后端，让后端帮你代为请求，然后最后将获取的结果发送给你。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>假设有这样的一个场景，你的页面需要访问https://cnodejs.org/api/v1/topics，当时因为不同域，所以你可以将请求后端，让其对该请求代为转发。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>代码如下：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const url = require(&#39;url&#39;);</span></span>
<span class="line"><span>const http = require(&#39;http&#39;);</span></span>
<span class="line"><span>const https = require(&#39;https&#39;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const server = http.createServer((req, res) =&gt; {</span></span>
<span class="line"><span>    const path = url.parse(req.url).path.slice(1);</span></span>
<span class="line"><span>    if(path === &#39;topics&#39;) {</span></span>
<span class="line"><span>	https.get(&#39;https://cnodejs.org/api/v1/topics&#39;, (resp) =&gt; {</span></span>
<span class="line"><span>	    let data = &quot;&quot;;</span></span>
<span class="line"><span>	    resp.on(&#39;data&#39;, chunk =&gt; {</span></span>
<span class="line"><span>		data += chunk;</span></span>
<span class="line"><span>	    });</span></span>
<span class="line"><span>	    resp.on(&#39;end&#39;, () =&gt; {</span></span>
<span class="line"><span>		res.writeHead(200, {</span></span>
<span class="line"><span>		    &#39;Content-Type&#39;: &#39;application/json; charset=utf-8&#39;</span></span>
<span class="line"><span>		});</span></span>
<span class="line"><span>		res.end(data);</span></span>
<span class="line"><span>	    });</span></span>
<span class="line"><span>	})</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}).listen(3000, &#39;127.0.0.1&#39;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(&#39;启动服务，监听 127.0.0.1:3000&#39;);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>通过代码你可以看出，当你访问 http://127.0.0.1:3000 的时候，服务器收到请求，会代你发送请求https://cnodejs.org/api/v1/topics 最后将获取到的数据发送给浏览器。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>DNS</span></span>
<span class="line"><span>用户访问网站的过程</span></span>
<span class="line"><span></span></span>
<span class="line"><span>从浏览器打开http://www.baidu.com地址回车发送请求到看到页面的过程：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>主要分成 两个 步骤：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>第一步：DNS服务器将域名解析成IP</span></span>
<span class="line"><span></span></span>
<span class="line"><span>具体来说：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>客户端用户从浏览器输入 www.baidu.com 网站网址后回车后，浏览器会查询浏览器缓存，查找是否存在网址对应的IP解析记录。如果有，就直接获取到IP地址，然后访问网站；</span></span>
<span class="line"><span>如果浏览器缓存没有该记录，则在操作系统缓存即本地hosts文件中查找对应的IP；</span></span>
<span class="line"><span>如果还是没有，则将查询请求发给路由器，查看路由器缓存里是否有该IP地址的缓存；</span></span>
<span class="line"><span>如果依然没有，向本地域名服务器（Local DNS：一般是网络服务提供商，比如电信，移动，联通服务商）发出请求，获取IP；</span></span>
<span class="line"><span>以上都失败的话，LDNS会从DNS系统的“.”根开始（根域名服务器）请求www.baidu.com域名的解析，经过一系列的查找各个层次DNS服务器，最终会查找到www.baidu.com域名对应的授权DNS服务器，而这个授权DNS服务器，正是该企业购买域名时用于管理域名解析的服务器。这个服务器有www.baidu.com对应的IP解析记录，如果此时都没有，就表示企业的运维人员么有给www.baidu.com域名做解析；</span></span>
<span class="line"><span>LDNS把收到来自授权DNS服务器关于www.baidu.com对应的IP解析记录发给客户端浏览器，并且在LDNS本地把域名和IP的对应解析缓存起来，以便下一次更快的返回相同的解析请求的记录；</span></span>
<span class="line"><span>第二步：客户端浏览器获取到了www.baidu.com的对应IP地址，接下来浏览器会请求获得的IP地址对应的Web服务器，Web服务器接收到客户的请求并响应处理，将客户请求的内容返回给客户端浏览器；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>暂未分类</span></span>
<span class="line"><span>节流防抖：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>https://segmentfault.com/a/1190000018428170</span></span>
<span class="line"><span></span></span>
<span class="line"><span>防抖：第一次触发后，在delay内再次再次触发会重新计时</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function debounce(fn,delay){</span></span>
<span class="line"><span>    let timer = null //借助闭包</span></span>
<span class="line"><span>    return function() {</span></span>
<span class="line"><span>        if(timer){</span></span>
<span class="line"><span>            clearTimeout(timer)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        timer = setTimeout(fn,delay) // 简化写法</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>节流：第一次触发后，在delay内再次触发无效，在delay时间后执行函数fn</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function throttle(fn,delay){</span></span>
<span class="line"><span>    let valid = true</span></span>
<span class="line"><span>    return function() {</span></span>
<span class="line"><span>       if(!valid){</span></span>
<span class="line"><span>           //休息时间 暂不接客</span></span>
<span class="line"><span>           return false</span></span>
<span class="line"><span>       }</span></span>
<span class="line"><span>       // 工作时间，执行函数并且在间隔期内把状态位设为无效</span></span>
<span class="line"><span>        valid = false</span></span>
<span class="line"><span>        setTimeout(() =&gt; {</span></span>
<span class="line"><span>            fn()</span></span>
<span class="line"><span>            valid = true;</span></span>
<span class="line"><span>        }, delay)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>解惑</span></span>
<span class="line"><span>1、基本类型的属性和方法</span></span>
<span class="line"><span>为什么基本类型，会有.操作符</span></span>
<span class="line"><span></span></span>
<span class="line"><span>我们常听说的两句话：1.JS 中全都是对象呢 ；2.JS 中对于基本类型，变量只存储值 ；对于引用类型，变量存储地址，实际其存储在堆中。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>看完这两句，会不会有些疑惑，</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果 1 成立，那基本类型的变量也应该是对象，变量应该也是存储堆的地址，为什么说只存储其值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果 2 成立，基本类型的变量，只存储一个值，为什么有对象中才有的属性</span></span>
<span class="line"><span></span></span>
<span class="line"><span>看下面代码，变量 a 为 int 型，是基本类型，有属性 length，有方法 toUpperCase()</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let str = &quot;hello&quot;;</span></span>
<span class="line"><span>console.log(str.length); //5</span></span>
<span class="line"><span>console.log(str.toUpperCase()); //HELLO</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>答：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>JS 中的数据类型分两大类，基本类型（或者说是原始类型）和引用类型。基本类型的值是保存在栈内存中的简单数据段，共有五种，按值访问，分别是undefined、 null、 boolean、 number、 string；而引用类型的值则是保存在堆内存中的对象，按引用访问，有 Object 、Array 、Function以及其他内置的类型，比如RegExp、Date、Math等，</span></span>
<span class="line"><span></span></span>
<span class="line"><span>其实 JS 中，还有三种特殊的引用类型 Boolean、、Number 、String ，方便我们操作与其对应的基本类型，而它们就是基本包装类型。当在尝试调用类的方法或属性之前，一直使用原始数据类型。如果调用类的方法或属性，JS 会在幕后为字面量值创建一个包装器对象，以便将该值视为一个对象。调用完成后，JS 即抛弃包装器对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>变量 str 作为一个基本类型变量是没有 length 属性的，但是它的基本包装类型 String 有啊，当调用对象的 length 属性时，会使用new String(&quot;hello&quot;)自动创建一个对象，然后再调用 length 属性，返回值后，销毁这个对象。调用 toUpperCase()方法同理</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let str = &quot;hello&quot;;</span></span>
<span class="line"><span>console.log(str.length); //5</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//等价于</span></span>
<span class="line"><span>var str = &quot;string&quot;;</span></span>
<span class="line"><span>var _str = new String(str);</span></span>
<span class="line"><span>var len = _str.length;</span></span>
<span class="line"><span>_str = null;</span></span>
<span class="line"><span>console.log(len); //5</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>活学活用：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>var str = &quot;string&quot;;</span></span>
<span class="line"><span>//给包装类创建的对象添加属性pro，然后销毁</span></span>
<span class="line"><span>str.pro = &quot;hello&quot;;</span></span>
<span class="line"><span>//再次创建新的类，已经没有pro属性了</span></span>
<span class="line"><span>console.log(str.pro + &quot;world&quot;); //undefinedworld</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>解答来自此链接</span></span>
<span class="line"><span></span></span>
<span class="line"><span>JS 最佳实践总结</span></span>
<span class="line"><span>最佳实践的核心目标：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>代码简洁优雅</span></span>
<span class="line"><span>足够健壮，对于异常/错误输入有一定的承受能力</span></span>
<span class="line"><span>schme实现方案（需要与原生协商一致）</span></span>
<span class="line"><span>关注点放在实现思路上</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const callbackMap = {};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 全局唯一方法，提供给APP调用</span></span>
<span class="line"><span>window.invokeJsMethod = (module, method, params) =&gt; {</span></span>
<span class="line"><span>  console.log(&quot;invokeJsMethod参数：&quot;, module, method, params);</span></span>
<span class="line"><span>  if (callbackMap[method] &amp;&amp; typeof callbackMap[method].fn === &quot;function&quot;) {</span></span>
<span class="line"><span>    callbackMap[method].fn(params);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 删除已执行过的方法，并且只需要执行一次的。防止多次页面返回的时候再次调用</span></span>
<span class="line"><span>    if (callbackMap[method].callOnce) {</span></span>
<span class="line"><span>      delete callbackMap[method];</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const JSBridge = {</span></span>
<span class="line"><span>  /**</span></span>
<span class="line"><span>   * 注册回调函数</span></span>
<span class="line"><span>   * @param mapKey    {string}    注册的回调名称，将在callbackMap中注册此名称的key，该key指向一个对象，包含fn和callOnce属性</span></span>
<span class="line"><span>   * @param fn        {function}  你的回调，当APP方法执行完后，将执行此函数，接收APP回传的参数</span></span>
<span class="line"><span>   * @param callOnce  {boolean}   该回调是否仅允许执行一次，true是，false否</span></span>
<span class="line"><span>   */</span></span>
<span class="line"><span>  registCallback(mapKey, callback, callOnce = false) {</span></span>
<span class="line"><span>    if (!mapKey || !callback || typeof callback !== &quot;function&quot;) {</span></span>
<span class="line"><span>      return;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    callbackMap[mapKey] = { fn: callback, callOnce };</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  /**</span></span>
<span class="line"><span>   * 注销回调函数</span></span>
<span class="line"><span>   * @param mapKey  {string}    已注册的回调名称</span></span>
<span class="line"><span>   */</span></span>
<span class="line"><span>  unRegistCallback(mapKey) {</span></span>
<span class="line"><span>    if (callbackMap[mapKey] &amp;&amp; typeof callbackMap[mapKey].fn === &quot;function&quot;) {</span></span>
<span class="line"><span>      delete callbackMap[mapKey];</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //写法一：callback</span></span>
<span class="line"><span>  isApp(callback) {</span></span>
<span class="line"><span>    const mapKey = &quot;onGetInstalledApp&quot;;</span></span>
<span class="line"><span>    this.registCallback(mapKey, callback());</span></span>
<span class="line"><span>    window.location.href = `fusion://invokeNative?module=LocModule&amp;method=getInstalledApp&amp;arguments=null&amp;callback=${mapKey}`;</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //写法二：promise</span></span>
<span class="line"><span>  onGetPfrom() {</span></span>
<span class="line"><span>    const mapKey = &quot;onGetPfrom&quot;;</span></span>
<span class="line"><span>    return new Promise((resolve, reject) =&gt; {</span></span>
<span class="line"><span>      this.registCallback(mapKey, resolve);</span></span>
<span class="line"><span>      window.location.href = `fusion://invokeNative?module=LocModule&amp;method=getPfrom&amp;arguments=null&amp;callback=${mapKey}`;</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>export default JSBridge;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>49</span></span>
<span class="line"><span>50</span></span>
<span class="line"><span>51</span></span>
<span class="line"><span>52</span></span>
<span class="line"><span>53</span></span>
<span class="line"><span>54</span></span>
<span class="line"><span>解构赋值</span></span>
<span class="line"><span>取值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>接到参数返回的数据res后，一般用解构的方式取出值，想比与通过res.*的方式，解构的方式有几个明显的好处</span></span>
<span class="line"><span></span></span>
<span class="line"><span>代码更加简洁</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可以设置默认值。如果使用res.data.author，当后台返回的data是null或者不存在(undefined)，再去取author时，就会报错 。而我们这里将userInfo的默认值设置为{},所以不会报错</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let res={</span></span>
<span class="line"><span>    code:0,</span></span>
<span class="line"><span>    message:&#39;&#39;,</span></span>
<span class="line"><span>    data:{</span></span>
<span class="line"><span>        userInfo:{</span></span>
<span class="line"><span>            // name:&#39;jack&#39;,</span></span>
<span class="line"><span>            age:18</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>        author:&#39;HDD&#39;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>//注意：</span></span>
<span class="line"><span>//1. userInfo:{name}这部分已经解构到了userInfo对象内部了，所以并不能获取userInfo，只能获取其中的name,如果希望获取整个userInfo对象，不要再写:{name,name}就可以了</span></span>
<span class="line"><span>//2. =是为了设置默认值，当字段不存在时，会返回默认值</span></span>
<span class="line"><span>const {</span></span>
<span class="line"><span>    code,</span></span>
<span class="line"><span>    data:{</span></span>
<span class="line"><span>        author=&#39;默认作者&#39;,</span></span>
<span class="line"><span>        userInfo:{</span></span>
<span class="line"><span>            name=&#39;默认名字&#39;,</span></span>
<span class="line"><span>            age</span></span>
<span class="line"><span>        }={}</span></span>
<span class="line"><span>    }={}</span></span>
<span class="line"><span>} = res||{}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(&#39;code --&gt; &#39;,code) //code --&gt;  0</span></span>
<span class="line"><span>console.log(&#39;author --&gt; &#39;,author) //author --&gt;  HDD</span></span>
<span class="line"><span>console.log(&#39;name --&gt; &#39;,name) //name --&gt;  默认名字</span></span>
<span class="line"><span>console.log(&#39;age --&gt; &#39;,age)  //age --&gt;  18</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>解构不存在的参数，未设置默认值时，参数值为undefind</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let obj={</span></span>
<span class="line"><span>    name:&quot;jack&quot;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>const {name,age}=obj||{}</span></span>
<span class="line"><span>console.log(name,age)//jack undefined</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>函数可选参数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>其实就是结构赋值的灵活运用</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function getUserInfo(params){</span></span>
<span class="line"><span>    const {name,age=100}=params //如果不传递age，给定默认值</span></span>
<span class="line"><span>    console.log(`名字是${name},年龄是${age}`)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>getUserInfo({name:&quot;jack&quot;,age:19})//名字是jack,年龄是19</span></span>
<span class="line"><span></span></span>
<span class="line"><span>getUserInfo({name:&quot;tom&quot;})//名字是tom,年龄是100</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>比如，我将常遇到常见，随意找到一个微信小程序开发者文档的api，以wx.showToast(Object object)为例</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可以看到函数showToast的参数是一个对象，这些对象的key：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>有些是必填，有些是可选</span></span>
<span class="line"><span>不写对应的key，还会有默认值</span></span>
<span class="line"><span>key还可以是回调函数</span></span>
<span class="line"><span>image-20220623123656556</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20220623123715755</span></span>
<span class="line"><span></span></span>
<span class="line"><span>参数 icon的可选值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20220623123944270</span></span>
<span class="line"><span></span></span>
<span class="line"><span>简单模拟下这个函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class WX {</span></span>
<span class="line"><span>    navigateTo(params){</span></span>
<span class="line"><span>        //1、解构参数</span></span>
<span class="line"><span>        const{title,icon=&quot;success&quot;,success,fail,complete}=params</span></span>
<span class="line"><span>        //2、判断必填值</span></span>
<span class="line"><span>        if(title===undefined){</span></span>
<span class="line"><span>            throw new Error(&quot;title为必填字段&quot;)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //3、判断下icon字段是否在可选范围</span></span>
<span class="line"><span>        let iconList=[&quot;success&quot;,&quot;error&quot;,&quot;loading&quot;,&quot;none&quot;]</span></span>
<span class="line"><span>        if(iconList.indexOf(icon)===-1){</span></span>
<span class="line"><span>            throw new Error(&quot;icon字段填写有误&quot;)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //4、api内部逻辑忽略（微信应该的api可以看作是一个大的JSBridge，来调用原生能力）</span></span>
<span class="line"><span>        if(1){//默认成功</span></span>
<span class="line"><span>            this.callBackFunction(success,{msg:&quot;成功了&quot;,data:{title,icon}})</span></span>
<span class="line"><span>        }else{</span></span>
<span class="line"><span>            this.callBackFunction(fail,{msg:&quot;失败了&quot;})</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        this.callBackFunction(fail,{msg:&quot;最后执行的&quot;})</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    callBackFunction(callback,params){ //判断下是不是函数，然后执行</span></span>
<span class="line"><span>        if(callback!==undefined&amp;&amp;typeof callback===&quot;function&quot;){</span></span>
<span class="line"><span>            callback(params)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const wx =new WX()</span></span>
<span class="line"><span>wx.navigateTo({</span></span>
<span class="line"><span>    title:&quot;你好&quot;,</span></span>
<span class="line"><span>    success(res){</span></span>
<span class="line"><span>        console.log(&quot;成功的回调函数&quot;,res) //成功的回调函数 { msg: &#39;成功了&#39;, data: { title: &#39;你好&#39;, icon: &#39;success&#39; } }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>且、或以及其他高级用法</span></span>
<span class="line"><span>&amp;&amp; 和 ||</span></span>
<span class="line"><span></span></span>
<span class="line"><span>且/或组成的是表达式</span></span>
<span class="line"><span></span></span>
<span class="line"><span>与其他语言不同，js中的且/或表达式，是可以作为语句的执行的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let a=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function func1(){</span></span>
<span class="line"><span>    console.log(&quot;函数执行&quot;)</span></span>
<span class="line"><span>    return false</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>let res=a&amp;&amp;func1() //函数执行</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>&amp;&amp;从左向右将找到的值，转化为布尔值，如果为假，则返回其原值，不再继续执行了。找不到为假的，则返回最后一个值</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>1&amp;&amp;2&amp;&amp;&#39;&#39;&amp;&amp;3  //&#39;&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>1&amp;&amp;2&amp;&amp;3 //3</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>||从左向右将找到的值，转化为布尔值，如果为真，则返回其原值。找不到为真的，则返回最后一个值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>**||的升级版本=&gt;空值合并运算符 ?? **</span></span>
<span class="line"><span></span></span>
<span class="line"><span>上面的运算有一个潜在的问题，就是以下6个值，都会被认为是假的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>0 、NaN 、 &quot;&quot; 、false  、null 、undefined</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>??是||的升级版，??只认为null和undefined为假</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>找到第一个不为null和undefined的值，返回。找不到，返回最后一个值</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>常见用法例子：||最常见的用法就是赋值</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>height=height||170   //第二个height是接口返回的值，如果接收到数据中没有这个字段，其值就为undefind。这种写法第一个height最终值就是170。可是如果height接收到的值是0，那第一个height也会被赋值为170</span></span>
<span class="line"><span></span></span>
<span class="line"><span>height=height??170 //就能有效避免非null、非undefined的隐式转换的问题</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>升级用法例子：如果对象result中有groupName属性，就直接恢复其为空字符串</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用||，如果result[&quot;groupName&quot;]是0，仍然会初始化</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let result={}</span></span>
<span class="line"><span>for(value of list){</span></span>
<span class="line"><span>	result[&quot;groupName&quot;] || (result[&quot;groupName&quot;] =&quot;&quot;);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>使用??，只有result[&quot;groupName&quot;]是null或者undefined，才会初始化</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let result={}</span></span>
<span class="line"><span>for(value of list){</span></span>
<span class="line"><span>	result[&quot;groupName&quot;] ?? (result[&quot;groupName&quot;] =&quot;&quot;);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>&amp;&amp;的升级版=&gt;可选链?.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果可选链 ?. 前面的值为 undefined 或者 null，它会停止运算并返回 undefined。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>换句话说，例如 value?.prop：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果 value 存在，则结果与 value.prop 相同，</span></span>
<span class="line"><span>否则（当 value 为 undefined/null 时）则返回 undefined</span></span>
<span class="line"><span>常见用法例子1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>假设，后端一定返回res，res中也一定包含data，但是data可能为null且address是否存在是不确定的（有些数据有地址，有些则没有）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>if(res&amp;&amp;res.data&amp;&amp;res.data.address){</span></span>
<span class="line"><span>		//需要取name字段，就需要一步一步判断下来。否则如果data就是undefined时，再取name字段，就会报错</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>使用可选链（不可滥用可选链，res一定是存在的，如果不存在就证明返回出错了，如果使用res?.data就会掩盖这个的错误）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>if (res.data?.address === undefined) {//有效避免data是null的情况</span></span>
<span class="line"><span>   return</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>const { data } = res.data</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>函数的回调与Promise风格</span></span>
<span class="line"><span>我们有时候再查看一些文档时，时常发现文档中的某些函数往往标注着，是否支持Promise风格</span></span>
<span class="line"><span></span></span>
<span class="line"><span>其实，这些函数都是异步函数，通常面对异步函数，一般就两种风格，一种是回调函数，一种就是promise</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如何让改造一个回调函数风格的函数，使其支持Promise呢？我们称这种方式为Promise化</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function getCity(cb){</span></span>
<span class="line"><span>	//获取城市数据逻辑 ,cityName,cityId</span></span>
<span class="line"><span>  cb(cityName,cityId)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>回调函数风格</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//假设函数原本的使用方式</span></span>
<span class="line"><span>getCity((cityName,cityId)=&gt;{</span></span>
<span class="line"><span>  //处理</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>将回调风格改造为Promise风格</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function getCity(){</span></span>
<span class="line"><span>    //获取城市数据逻辑 ,cityName,cityId</span></span>
<span class="line"><span>    let cityName=&#39;北京&#39;,cityId=201</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        if(cityName&amp;&amp;cityId){</span></span>
<span class="line"><span>            resolve({cityName,cityId})</span></span>
<span class="line"><span>        }else{</span></span>
<span class="line"><span>            reject(new Error(&#39;&quot;获取失败&quot;&#39;))</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//----链式调用----</span></span>
<span class="line"><span>getCity().then(res1=&gt;{</span></span>
<span class="line"><span>    console.log(&#39;res1--&gt;&#39;,res1)</span></span>
<span class="line"><span>}).catch(err1=&gt;{</span></span>
<span class="line"><span>    console.log(&#39;err1--&gt;&#39;,err1)</span></span>
<span class="line"><span>})//res1--&gt; { cityName: &#39;北京&#39;, cityId: 201 }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//----await调用----</span></span>
<span class="line"><span>try {</span></span>
<span class="line"><span>    let res2=await getCity()</span></span>
<span class="line"><span>    console.log(&#39;res2--&gt;&#39;,res2)//res2--&gt; { cityName: &#39;北京&#39;, cityId: 201 }</span></span>
<span class="line"><span>}catch (err2){</span></span>
<span class="line"><span>    console.log(&#39;err2--&gt;&#39;,err2)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>兼容性改造【将原函数改造为同时支持回调和Promise风格】</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function getCity(cb){</span></span>
<span class="line"><span>    //获取城市数据逻辑 ,cityName,cityId</span></span>
<span class="line"><span>    let cityName=&#39;北京&#39;,cityId=201</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        if(cityName&amp;&amp;cityId){</span></span>
<span class="line"><span>            cb&amp;&amp;cb(cityName,cityId)</span></span>
<span class="line"><span>            resolve({cityName,cityId})</span></span>
<span class="line"><span>        }else{</span></span>
<span class="line"><span>            cb&amp;&amp;cb(null,null)</span></span>
<span class="line"><span>            reject(new Error(&#39;&quot;获取失败&quot;&#39;))</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>getCity((cityName,cityId)=&gt;{</span></span>
<span class="line"><span>    console.log(&#39; 回调方式结果--&gt; &#39;,cityName,cityId)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//----链式调用----</span></span>
<span class="line"><span>getCity().then(res1=&gt;{</span></span>
<span class="line"><span>    console.log(&#39;res1--&gt;&#39;,res1)</span></span>
<span class="line"><span>}).catch(err1=&gt;{</span></span>
<span class="line"><span>    console.log(&#39;err1--&gt;&#39;,err1)</span></span>
<span class="line"><span>})//res1--&gt; { cityName: &#39;北京&#39;, cityId: 201 }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//----await调用----</span></span>
<span class="line"><span>try {</span></span>
<span class="line"><span>    let res2=await getCity()</span></span>
<span class="line"><span>    console.log(&#39;res2--&gt;&#39;,res2)//res2--&gt; { cityName: &#39;北京&#39;, cityId: 201 }</span></span>
<span class="line"><span>}catch (err2){</span></span>
<span class="line"><span>    console.log(&#39;err2--&gt;&#39;,err2)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>Promise化的场景</span></span>
<span class="line"><span></span></span>
<span class="line"><span>很多时候，我们并不能直接对支持回调的异步函数进行修改。尤其是，修改别人的代码时，很有可能会改出新的bug，所以 ，我们可以把原本的回调函数继续封装一层，让这个新函数支持Promise</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//核心：在回调函数外面加一层Promise，在回调函数成功拿到数据后，resolve数据</span></span>
<span class="line"><span>NewGetCity(){</span></span>
<span class="line"><span>  return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>    getCity((cityName,cityId)=&gt;{</span></span>
<span class="line"><span>      if(cityName&amp;&amp;cityId){ //这里判断的也许不太严谨，主要含义还是说，区分出来Promise的成功和失败状态</span></span>
<span class="line"><span>         resolve({cityName,cityId})</span></span>
<span class="line"><span>      }else{</span></span>
<span class="line"><span>        reject(&quot;失败了&quot;)</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>		})</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>回调风格的深层次思考一</span></span>
<span class="line"><span>场景1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>下面的是微信提供的弹窗API</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>wx.showModal({</span></span>
<span class="line"><span>  title: &#39;提示&#39;,</span></span>
<span class="line"><span>  content: &#39;这是一个模态弹窗&#39;,</span></span>
<span class="line"><span>  success (res) {</span></span>
<span class="line"><span>    if (res.confirm) {</span></span>
<span class="line"><span>      console.log(&#39;用户点击确定&#39;)</span></span>
<span class="line"><span>    } else if (res.cancel) {</span></span>
<span class="line"><span>      console.log(&#39;用户点击取消&#39;)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>在函数中调用即可在页面展现弹窗，同时当点击确定或取消按钮触发success回调函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20230407181359902</span></span>
<span class="line"><span></span></span>
<span class="line"><span>场景2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这是element UI提供的调用方式</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>this.$alert(&#39;这是一段内容&#39;, &#39;标题名称&#39;, {</span></span>
<span class="line"><span>    confirmButtonText: &#39;确定&#39;,</span></span>
<span class="line"><span>    callback: action =&gt; {</span></span>
<span class="line"><span>    console.log(&#39;点击了确定&#39;)</span></span>
<span class="line"><span>  	}</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>image-20230407182007902</span></span>
<span class="line"><span></span></span>
<span class="line"><span>实现</span></span>
<span class="line"><span></span></span>
<span class="line"><span>我一直十分好奇上面两种方式的实现，如何能够做到在一个函数中，调用API打开弹窗，点击按钮后还能在同一个函数中接收返回值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>直到我在网上偶然间看到了大佬的实现（微信小程序代码片段：https://developers.weixin.qq.com/s/UmDTWhmu7Vgk，需下载微信开发者工具），才从另一个角度重新认识了回调函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>小程序实现</span></span>
<span class="line"><span></span></span>
<span class="line"><span>子组件JS逻辑：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>Component({</span></span>
<span class="line"><span>  data:{</span></span>
<span class="line"><span>    visible:false</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  methods: {</span></span>
<span class="line"><span>    cancel() {</span></span>
<span class="line"><span>      this.data.success({confirm:false})</span></span>
<span class="line"><span>      this.close()</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    confirm() {</span></span>
<span class="line"><span>      this.data.success({confirm:true})</span></span>
<span class="line"><span>      this.close()</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    close() {</span></span>
<span class="line"><span>      this.setData({</span></span>
<span class="line"><span>        visible:false</span></span>
<span class="line"><span>      })</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //打开弹窗函数</span></span>
<span class="line"><span>    open(params={}){</span></span>
<span class="line"><span>      const {success,title=&#39;提示&#39;,desc=&#39;描述&#39;,cancelText=&#39;取消&#39;,confirmText=&#39;确定&#39;}=params</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      //设置弹窗展示</span></span>
<span class="line"><span>      this.setData({</span></span>
<span class="line"><span>        visible:true</span></span>
<span class="line"><span>      })</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      //设置弹窗的参数</span></span>
<span class="line"><span>      this.setDialogData(&#39;title&#39;,title)</span></span>
<span class="line"><span>      this.setDialogData(&#39;desc&#39;,desc)</span></span>
<span class="line"><span>      this.setDialogData(&#39;cancelText&#39;,cancelText)</span></span>
<span class="line"><span>      this.setDialogData(&#39;confirmText&#39;,confirmText)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      //------关键：将参数success函数，保存下来，在点击确定/取消按钮时在调用-----</span></span>
<span class="line"><span>      this.data.success=success</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //设置数据的函数</span></span>
<span class="line"><span>    setDialogData(key,value){</span></span>
<span class="line"><span>      this.setData({</span></span>
<span class="line"><span>        [`${key}`]:value</span></span>
<span class="line"><span>      })</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>父级引入子组件后：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;view class=&quot;intro&quot; bindtap=&quot;tap&quot;&gt;点击&lt;/view&gt;</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>open(){</span></span>
<span class="line"><span>  	//获取子组件实例</span></span>
<span class="line"><span>    let dialog=this.selectComponent(&#39;#dialog&#39;)</span></span>
<span class="line"><span>    //弹窗open方法</span></span>
<span class="line"><span>    dialog.open({</span></span>
<span class="line"><span>      title:&#39;提示&#39;,</span></span>
<span class="line"><span>      desc:&#39;描述描述描述描述描述&#39;,</span></span>
<span class="line"><span>      success:(res)=&gt;{</span></span>
<span class="line"><span>        if(res.confirm){</span></span>
<span class="line"><span>          console.log(&#39;点击了确定&#39;)</span></span>
<span class="line"><span>        }else{</span></span>
<span class="line"><span>          console.log(&#39;点击了取消&#39;)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>},</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>Promise风格</span></span>
<span class="line"><span></span></span>
<span class="line"><span>回调函数在逻辑处理上很同意造成嵌套。比如弹窗点击确定执行逻辑A，取消执行逻辑B</span></span>
<span class="line"><span></span></span>
<span class="line"><span>就必须写在success的回调函数中</span></span>
<span class="line"><span></span></span>
<span class="line"><span>我更喜欢同步化，给人一种代码在的等待用户做出选择的感觉</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span> promisfyOpen(){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>      let dialog=this.selectComponent(&#39;#dialog&#39;)</span></span>
<span class="line"><span>      dialog.open({</span></span>
<span class="line"><span>        title:&#39;提示&#39;,</span></span>
<span class="line"><span>        desc:&#39;描述描述描述描述描述&#39;,</span></span>
<span class="line"><span>        success:(res)=&gt;{</span></span>
<span class="line"><span>          if(res.confirm){</span></span>
<span class="line"><span>            //console.log(&#39;点击了确定&#39;)</span></span>
<span class="line"><span>            resolve(true)</span></span>
<span class="line"><span>          }else{</span></span>
<span class="line"><span>            //console.log(&#39;点击了取消&#39;)</span></span>
<span class="line"><span>            resolve(false)</span></span>
<span class="line"><span>          }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>      })</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//调用open，会给人一种代码在的等待用户做出选择的感觉</span></span>
<span class="line"><span>async open(){</span></span>
<span class="line"><span>    let res=await this.promisfyOpen()</span></span>
<span class="line"><span>    console.log(&#39;用户点击了&#39;,res)//true是确定，false是取消</span></span>
<span class="line"><span>},</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>感悟</span></span>
<span class="line"><span></span></span>
<span class="line"><span>第一次知道，作为参数的回调函数可以被保存下来，在任意时机调用传参</span></span>
<span class="line"><span></span></span>
<span class="line"><span>当调用时，会在传入处立即触发执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>回调风格的深层次思考二</span></span>
<span class="line"><span>在我彻底接受了同步风格后，我尝试将所有场景的回调风格代码promisify</span></span>
<span class="line"><span></span></span>
<span class="line"><span>刚开始一切都很顺利，将代码优化为同步形式，使得页面逻辑更加清晰</span></span>
<span class="line"><span></span></span>
<span class="line"><span>但是，我慢慢的遇到了一些场景，在这些场景下根本无法使用同步风格。我将这些场景分为两类</span></span>
<span class="line"><span></span></span>
<span class="line"><span>从嵌套函数中拿取结果到外层</span></span>
<span class="line"><span></span></span>
<span class="line"><span>介入主逻辑的钩子</span></span>
<span class="line"><span></span></span>
<span class="line"><span>等待未来的某个时机触发（重点）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>从嵌套函数中拿取结果到外层</span></span>
<span class="line"><span>这种最常见</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f1(callBack){</span></span>
<span class="line"><span>	f2(callBack)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function f2(callBack){</span></span>
<span class="line"><span>	callBack(data)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>f1((data)=&gt;{</span></span>
<span class="line"><span>  //拿到数据</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>介入主逻辑的钩子</span></span>
<span class="line"><span>最常见的就是生命周期钩子</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function mainProcess({preLoad,afetrLoad}){</span></span>
<span class="line"><span> 	//钩子</span></span>
<span class="line"><span>  if(preLoad  instanceof Function){</span></span>
<span class="line"><span>    	preLoad()</span></span>
<span class="line"><span>	}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  //主流程</span></span>
<span class="line"><span>  if(afetrLoad  instanceof Function){</span></span>
<span class="line"><span>    	afetrLoad()</span></span>
<span class="line"><span>	}</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>同理，也可以作为兜底逻辑，来介入主逻辑</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function mainProcess({handleException}){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  if(主流程出现了特殊场景 &amp;&amp; handleException instanceof Function){</span></span>
<span class="line"><span>    handleException()</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>等待未来的某个时机触发</span></span>
<span class="line"><span>讲一个目前遇到的案例吧</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>request({</span></span>
<span class="line"><span>	data,</span></span>
<span class="line"><span>  success(data){</span></span>
<span class="line"><span>    //请求成功的数据</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  fail(){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	}</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>Promise的一些细节</span></span>
<span class="line"><span>resolve和reject并不会结束函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function getCity(){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        if(1){</span></span>
<span class="line"><span>            resolve(1)</span></span>
<span class="line"><span>            console.log(1)</span></span>
<span class="line"><span>        }else{</span></span>
<span class="line"><span>            reject(new Error(&#39;失败&#39;))</span></span>
<span class="line"><span>            console.log(2)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>getCity() //1</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>终止当前函数要用return</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function getCity(){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        if(1){</span></span>
<span class="line"><span>            resolve(1)</span></span>
<span class="line"><span>          	return</span></span>
<span class="line"><span>            console.log(1)</span></span>
<span class="line"><span>        }else{</span></span>
<span class="line"><span>            reject(new Error(&#39;失败&#39;))</span></span>
<span class="line"><span>            console.log(2)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>getCity() //无打印</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>throw抛出错误，会向上终止每一层函数，直到被捕获（如果自己没有捕获整个程序就会结束）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Promise.all</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//3.Promise.all的使用</span></span>
<span class="line"><span>//3.1全部fufilled状态，会以数组的形式返回结果</span></span>
<span class="line"><span>// function all(){</span></span>
<span class="line"><span>//     let taskList=[]</span></span>
<span class="line"><span>//</span><span>     //推入数组时，就调用了函数。只不过没有立即执行</span></span>
<span class="line"><span>//     taskList.push(f1(true))</span></span>
<span class="line"><span>//     taskList.push(f2(true))</span></span>
<span class="line"><span>//     Promise.all(taskList).then(res=&gt;{</span></span>
<span class="line"><span>//         console.log(&#39;all --&gt;&#39;,res)</span></span>
<span class="line"><span>//     })</span></span>
<span class="line"><span>// }</span></span>
<span class="line"><span>// all()</span><span> //all --&gt; [ { name: &#39;f1&#39; }, { name: &#39;f2&#39;, age: 2 } ]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//3.2 rejected状态不会阻塞剩下的函数执行，如果有多个rejected状态的，则只返回第一个</span></span>
<span class="line"><span>function f3(params){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        if(params){</span></span>
<span class="line"><span>            resolve({name:&quot;f3&quot;})</span></span>
<span class="line"><span>        }else {</span></span>
<span class="line"><span>            reject({name:&quot;f3&quot;})</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        console.log(&#39;f3执行了&#39;)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function all(){</span></span>
<span class="line"><span>    let taskList=[]</span></span>
<span class="line"><span>    //推入数组时，就调用了函数。只不过没有立即执行</span></span>
<span class="line"><span>    taskList.push(f1(false))</span></span>
<span class="line"><span>    taskList.push(f3(true))</span></span>
<span class="line"><span>    taskList.push(f2(false))</span></span>
<span class="line"><span>    Promise.all(taskList).then(res=&gt;{</span></span>
<span class="line"><span>        console.log(&#39;all --&gt;&#39;,res)</span></span>
<span class="line"><span>    }).catch(err=&gt;{</span></span>
<span class="line"><span>        console.log(&#39;all err--&gt;&#39;,err)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>all() //f3执行了    all err--&gt; { name: &#39;f1&#39; }</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>async与await的一些细节</span></span>
<span class="line"><span>这里写了3个函数，参数为真则返回fulfilled状态的Promise对象，否则返回rejected状态。后面的例子大部分使用这三个函数模拟各种场景</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f1(params){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        if(params){</span></span>
<span class="line"><span>            resolve({name:&quot;f1&quot;,age:2})</span></span>
<span class="line"><span>        }else {</span></span>
<span class="line"><span>            reject({name:&quot;f1&quot;,age:4})</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function f2(params){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        if(params){</span></span>
<span class="line"><span>            resolve({name:&quot;f2&quot;,age:2})</span></span>
<span class="line"><span>        }else {</span></span>
<span class="line"><span>            reject({name:&quot;f2&quot;,age:4})</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function f3(params){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        if(params){</span></span>
<span class="line"><span>            resolve({name:&quot;f3&quot;,age:2})</span></span>
<span class="line"><span>        }else {</span></span>
<span class="line"><span>            reject({name:&quot;f3&quot;,age:4})</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>await</span></span>
<span class="line"><span></span></span>
<span class="line"><span>第一个await后的函数返回的了rejected状态的promise对象，后面的代码不会再执行了</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这段代码由于没有处理rejected状态的promise对象，还会报错</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function lmn(){</span></span>
<span class="line"><span>  	console.log(&#39;开始&#39;)</span></span>
<span class="line"><span>    const res1 = await f1(false)</span></span>
<span class="line"><span>    console.log(&#39;中间&#39;)</span></span>
<span class="line"><span>    const res2 = await f2(false)</span></span>
<span class="line"><span>    console.log(&#39;最后&#39;)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>lmn()  //开始</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>注意：await后面的代码虽然不执行了，但是结构赋值还是会执行的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const {name} = await f1(false)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>捕获rejected状态的Promise对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用try...catch。这种处理方案多是为整体流程做兜底处理，由于f1失败，后面的流程都不会被执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function lmn(){</span></span>
<span class="line"><span>    try{</span></span>
<span class="line"><span>        const res1 = await f1(false)</span></span>
<span class="line"><span>        const res2 = await f2(false)</span></span>
<span class="line"><span>    }catch (err){</span></span>
<span class="line"><span>        console.log(&quot;err --&gt; &quot;,err)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>lmn() // err --&gt;  { name: &#39;f1&#39;, age: 4 }</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>使用promise的链式方法catch。这种方案适合单独处理每一步的错误，避免一步错误导致整体流程终止。我们可以看到例子中f1使用catch处理后，会继续运行下面的流程f2。同时需要注意到，因为f1的错误已经被处理了，外部的try...catch就不能继续捕获到这个错误了</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function lmn(){</span></span>
<span class="line"><span>    try{</span></span>
<span class="line"><span>        const res1 = await f1(false).catch(err=&gt;{</span></span>
<span class="line"><span>            console.log(&quot;f1错误&quot;,err)</span></span>
<span class="line"><span>        })</span></span>
<span class="line"><span>        const res2 = await f2(false)</span></span>
<span class="line"><span>    }catch (err){</span></span>
<span class="line"><span>        console.log(&quot;err --&gt; &quot;,err)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>lmn()</span></span>
<span class="line"><span>//f1错误 { name: &#39;f1&#39;, age: 4 }</span></span>
<span class="line"><span>//err --&gt;  { name: &#39;f2&#39;, age: 4 }</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>promise函数的返回值</span></span>
<span class="line"><span></span></span>
<span class="line"><span>假如有一个顶层的函数（没有其他函数在内部调用）test。在其中调用了两个异步函数，两个异步函数都做了错误处理（出现错误抛出错误或者return Promise.reject），所以一旦出现错误test函数就会结束</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function test(){</span></span>
<span class="line"><span>  await lmn()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  await opq()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>我们需要继续在test函数中做错误处理，比如输出内部抛出的错误，然后再结束函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可是Promise的链式调用中使用return是不能停止顶层函数的，只能将值传递给下一个then。所以，我常用的是返回{err:err;data:null}结构，错误对象如果没有就赋值为null。通过接收其最终值，来实现控制顶层函数的目的。（其思路类似于Go语言的处理思路）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function test(){</span></span>
<span class="line"><span>  let {err,data}=await lmn().catch(err=&gt;{</span></span>
<span class="line"><span>    console.log(err)</span></span>
<span class="line"><span>    return {err:err;data:null}</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span>  if(err!==null){</span></span>
<span class="line"><span>    return</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  await opq()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>一般的错误处理逻辑：在await后直接catch处理已知的错误，不能识别的错误，直接throw再次抛出，最后在全局try...catch错误做一错误的兜底逻辑</span></span>
<span class="line"><span></span></span>
<span class="line"><span>try...catch无法捕获到异步的错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这是我经常犯得一个错误，必须在异步函数前加上await，使得函数同步化，否则无法捕获到错误</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async openScanCode() {</span></span>
<span class="line"><span>    try {</span></span>
<span class="line"><span>       await openWxScanCode(); //异步任务</span></span>
<span class="line"><span>    } catch (err) {</span></span>
<span class="line"><span>      console.log(&#39;openScanCode err--&gt;&#39;, err);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>函数内部捕获错误，无法使用try catch捕获失败的promise</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function f(){</span></span>
<span class="line"><span>  try{</span></span>
<span class="line"><span>		//请求数据</span></span>
<span class="line"><span>  	await apiResult()</span></span>
<span class="line"><span>    //code为0，且data有数据，即为成功状态的Promise</span></span>
<span class="line"><span>    if(res?.code===0&amp;&amp;res?.data){</span></span>
<span class="line"><span>      return res.data</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    //code不为0，则是业务错误。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //正确方式：这里抛出的错误也可以被catch捕获</span></span>
<span class="line"><span>    throw Error(&#39;业务错误&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //错误方式：这里是结束函数且结果是失败的Promim。并不会内部的catch捕获到</span></span>
<span class="line"><span>    return Promise.reject()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  }catch(err){</span></span>
<span class="line"><span>    //这里可以捕获到业务错误</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>但是使用try catch捕获返回值是失败promise的函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>try{</span></span>
<span class="line"><span>	await f()</span></span>
<span class="line"><span>}catch(err){</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>错误处理</span></span>
<span class="line"><span></span></span>
<span class="line"><span>上面已经使用过try...catch和promise的catch方法了</span></span>
<span class="line"><span></span></span>
<span class="line"><span>这里再进行一些补充，两种方式都是既可以捕获Error对象，也可以捕获rejected状态的Promise。但是，catch方法作为promise链上的方法，只能捕获其promise作用链上的Error对象或rejected状态的Promise</span></span>
<span class="line"><span></span></span>
<span class="line"><span>catch作为promise链上的方法，只能捕获其promise作用链上传递的rejected、错误对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function lmn(){</span></span>
<span class="line"><span>    f1(true).then(resf1=&gt;{</span></span>
<span class="line"><span>        f2(false)  // 这里需要加上await，catch才能捕获到</span></span>
<span class="line"><span>    }).catch(err=&gt;{</span></span>
<span class="line"><span>        console.log(&quot;外层捕获&quot;,err)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>lmn() //报错，未捕获rejected状态的Promise</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>for循环中使用await</span></span>
<span class="line"><span></span></span>
<span class="line"><span>for循环按照promise数组的顺序执行。且上一个promise执行完毕后，下一个才会执行</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f1(){</span></span>
<span class="line"><span>    return new Promise((resolve)=&gt;{</span></span>
<span class="line"><span>        setTimeout(()=&gt;{</span></span>
<span class="line"><span>          resolve(&#39;f1执行&#39;)</span></span>
<span class="line"><span>        },1000)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function f2(){</span></span>
<span class="line"><span>    return new Promise((resolve)=&gt;{</span></span>
<span class="line"><span>        setTimeout(()=&gt;{</span></span>
<span class="line"><span>          resolve(&#39;f2执行&#39;)</span></span>
<span class="line"><span>        },2000)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>async function test(){</span></span>
<span class="line"><span>    let promiseList=[f1(),f2()]</span></span>
<span class="line"><span>    for(let item of promiseList){</span></span>
<span class="line"><span>        const res= await item //item就已经是promise了</span></span>
<span class="line"><span>        console.log(res)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>test()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// f1执行</span></span>
<span class="line"><span>// f2执行</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>await结果是reject，会中断整个for循环</span></span>
<span class="line"><span></span></span>
<span class="line"><span>从结果看出第二次循环，到await处直接被结束了</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f(params){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        if(params){</span></span>
<span class="line"><span>            resolve({name:&quot;f&quot;})</span></span>
<span class="line"><span>        }else {</span></span>
<span class="line"><span>            reject({name:&quot;f&quot;})</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>async function test(){</span></span>
<span class="line"><span>    let temp=[true,false,true]</span></span>
<span class="line"><span>    for(let index in temp){</span></span>
<span class="line"><span>        console.log(index)</span></span>
<span class="line"><span>        await f(temp[index])</span></span>
<span class="line"><span>        console.log(index)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>test()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 0</span></span>
<span class="line"><span>// 0</span></span>
<span class="line"><span>// 1</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>catch能够捕获当前错误，这样for就不会直接中断了</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f(params){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt;{</span></span>
<span class="line"><span>        if(params){</span></span>
<span class="line"><span>            resolve({name:&quot;f&quot;})</span></span>
<span class="line"><span>        }else {</span></span>
<span class="line"><span>            reject({name:&quot;f&quot;})</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function test(){</span></span>
<span class="line"><span>    let temp=[true,false,true]</span></span>
<span class="line"><span>    for(let index in temp){</span></span>
<span class="line"><span>        console.log(index)</span></span>
<span class="line"><span>        await f(temp[index]).catch(err=&gt;{</span></span>
<span class="line"><span>            console.log(&#39;err --&gt;&#39;,err)</span></span>
<span class="line"><span>        })</span></span>
<span class="line"><span>        console.log(index)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>test()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 0</span></span>
<span class="line"><span>// 0</span></span>
<span class="line"><span>// 1</span></span>
<span class="line"><span>// err --&gt; { name: &#39;f&#39; }</span></span>
<span class="line"><span>// 1</span></span>
<span class="line"><span>// 2</span></span>
<span class="line"><span>// 2</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>如果只想结束当前循环</span></span>
<span class="line"><span></span></span>
<span class="line"><span>下面的写法是有语法错误的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function test(){</span></span>
<span class="line"><span>    let temp=[true,false,true]</span></span>
<span class="line"><span>    for(let index in temp){</span></span>
<span class="line"><span>        console.log(index)</span></span>
<span class="line"><span>        let res=await f(temp[index]).catch(err=&gt;{</span></span>
<span class="line"><span>            console.log(err)</span></span>
<span class="line"><span>            continue  //这里错误了，因为continue必须在for循环的作用域内</span></span>
<span class="line"><span>        })</span></span>
<span class="line"><span>        console.log(index)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>test()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>正确的写法是</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function test(){</span></span>
<span class="line"><span>    let temp=[true,false,true]</span></span>
<span class="line"><span>    for(let index in temp){</span></span>
<span class="line"><span>        console.log(index)</span></span>
<span class="line"><span>        let res=await f(temp[index]).catch(err=&gt;{</span></span>
<span class="line"><span>            console.log(err)</span></span>
<span class="line"><span>            return false</span></span>
<span class="line"><span>        })</span></span>
<span class="line"><span>        if(res===false){</span></span>
<span class="line"><span>            continue</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        console.log(index)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>test()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 0</span></span>
<span class="line"><span>// 0</span></span>
<span class="line"><span>// 1</span></span>
<span class="line"><span>// err --&gt; { name: &#39;f&#39; }</span></span>
<span class="line"><span>// 2</span></span>
<span class="line"><span>// 2</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>async函数的返回值为Promise对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>函数内部使用await，该函数必须添加async关键字</span></span>
<span class="line"><span></span></span>
<span class="line"><span>单词async是异步的意思，async函数虽然其内部使用await关键字使得其表现像同步函数，但是其实际仍然是异步函数，其返回值是Promise对象</span></span>
<span class="line"><span></span></span>
<span class="line"><span>与Promise的then函数一样，async函数内</span></span>
<span class="line"><span></span></span>
<span class="line"><span>没有return，默认返回fulfilled状态的Promise，Promise内的值是undefined</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//无return</span></span>
<span class="line"><span>async function lmn(){</span></span>
<span class="line"><span>    const res=await f1(true).catch(err=&gt;{</span></span>
<span class="line"><span>        console.log(&#39;err ---&gt; &#39;,err)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>lmn().then(res=&gt;{</span></span>
<span class="line"><span>    console.log(res) //undefined</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>return 值，默认返回fulfilled状态的Promise</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function lmn(){</span></span>
<span class="line"><span>    const res=await f1(true).catch(err=&gt;{</span></span>
<span class="line"><span>        console.log(&#39;err ---&gt; &#39;,err)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>    return res</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>lmn().then(res=&gt;{</span></span>
<span class="line"><span>    console.log(&#39;lmn --&gt; &#39;,res) //lmn --&gt;  { name: &#39;f1&#39; }</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>return Promise.reject(值)才返回rejected状态</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function lmn(){</span></span>
<span class="line"><span>    const res=await f1(true).catch(err=&gt;{</span></span>
<span class="line"><span>        console.log(&#39;err ---&gt; &#39;,err)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>    return Promise.reject(&#39;失败&#39;)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>lmn().then(res=&gt;{</span></span>
<span class="line"><span>    console.log(&#39;lmn --&gt; &#39;,res)</span></span>
<span class="line"><span>}).catch(err=&gt;{</span></span>
<span class="line"><span>    console.log(&#39;lmn err--&gt; &#39;,err) //lmn err--&gt;  失败</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>嵌套promise的没有await的执行顺序</span></span>
<span class="line"><span></span></span>
<span class="line"><span>process函数中的step没有加await</span></span>
<span class="line"><span></span></span>
<span class="line"><span>实际的执行顺序是先进入step执行同步代码，遇到await就不继续执行了，开始执行外部的代码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>所以，这种执行顺序是混乱的，所以一定要保证step的执行与外部没有依赖关系</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function p(){</span></span>
<span class="line"><span>    return new Promise((resolve)=&gt;{</span></span>
<span class="line"><span>        setTimeout(resolve,3000)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function step(){</span></span>
<span class="line"><span>    console.log(&#39;step1 开始&#39;)</span></span>
<span class="line"><span>    await p()</span></span>
<span class="line"><span>    console.log(&#39;step1 结束&#39;)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function process(){</span></span>
<span class="line"><span>    console.log(&#39;process 开始&#39;)</span></span>
<span class="line"><span>    step()</span></span>
<span class="line"><span>    console.log(&#39;process 结束&#39;)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>process()</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 输出</span></span>
<span class="line"><span>process 开始</span></span>
<span class="line"><span>step1 开始</span></span>
<span class="line"><span>process 结束</span></span>
<span class="line"><span>step1 结束</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>链式调用</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// find 传入参数为原始数据（数组格式，每个元素都是对象）</span></span>
<span class="line"><span>// 通过进行链式调用对数据执行操作，支持的方法有</span></span>
<span class="line"><span>// where(predicate): 根据属性进行匹配筛选</span></span>
<span class="line"><span>// orderBy(key, desc): 根据 key 的值进行排列，默认升序排列，当第二个参数为 true 时降序排列</span></span>
<span class="line"><span>// groupBy(key): 根据 key 的值对数据元素进行分组，合并为二维数组</span></span>
<span class="line"><span>// execute(): 执行所有处理并返回最终结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Array.prototype.find=function(array){</span></span>
<span class="line"><span>    return this</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>Array.prototype.where=function(predicate){</span></span>
<span class="line"><span>    let res=[]</span></span>
<span class="line"><span>    for(let item of this){</span></span>
<span class="line"><span>        if(item[predicate]!==undefined){</span></span>
<span class="line"><span>            res.push(item)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return res</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>Array.prototype.orderBy=function(key,desc){</span></span>
<span class="line"><span>    return this.sort((second,first)=&gt;{</span></span>
<span class="line"><span>        if(desc===true){ //降序：从大到小</span></span>
<span class="line"><span>            if(first[key]&gt;second[key])</span></span>
<span class="line"><span>                return 1</span></span>
<span class="line"><span>            else</span></span>
<span class="line"><span>                return -1</span></span>
<span class="line"><span>        }else{</span></span>
<span class="line"><span>            if(first[key]&lt;second[key])</span></span>
<span class="line"><span>                return 1</span></span>
<span class="line"><span>            else</span></span>
<span class="line"><span>                return -1</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>Array.prototype.groupBy=function(key){</span></span>
<span class="line"><span>    let calcArray=[]//用索引记位置</span></span>
<span class="line"><span>    return this.reduce((preValue,curValue)=&gt;{</span></span>
<span class="line"><span>        let curValueGroupByKey=curValue[key]</span></span>
<span class="line"><span>        let index= calcArray.indexOf(curValueGroupByKey)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        if(index===-1){ //不存在这个key的值</span></span>
<span class="line"><span>            calcArray.push(curValueGroupByKey)</span></span>
<span class="line"><span>            preValue.push([curValue])</span></span>
<span class="line"><span>        }else {//存在</span></span>
<span class="line"><span>            preValue[index].push(curValue)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        return preValue</span></span>
<span class="line"><span>    },[])</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>console.log([{name:&quot;jack&quot;,age:19},{name:&quot;tom&quot;},{name:&quot;jack&quot;,age:30},{name:&quot;tom&quot;,age:10}].find().where(&quot;age&quot;).groupBy(&quot;name&quot;))</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>49</span></span>
<span class="line"><span>50</span></span>
<span class="line"><span>51</span></span>
<span class="line"><span>关于业务编码上的一点反思</span></span>
<span class="line"><span>编写业务代码，要达成两个核心目标：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>业务需求会随着项目不断迭代而发生变化，代码应该充分解耦，避免一处改动对其他逻辑造成影响</span></span>
<span class="line"><span>避免函数内部直接使用、更改外部变量，应该将外部变量当做参数传入，将处理结果返回。对于流程类函数（不做数据的处理，只是调用其他函数完成业务流程，例如后面场景模拟2中的submitChain函数），应当返回流程最终状态（提交最后是否成功）</span></span>
<span class="line"><span>场景模拟1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>接口函数：getAuditStatus，参数为车型Id，返回Promise，返回参数是布尔值，表示该车型是否被用户认证</span></span>
<span class="line"><span></span></span>
<span class="line"><span>业务场景：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>认证表单第一项切换车款，需要在切换时，提醒用户该车型是否认证过车主</span></span>
<span class="line"><span></span></span>
<span class="line"><span>认证表单提交，需要判断用户是否认证过该车型</span></span>
<span class="line"><span></span></span>
<span class="line"><span>常见错误写法：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//引入一个封装成Promise的请求</span></span>
<span class="line"><span>const { getAuditStatus } =require(&quot;../api&quot;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function getAuditStatus(serialId){</span></span>
<span class="line"><span>  getAuditStatus({ serialId }).then((res)=&gt;{</span></span>
<span class="line"><span>  	//使用一个全局变量区分两种情况，将两种情况耦合在一起</span></span>
<span class="line"><span>	})</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>评价：多条业务逻辑耦合在一个getAuditStatus函数中</span></span>
<span class="line"><span></span></span>
<span class="line"><span>改进写法：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>const { getAuditStatus } =require(&quot;../api&quot;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//业务一：表单第一项切换车款</span></span>
<span class="line"><span>async function changeSerial(serialId){</span></span>
<span class="line"><span>  let res=await getAuditStatus({serialId})</span></span>
<span class="line"><span>  //继续切换车款逻辑处理</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//业务二：认证表单提交</span></span>
<span class="line"><span>async function submit(serialId){</span></span>
<span class="line"><span>  let res=await getAuditStatus({serialId})</span></span>
<span class="line"><span>  //继续提交逻辑处理</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>评价：分离业务逻辑，避免同一个函数处理多个不同的逻辑链</span></span>
<span class="line"><span></span></span>
<span class="line"><span>场景模拟2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>提交按钮被点击时，逻辑链流程：订阅 -&gt; 校验 -&gt; 执行提交 -&gt; 成功弹窗</span></span>
<span class="line"><span></span></span>
<span class="line"><span>常见错误写法：</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function A(){</span></span>
<span class="line"><span>  //订阅逻辑</span></span>
<span class="line"><span>	this.B()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function B(){</span></span>
<span class="line"><span>	//校验逻辑</span></span>
<span class="line"><span>  this.C()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function C(){</span></span>
<span class="line"><span>	//提交逻辑</span></span>
<span class="line"><span>  this.D()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function D(){</span></span>
<span class="line"><span>	//打开成功弹窗</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>A()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>点评：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>业务逻辑高度耦合，调用A就会引起连锁调用</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20220714141528497</span></span>
<span class="line"><span></span></span>
<span class="line"><span>如果再同时出现场景模拟1的情况，即调用链条上的某一点在其他情境中也被调用，就会进一步加剧代码的复杂度。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>假设应用场景仅需要E-&gt;B，但是因为连锁调用C与D也会一起被调用，这不符合预期</span></span>
<span class="line"><span></span></span>
<span class="line"><span>假设图中共有 ： A-&gt;B-&gt;C-&gt;D 、E-&gt;B-&gt;C-&gt;D、F-&gt;C-&gt;D，三条逻辑链</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20220714141117313</span></span>
<span class="line"><span></span></span>
<span class="line"><span>但是现在需求变更，仅要求在A-&gt;B-&gt;C-&gt;D这条逻辑的B-&gt;C之间加入G，如果直接加入这条逻辑，必然会影响到原本E-&gt;B-&gt;C-&gt;D这条逻辑链</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20220714142206229</span></span>
<span class="line"><span></span></span>
<span class="line"><span>改进写法1：（引入新名词，逻辑链函数）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function A(){</span></span>
<span class="line"><span>  //订阅逻辑</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function B(){</span></span>
<span class="line"><span>	//校验逻辑，调用校验用户是否提交过的接口。未提交返回true，否则false</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>async function C(){</span></span>
<span class="line"><span>	//调用提交接口。提交成功返回true，否则false</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function D(){</span></span>
<span class="line"><span>	//提交成功才打开成功弹窗</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//抽象出来提交逻辑，在其中完成一整条逻辑链，我称这种函数为&quot;逻辑链函数&quot;</span></span>
<span class="line"><span>function submitChain(){</span></span>
<span class="line"><span>  A()</span></span>
<span class="line"><span>  let isSubmited=await B()</span></span>
<span class="line"><span>  if(isSubmited){</span></span>
<span class="line"><span>    let submitRes= await C()</span></span>
<span class="line"><span>    if(submitRes) D()</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>改进写法2：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>逻辑链可能会在某节点分叉，例如下图（但是注意一定要保证其是一个拓扑图，即单项流动，不能出现后面的状态改变前面的状态）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>他们之间的A、B是共用的，我们必须将后面的代码分离成两条逻辑链。业务流程中可能会存在很多分叉，分叉的末端还会有分叉，所以需要自己权衡，如果是否需要引入新的逻辑链函数，还是直接在主逻辑链中处理</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20220714171059811</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//抽象出来提交逻辑，在其中完成一整条逻辑链，我称这种函数为&quot;逻辑链函数&quot;</span></span>
<span class="line"><span>function submitChain(){</span></span>
<span class="line"><span>  A()</span></span>
<span class="line"><span>  let isSubmited=await B()</span></span>
<span class="line"><span>  if(isSubmited){</span></span>
<span class="line"><span>    let submitRes= await C()</span></span>
<span class="line"><span>    if(submitRes){</span></span>
<span class="line"><span>      dealSubmitSuccessChain()</span></span>
<span class="line"><span>    }else{</span></span>
<span class="line"><span>      dealSubmitFailChain()</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }else{</span></span>
<span class="line"><span>    //已提交的处理逻辑</span></span>
<span class="line"><span>    return</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function dealSubmitSuccessChain(){</span></span>
<span class="line"><span>  D()</span></span>
<span class="line"><span>  I()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function dealSubmitFailChain(){</span></span>
<span class="line"><span>  H()</span></span>
<span class="line"><span>  J()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>同时，需要注意，前端的特殊性，用户的页面操作可以改变逻辑链的流向。用户逻辑链执行的过程中，触发一个弹出，弹窗的不同按钮就会导致走向不同的逻辑链，这种情景就脱离主逻辑链，例如提交流程中，提交成功后弹出提示框，其中有确定、重新编辑两个按钮。主逻辑链只到打开弹窗就结束了。剩下的由用户去触发两个按钮对应的逻辑链</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//弹窗的返回方法</span></span>
<span class="line"><span>function backTo(cb){</span></span>
<span class="line"><span>  cb(&quot;pre&quot;)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>//弹窗的继续提交方法</span></span>
<span class="line"><span>function continueSubmit(cb){</span></span>
<span class="line"><span>  cb(&quot;continue&quot;)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>//主流程逻辑链</span></span>
<span class="line"><span>function submitChain(){</span></span>
<span class="line"><span>  A()</span></span>
<span class="line"><span>  let isSubmited=await B()</span></span>
<span class="line"><span>  if(isSubmited){</span></span>
<span class="line"><span>    let submitRes= await C()</span></span>
<span class="line"><span>    if(submitRes){</span></span>
<span class="line"><span>      D(cb)//打开弹窗</span></span>
<span class="line"><span>      cb()</span></span>
<span class="line"><span>      //其他操作</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }else{</span></span>
<span class="line"><span>    //已提交的处理逻辑</span></span>
<span class="line"><span>    return</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>改进3</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可以根据自己需求使用.catch来针对某些步骤进行错误的处理，也可以使用try...catch全局进行处理</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function submitChain(){</span></span>
<span class="line"><span>  A()</span></span>
<span class="line"><span>  let isSubmited=await B().catch(err=&gt;{</span></span>
<span class="line"><span>            //单独对这一步的错误处理</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span>  if(isSubmited){</span></span>
<span class="line"><span>    let submitRes= await C()</span></span>
<span class="line"><span>    if(submitRes){</span></span>
<span class="line"><span>      dealSubmitSuccessChain()</span></span>
<span class="line"><span>    }else{</span></span>
<span class="line"><span>      dealSubmitFailChain()</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }else{</span></span>
<span class="line"><span>    //已提交的处理逻辑</span></span>
<span class="line"><span>    return</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function dealSubmitSuccessChain(){</span></span>
<span class="line"><span>  D()</span></span>
<span class="line"><span>  I()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function dealSubmitFailChain(){</span></span>
<span class="line"><span>  H()</span></span>
<span class="line"><span>  J()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>点评：这种写法不仅可以实现不同逻辑链解耦，还可以更好的错误的捕获取处理。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>场景模拟3</span></span>
<span class="line"><span></span></span>
<span class="line"><span>函数应以入参，返参数的方式使用</span></span>
<span class="line"><span></span></span>
<span class="line"><span>通过入参的方式，明确函数中使用的外部变量的状态，尽力避免在函数中直接对外部变量直接读写</span></span>
<span class="line"><span></span></span>
<span class="line"><span>常见错误写法：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在复杂业务场景中，多个函数都在内部更改了a，等到新加入的逻辑E、F使用变量a，很难判断当前的a的状态在哪条逻辑链中被更改</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function A(){</span></span>
<span class="line"><span>  this.globalData.a=1</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function B(){</span></span>
<span class="line"><span>  this.globalData.a=2</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function C(){</span></span>
<span class="line"><span>  this.globalData.a=3</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function E(){</span></span>
<span class="line"><span>  //处理过程中用到了a变量</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function F(){</span></span>
<span class="line"><span>  //处理过程中用到了a变量</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>改进写法</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function A(a){</span></span>
<span class="line"><span>  return 1</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function B(a){</span></span>
<span class="line"><span>  return 2</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function C(a){</span></span>
<span class="line"><span>  return 3</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function E(a){</span></span>
<span class="line"><span>  //处理过程中用到了a变量</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function F(a){</span></span>
<span class="line"><span>  //处理过程中用到了a变量</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>如果入参是对象，一般在函数内改变，只返回改变的结果。例如成功true，失false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>对于一些流程类函数，例如在submitChain这条逻辑链上的函数A、B、C、D都必须有返回值，例如B、C并不是返回数据，而是调用其流程的最终结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span>注意：逻辑链函数也要有返回值，例如【场景模拟2中的改进写法2】其中分叉的两条逻辑链属于主逻辑链的子节点</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function A(){</span></span>
<span class="line"><span>  //订阅逻辑</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function B(){</span></span>
<span class="line"><span>	//校验逻辑，调用校验用户是否提交过的接口。未提交返回true，否则false</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>async function C(){</span></span>
<span class="line"><span>	//调用提交接口。提交成功返回true，否则false</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function D(){</span></span>
<span class="line"><span>	//提交成功才打开成功弹窗</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//抽象出来提交逻辑，在其中完成一整条逻辑链，我称这种函数为&quot;逻辑链函数&quot;</span></span>
<span class="line"><span>function submitChain(){</span></span>
<span class="line"><span>  A()</span></span>
<span class="line"><span>  let isSubmited=await B()</span></span>
<span class="line"><span>  if(isSubmited){</span></span>
<span class="line"><span>    let submitRes= await C()</span></span>
<span class="line"><span>    if(submitRes) D()</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>场景模拟4</span></span>
<span class="line"><span></span></span>
<span class="line"><span>对于填写表单数据，是一个非常常见的需求。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>目前有一个非常复杂的表单，需要实现几套逻辑</span></span>
<span class="line"><span></span></span>
<span class="line"><span>首次填写并提交</span></span>
<span class="line"><span>表单被驳回，重新编辑（表单回显成上一次提交的状态）并提交</span></span>
<span class="line"><span>实现框架</span></span>
<span class="line"><span></span></span>
<span class="line"><span>getFormData获取当前表单输入的数据（不同逻辑链提交表单，同样都需要表单数据）</span></span>
<span class="line"><span>setFormData设置表单数据（回显数据）</span></span>
<span class="line"><span>dealFormDataWithXXChain、dealFormDataWithYYChain，不同的数据处理函数，接收表单数据，返回处理结果</span></span>
<span class="line"><span>Promise与回调函数的另一种结合</span></span>
<span class="line"><span>下面的函数可以让，其他开发者在callback中处理数据</span></span>
<span class="line"><span></span></span>
<span class="line"><span>处理完了就return数据，然后再then中继续使用</span></span>
<span class="line"><span>处理的过程中发现错误，就throw出来，在catch中处理</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function testCallBack(cb){</span></span>
<span class="line"><span>    return new Promise((resolve,reject)=&gt; {</span></span>
<span class="line"><span>        try {</span></span>
<span class="line"><span>            resolve(cb())</span></span>
<span class="line"><span>        } catch (err){</span></span>
<span class="line"><span>            console.log(&quot;函数内部，捕获到Error对象&quot;,err)</span></span>
<span class="line"><span>            reject(err)</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let res=testCallBack(()=&gt;{</span></span>
<span class="line"><span>    if(1){</span></span>
<span class="line"><span>        throw new Error() //throw会终止回调函数，但是在testCallBack内部的Promise中被try...catch捕获，所以不会终止整个程序。捕获后reject这个err，就能被.catch接收到</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return 1</span></span>
<span class="line"><span>}).catch(err=&gt;{</span></span>
<span class="line"><span>    console.log(&quot;外部调用Promise，捕获到Error对象&quot;,err)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>同步延时器</span></span>
<span class="line"><span>定时器是异步的，但是我们可以通过Promise化，同步调用定时器</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function f(){</span></span>
<span class="line"><span>	//前面的操作</span></span>
<span class="line"><span>  await new Promise((resolve)=&gt;{</span></span>
<span class="line"><span>    setTimeout(resolve,1000)</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span></span></span>
<span class="line"><span> //后面的操作</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>JS中的return</span></span>
<span class="line"><span>函数中体顶层作用域出现return，会直接结束整个函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f1(){</span></span>
<span class="line"><span>    console.log(1)</span></span>
<span class="line"><span>    return</span></span>
<span class="line"><span>    console.log(2)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>f1() //1</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>if等流程函数中，也会结束整个函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f1(){</span></span>
<span class="line"><span>    console.log(3)</span></span>
<span class="line"><span>    if(true){</span></span>
<span class="line"><span>        return</span></span>
<span class="line"><span>        console.log(4)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    console.log(5)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>f1() //3</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>回调函数中return，只能结束回调函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>function f2(){</span></span>
<span class="line"><span>   setTimeout(()=&gt;{</span></span>
<span class="line"><span>      console.log(1)</span></span>
<span class="line"><span>      return</span></span>
<span class="line"><span>      console.log(2)</span></span>
<span class="line"><span>    },2000)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>f2()  //1</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>Promise中return只能将数据传递给下一个then函数。不能结束整个函数</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function f3(){</span></span>
<span class="line"><span>    return 1</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>function f4(){</span></span>
<span class="line"><span>    //必须在在前面加一个return</span></span>
<span class="line"><span>    return f3().then(res=&gt;{</span></span>
<span class="line"><span>        return res</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>f4().then(res=&gt;{</span></span>
<span class="line"><span>    console.log(res)</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>JS插件系统如何设计</span></span>
<span class="line"><span>推荐设计（此种设计仍然不够健全，注册的插件可以通过this访问到插件系统的配置，甚至还可以直接修改插件系统的配置，这样就破坏了插件核心的稳定性）</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class HDDPlugin{</span></span>
<span class="line"><span>    //插件系统内置属性</span></span>
<span class="line"><span>    coreConfig={</span></span>
<span class="line"><span>        version:&#39;0.0.1&#39;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //插件构造方法(用于配置插件系统规则，注册插件)</span></span>
<span class="line"><span>    constructor(customCoreConfig) {</span></span>
<span class="line"><span>        //1、校验下pluginList的格式必须是数组（数组传入多个插件）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //2、config插件系统配置（内置属性和config属性合并，用户传入的优先级高）</span></span>
<span class="line"><span>        this.coreConfig={...this.coreConfig,...customCoreConfig}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    //注册插件函数（用于注册插件，同时传入插件配置）</span></span>
<span class="line"><span>    register(PluginList){ //箭头函数的写法，可以放置this丢失，这里this永远指向对象</span></span>
<span class="line"><span>        if (!Array.isArray(PluginList)||PluginList.length===0){</span></span>
<span class="line"><span>            console.warn(&#39;插件列表必须指定&#39;)</span></span>
<span class="line"><span>            return</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        for (let plugin of PluginList){</span></span>
<span class="line"><span>            const { pluginName,pluginExec } = plugin;//插件必须要有两个属性，pluginName插件名，pluginExec插件函数</span></span>
<span class="line"><span>            if(!(typeof pluginName===&#39;string&#39;)||pluginName===&#39;&#39;){</span></span>
<span class="line"><span>                console.warn(&#39;插件pluginName字段必须为非空字符串&#39;)</span></span>
<span class="line"><span>                return</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            if(!pluginExec instanceof Function){</span></span>
<span class="line"><span>                console.warn(&#39;插件pluginExec字段必须为函数类型&#39;)</span></span>
<span class="line"><span>                return</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            this[pluginName] = pluginExec; //将方法添加到类中</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>//创建实例对象</span></span>
<span class="line"><span>let p=new HDDPlugin({version:&#39;1.0.0&#39;,secret:&#39;111&#39;}) //传入插件系统配置</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//在实例上注册函数</span></span>
<span class="line"><span>p.register([{</span></span>
<span class="line"><span>    pluginName:&#39;test1&#39;,</span></span>
<span class="line"><span>    pluginExec(params){</span></span>
<span class="line"><span>      	//注意：插件函数可以读取`插件系统`的核心配置</span></span>
<span class="line"><span>        console.log(`插件test执行，插件传入的参数${params}，读取插件系统核心配置${JSON.stringify(this.coreConfig)}`)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}])</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//</span></span>
<span class="line"><span>p.test1(&#39;1&#39;)</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>48</span></span>
<span class="line"><span>49</span></span>
<span class="line"><span>50</span></span>
<span class="line"><span>51</span></span>
<span class="line"><span>52</span></span>
<span class="line"><span>另一种思路(不太推荐)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>将register指定为静态方法，只能通过类调用，这种做法丧失了灵活性。推荐将插件挂载到实例上</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>class HDDPlugin{</span></span>
<span class="line"><span>    //插件系统内置属性</span></span>
<span class="line"><span>    coreConfig={</span></span>
<span class="line"><span>        version:&#39;0.0.1&#39;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //插件构造方法(用于配置插件系统规则，注册插件)</span></span>
<span class="line"><span>    constructor(customCoreConfig) {</span></span>
<span class="line"><span>        //1、校验下pluginList的格式必须是数组（数组传入多个插件）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        //2、config插件系统配置（内置属性和config属性合并，用户传入的优先级高）</span></span>
<span class="line"><span>        this.coreConfig={...this.coreConfig,...customCoreConfig}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    //注册插件函数（用于注册插件，同时传入插件配置）</span></span>
<span class="line"><span>    static  register(PluginList){ //箭头函数的写法，可以放置this丢失，这里this永远指向对象</span></span>
<span class="line"><span>        if (!Array.isArray(PluginList)||PluginList.length===0){</span></span>
<span class="line"><span>            console.warn(&#39;插件列表必须指定&#39;)</span></span>
<span class="line"><span>            return</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        for (let plugin of PluginList){</span></span>
<span class="line"><span>            const { pluginName,pluginExec } = plugin;//插件必须要有两个属性，pluginName插件名，pluginExec插件函数</span></span>
<span class="line"><span>            if(!(typeof pluginName===&#39;string&#39;)||pluginName===&#39;&#39;){</span></span>
<span class="line"><span>                console.warn(&#39;插件pluginName字段必须为非空字符串&#39;)</span></span>
<span class="line"><span>                return</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            if(!pluginExec instanceof Function){</span></span>
<span class="line"><span>                console.warn(&#39;插件pluginExec字段必须为函数类型&#39;)</span></span>
<span class="line"><span>                return</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            this[pluginName] = pluginExec; //将方法添加到类中</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let p=new HDDPlugin({version:&#39;1.0.0&#39;,secret:&#39;111&#39;})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>HDDPlugin.register([{</span></span>
<span class="line"><span>    pluginName:&#39;test1&#39;,</span></span>
<span class="line"><span>    pluginExec:()=&gt;{</span></span>
<span class="line"><span>        console.log(&#39;插件test执行&#39;)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}])</span></span>
<span class="line"><span>HDDPlugin.test1()</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>35</span></span>
<span class="line"><span>36</span></span>
<span class="line"><span>37</span></span>
<span class="line"><span>38</span></span>
<span class="line"><span>39</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>41</span></span>
<span class="line"><span>42</span></span>
<span class="line"><span>43</span></span>
<span class="line"><span>44</span></span>
<span class="line"><span>45</span></span>
<span class="line"><span>46</span></span>
<span class="line"><span>47</span></span>
<span class="line"><span>JS语法树（AST）</span></span>
<span class="line"><span>JS细节易混淆</span></span>
<span class="line"><span>迭代器索引居然是string类型的</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>let arr=[1,2]</span></span>
<span class="line"><span>for(let index in arr){</span></span>
<span class="line"><span>	console.log(index,typeof index) //索引是String类型</span></span>
<span class="line"><span>  console.log(arr[index],typeof arr[index]) //number类型</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let obj={</span></span>
<span class="line"><span>  1:&quot;第一个&quot;,</span></span>
<span class="line"><span>  2:&quot;第二个&quot;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>for(let index in obj){</span></span>
<span class="line"><span>	console.log(index,typeof index) //key是String类型</span></span>
<span class="line"><span>  console.log(obj[index],typeof obj[index]) //String类型</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>补充</span></span>
<span class="line"><span>swiper官网文档中写的mySwiper.某方法/某属性</span></span>
<span class="line"><span>mySwiper指的是swiper实例。在.vue文件中，可以给dom元素添加ref=“swiperBlock”，然后用this.$refs.swiperBlock获取dom元素，然后.swiper来获取实例</span></span>
<span class="line"><span></span></span>
<span class="line"><span>例如：调用slideTo方法</span></span>
<span class="line"><span></span></span>
<span class="line"><span>image-20210618144059004</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>this.$refs.swiperBlock.swiper.slideTo(index);</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>UUID</span></span>
<span class="line"><span>生成唯一不重复的编码</span></span>
<span class="line"><span></span></span>
<span class="line"><span>百度百科https://baike.baidu.com/item/UUID/5921266?fr=aladdin</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/*</span></span>
<span class="line"><span> 生成UUID</span></span>
<span class="line"><span> @para len {Number} 长度</span></span>
<span class="line"><span> @para radix {Number} 算法基数</span></span>
<span class="line"><span> @return uuid{String} 生成的UUID</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>function createUUID (len, radix) {</span></span>
<span class="line"><span>    var chars = &#39;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&#39;.split(&#39;&#39;);</span></span>
<span class="line"><span>    var uuid = [],</span></span>
<span class="line"><span>        i;</span></span>
<span class="line"><span>    radix = radix || chars.length;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    if (len) {</span></span>
<span class="line"><span>        // Compact form</span></span>
<span class="line"><span>        for (i = 0; i &lt; len; i++) uuid[i] = chars[0 | Math.random() * radix];</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        // rfc4122, version 4 form</span></span>
<span class="line"><span>        var r;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // rfc4122 requires these characters</span></span>
<span class="line"><span>        uuid[8] = uuid[13] = uuid[18] = uuid[23] = &#39;-&#39;;</span></span>
<span class="line"><span>        uuid[14] = &#39;4&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // Fill in random data.  At i==19 set the high bits of clock sequence as</span></span>
<span class="line"><span>        // per rfc4122, sec. 4.1.5</span></span>
<span class="line"><span>        for (i = 0; i &lt; 36; i++) {</span></span>
<span class="line"><span>            if (!uuid[i]) {</span></span>
<span class="line"><span>                r = 0 | Math.random() * 16;</span></span>
<span class="line"><span>                uuid[i] = chars[(i == 19) ? (r &amp; 0x3) | 0x8 : r];</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return uuid.join(&#39;&#39;);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>4</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>6</span></span>
<span class="line"><span>7</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>9</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>11</span></span>
<span class="line"><span>12</span></span>
<span class="line"><span>13</span></span>
<span class="line"><span>14</span></span>
<span class="line"><span>15</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>17</span></span>
<span class="line"><span>18</span></span>
<span class="line"><span>19</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>21</span></span>
<span class="line"><span>22</span></span>
<span class="line"><span>23</span></span>
<span class="line"><span>24</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>26</span></span>
<span class="line"><span>27</span></span>
<span class="line"><span>28</span></span>
<span class="line"><span>29</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>31</span></span>
<span class="line"><span>32</span></span>
<span class="line"><span>33</span></span>
<span class="line"><span>34</span></span>
<span class="line"><span>播放器</span></span>
<span class="line"><span>西瓜播放器https://v2.h5player.bytedance.com/about/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>video.js、mediaElement.js 等视频播放器</span></span>
<span class="line"><span></span></span>
<span class="line"><span>lottie-web制作高性能动画</span></span>
<span class="line"><span>https://yechuanjie.com/blog/lottie/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>lottie预览网站:上传json文件，就可以直接显示结果</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>	&lt;div id=&quot;stareyes&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>import * as fish from &quot;./lottie/fish.json&quot;; // 引入json本地资源</span></span>
<span class="line"><span>import lottie from &quot;lottie-web&quot;;//引入lottie</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default {</span></span>
<span class="line"><span>  mounted() {</span></span>
<span class="line"><span>    lottie.loadAnimation({</span></span>
<span class="line"><span>      container: document.getElementById(&quot;fish&quot;),//设置动画显示的div</span></span>
<span class="line"><span>      renderer: &quot;svg&quot;,</span></span>
<span class="line"><span>      loop: true,</span></span>
<span class="line"><span>      animationData: fish.default//使用引入的json文件</span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span>&lt;/script&gt;</span></span>
<span class="line"><span>&lt;style lang=&quot;less&quot;&gt;</span></span>
<span class="line"><span>&lt;/style&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br><span class="line-number">424</span><br><span class="line-number">425</span><br><span class="line-number">426</span><br><span class="line-number">427</span><br><span class="line-number">428</span><br><span class="line-number">429</span><br><span class="line-number">430</span><br><span class="line-number">431</span><br><span class="line-number">432</span><br><span class="line-number">433</span><br><span class="line-number">434</span><br><span class="line-number">435</span><br><span class="line-number">436</span><br><span class="line-number">437</span><br><span class="line-number">438</span><br><span class="line-number">439</span><br><span class="line-number">440</span><br><span class="line-number">441</span><br><span class="line-number">442</span><br><span class="line-number">443</span><br><span class="line-number">444</span><br><span class="line-number">445</span><br><span class="line-number">446</span><br><span class="line-number">447</span><br><span class="line-number">448</span><br><span class="line-number">449</span><br><span class="line-number">450</span><br><span class="line-number">451</span><br><span class="line-number">452</span><br><span class="line-number">453</span><br><span class="line-number">454</span><br><span class="line-number">455</span><br><span class="line-number">456</span><br><span class="line-number">457</span><br><span class="line-number">458</span><br><span class="line-number">459</span><br><span class="line-number">460</span><br><span class="line-number">461</span><br><span class="line-number">462</span><br><span class="line-number">463</span><br><span class="line-number">464</span><br><span class="line-number">465</span><br><span class="line-number">466</span><br><span class="line-number">467</span><br><span class="line-number">468</span><br><span class="line-number">469</span><br><span class="line-number">470</span><br><span class="line-number">471</span><br><span class="line-number">472</span><br><span class="line-number">473</span><br><span class="line-number">474</span><br><span class="line-number">475</span><br><span class="line-number">476</span><br><span class="line-number">477</span><br><span class="line-number">478</span><br><span class="line-number">479</span><br><span class="line-number">480</span><br><span class="line-number">481</span><br><span class="line-number">482</span><br><span class="line-number">483</span><br><span class="line-number">484</span><br><span class="line-number">485</span><br><span class="line-number">486</span><br><span class="line-number">487</span><br><span class="line-number">488</span><br><span class="line-number">489</span><br><span class="line-number">490</span><br><span class="line-number">491</span><br><span class="line-number">492</span><br><span class="line-number">493</span><br><span class="line-number">494</span><br><span class="line-number">495</span><br><span class="line-number">496</span><br><span class="line-number">497</span><br><span class="line-number">498</span><br><span class="line-number">499</span><br><span class="line-number">500</span><br><span class="line-number">501</span><br><span class="line-number">502</span><br><span class="line-number">503</span><br><span class="line-number">504</span><br><span class="line-number">505</span><br><span class="line-number">506</span><br><span class="line-number">507</span><br><span class="line-number">508</span><br><span class="line-number">509</span><br><span class="line-number">510</span><br><span class="line-number">511</span><br><span class="line-number">512</span><br><span class="line-number">513</span><br><span class="line-number">514</span><br><span class="line-number">515</span><br><span class="line-number">516</span><br><span class="line-number">517</span><br><span class="line-number">518</span><br><span class="line-number">519</span><br><span class="line-number">520</span><br><span class="line-number">521</span><br><span class="line-number">522</span><br><span class="line-number">523</span><br><span class="line-number">524</span><br><span class="line-number">525</span><br><span class="line-number">526</span><br><span class="line-number">527</span><br><span class="line-number">528</span><br><span class="line-number">529</span><br><span class="line-number">530</span><br><span class="line-number">531</span><br><span class="line-number">532</span><br><span class="line-number">533</span><br><span class="line-number">534</span><br><span class="line-number">535</span><br><span class="line-number">536</span><br><span class="line-number">537</span><br><span class="line-number">538</span><br><span class="line-number">539</span><br><span class="line-number">540</span><br><span class="line-number">541</span><br><span class="line-number">542</span><br><span class="line-number">543</span><br><span class="line-number">544</span><br><span class="line-number">545</span><br><span class="line-number">546</span><br><span class="line-number">547</span><br><span class="line-number">548</span><br><span class="line-number">549</span><br><span class="line-number">550</span><br><span class="line-number">551</span><br><span class="line-number">552</span><br><span class="line-number">553</span><br><span class="line-number">554</span><br><span class="line-number">555</span><br><span class="line-number">556</span><br><span class="line-number">557</span><br><span class="line-number">558</span><br><span class="line-number">559</span><br><span class="line-number">560</span><br><span class="line-number">561</span><br><span class="line-number">562</span><br><span class="line-number">563</span><br><span class="line-number">564</span><br><span class="line-number">565</span><br><span class="line-number">566</span><br><span class="line-number">567</span><br><span class="line-number">568</span><br><span class="line-number">569</span><br><span class="line-number">570</span><br><span class="line-number">571</span><br><span class="line-number">572</span><br><span class="line-number">573</span><br><span class="line-number">574</span><br><span class="line-number">575</span><br><span class="line-number">576</span><br><span class="line-number">577</span><br><span class="line-number">578</span><br><span class="line-number">579</span><br><span class="line-number">580</span><br><span class="line-number">581</span><br><span class="line-number">582</span><br><span class="line-number">583</span><br><span class="line-number">584</span><br><span class="line-number">585</span><br><span class="line-number">586</span><br><span class="line-number">587</span><br><span class="line-number">588</span><br><span class="line-number">589</span><br><span class="line-number">590</span><br><span class="line-number">591</span><br><span class="line-number">592</span><br><span class="line-number">593</span><br><span class="line-number">594</span><br><span class="line-number">595</span><br><span class="line-number">596</span><br><span class="line-number">597</span><br><span class="line-number">598</span><br><span class="line-number">599</span><br><span class="line-number">600</span><br><span class="line-number">601</span><br><span class="line-number">602</span><br><span class="line-number">603</span><br><span class="line-number">604</span><br><span class="line-number">605</span><br><span class="line-number">606</span><br><span class="line-number">607</span><br><span class="line-number">608</span><br><span class="line-number">609</span><br><span class="line-number">610</span><br><span class="line-number">611</span><br><span class="line-number">612</span><br><span class="line-number">613</span><br><span class="line-number">614</span><br><span class="line-number">615</span><br><span class="line-number">616</span><br><span class="line-number">617</span><br><span class="line-number">618</span><br><span class="line-number">619</span><br><span class="line-number">620</span><br><span class="line-number">621</span><br><span class="line-number">622</span><br><span class="line-number">623</span><br><span class="line-number">624</span><br><span class="line-number">625</span><br><span class="line-number">626</span><br><span class="line-number">627</span><br><span class="line-number">628</span><br><span class="line-number">629</span><br><span class="line-number">630</span><br><span class="line-number">631</span><br><span class="line-number">632</span><br><span class="line-number">633</span><br><span class="line-number">634</span><br><span class="line-number">635</span><br><span class="line-number">636</span><br><span class="line-number">637</span><br><span class="line-number">638</span><br><span class="line-number">639</span><br><span class="line-number">640</span><br><span class="line-number">641</span><br><span class="line-number">642</span><br><span class="line-number">643</span><br><span class="line-number">644</span><br><span class="line-number">645</span><br><span class="line-number">646</span><br><span class="line-number">647</span><br><span class="line-number">648</span><br><span class="line-number">649</span><br><span class="line-number">650</span><br><span class="line-number">651</span><br><span class="line-number">652</span><br><span class="line-number">653</span><br><span class="line-number">654</span><br><span class="line-number">655</span><br><span class="line-number">656</span><br><span class="line-number">657</span><br><span class="line-number">658</span><br><span class="line-number">659</span><br><span class="line-number">660</span><br><span class="line-number">661</span><br><span class="line-number">662</span><br><span class="line-number">663</span><br><span class="line-number">664</span><br><span class="line-number">665</span><br><span class="line-number">666</span><br><span class="line-number">667</span><br><span class="line-number">668</span><br><span class="line-number">669</span><br><span class="line-number">670</span><br><span class="line-number">671</span><br><span class="line-number">672</span><br><span class="line-number">673</span><br><span class="line-number">674</span><br><span class="line-number">675</span><br><span class="line-number">676</span><br><span class="line-number">677</span><br><span class="line-number">678</span><br><span class="line-number">679</span><br><span class="line-number">680</span><br><span class="line-number">681</span><br><span class="line-number">682</span><br><span class="line-number">683</span><br><span class="line-number">684</span><br><span class="line-number">685</span><br><span class="line-number">686</span><br><span class="line-number">687</span><br><span class="line-number">688</span><br><span class="line-number">689</span><br><span class="line-number">690</span><br><span class="line-number">691</span><br><span class="line-number">692</span><br><span class="line-number">693</span><br><span class="line-number">694</span><br><span class="line-number">695</span><br><span class="line-number">696</span><br><span class="line-number">697</span><br><span class="line-number">698</span><br><span class="line-number">699</span><br><span class="line-number">700</span><br><span class="line-number">701</span><br><span class="line-number">702</span><br><span class="line-number">703</span><br><span class="line-number">704</span><br><span class="line-number">705</span><br><span class="line-number">706</span><br><span class="line-number">707</span><br><span class="line-number">708</span><br><span class="line-number">709</span><br><span class="line-number">710</span><br><span class="line-number">711</span><br><span class="line-number">712</span><br><span class="line-number">713</span><br><span class="line-number">714</span><br><span class="line-number">715</span><br><span class="line-number">716</span><br><span class="line-number">717</span><br><span class="line-number">718</span><br><span class="line-number">719</span><br><span class="line-number">720</span><br><span class="line-number">721</span><br><span class="line-number">722</span><br><span class="line-number">723</span><br><span class="line-number">724</span><br><span class="line-number">725</span><br><span class="line-number">726</span><br><span class="line-number">727</span><br><span class="line-number">728</span><br><span class="line-number">729</span><br><span class="line-number">730</span><br><span class="line-number">731</span><br><span class="line-number">732</span><br><span class="line-number">733</span><br><span class="line-number">734</span><br><span class="line-number">735</span><br><span class="line-number">736</span><br><span class="line-number">737</span><br><span class="line-number">738</span><br><span class="line-number">739</span><br><span class="line-number">740</span><br><span class="line-number">741</span><br><span class="line-number">742</span><br><span class="line-number">743</span><br><span class="line-number">744</span><br><span class="line-number">745</span><br><span class="line-number">746</span><br><span class="line-number">747</span><br><span class="line-number">748</span><br><span class="line-number">749</span><br><span class="line-number">750</span><br><span class="line-number">751</span><br><span class="line-number">752</span><br><span class="line-number">753</span><br><span class="line-number">754</span><br><span class="line-number">755</span><br><span class="line-number">756</span><br><span class="line-number">757</span><br><span class="line-number">758</span><br><span class="line-number">759</span><br><span class="line-number">760</span><br><span class="line-number">761</span><br><span class="line-number">762</span><br><span class="line-number">763</span><br><span class="line-number">764</span><br><span class="line-number">765</span><br><span class="line-number">766</span><br><span class="line-number">767</span><br><span class="line-number">768</span><br><span class="line-number">769</span><br><span class="line-number">770</span><br><span class="line-number">771</span><br><span class="line-number">772</span><br><span class="line-number">773</span><br><span class="line-number">774</span><br><span class="line-number">775</span><br><span class="line-number">776</span><br><span class="line-number">777</span><br><span class="line-number">778</span><br><span class="line-number">779</span><br><span class="line-number">780</span><br><span class="line-number">781</span><br><span class="line-number">782</span><br><span class="line-number">783</span><br><span class="line-number">784</span><br><span class="line-number">785</span><br><span class="line-number">786</span><br><span class="line-number">787</span><br><span class="line-number">788</span><br><span class="line-number">789</span><br><span class="line-number">790</span><br><span class="line-number">791</span><br><span class="line-number">792</span><br><span class="line-number">793</span><br><span class="line-number">794</span><br><span class="line-number">795</span><br><span class="line-number">796</span><br><span class="line-number">797</span><br><span class="line-number">798</span><br><span class="line-number">799</span><br><span class="line-number">800</span><br><span class="line-number">801</span><br><span class="line-number">802</span><br><span class="line-number">803</span><br><span class="line-number">804</span><br><span class="line-number">805</span><br><span class="line-number">806</span><br><span class="line-number">807</span><br><span class="line-number">808</span><br><span class="line-number">809</span><br><span class="line-number">810</span><br><span class="line-number">811</span><br><span class="line-number">812</span><br><span class="line-number">813</span><br><span class="line-number">814</span><br><span class="line-number">815</span><br><span class="line-number">816</span><br><span class="line-number">817</span><br><span class="line-number">818</span><br><span class="line-number">819</span><br><span class="line-number">820</span><br><span class="line-number">821</span><br><span class="line-number">822</span><br><span class="line-number">823</span><br><span class="line-number">824</span><br><span class="line-number">825</span><br><span class="line-number">826</span><br><span class="line-number">827</span><br><span class="line-number">828</span><br><span class="line-number">829</span><br><span class="line-number">830</span><br><span class="line-number">831</span><br><span class="line-number">832</span><br><span class="line-number">833</span><br><span class="line-number">834</span><br><span class="line-number">835</span><br><span class="line-number">836</span><br><span class="line-number">837</span><br><span class="line-number">838</span><br><span class="line-number">839</span><br><span class="line-number">840</span><br><span class="line-number">841</span><br><span class="line-number">842</span><br><span class="line-number">843</span><br><span class="line-number">844</span><br><span class="line-number">845</span><br><span class="line-number">846</span><br><span class="line-number">847</span><br><span class="line-number">848</span><br><span class="line-number">849</span><br><span class="line-number">850</span><br><span class="line-number">851</span><br><span class="line-number">852</span><br><span class="line-number">853</span><br><span class="line-number">854</span><br><span class="line-number">855</span><br><span class="line-number">856</span><br><span class="line-number">857</span><br><span class="line-number">858</span><br><span class="line-number">859</span><br><span class="line-number">860</span><br><span class="line-number">861</span><br><span class="line-number">862</span><br><span class="line-number">863</span><br><span class="line-number">864</span><br><span class="line-number">865</span><br><span class="line-number">866</span><br><span class="line-number">867</span><br><span class="line-number">868</span><br><span class="line-number">869</span><br><span class="line-number">870</span><br><span class="line-number">871</span><br><span class="line-number">872</span><br><span class="line-number">873</span><br><span class="line-number">874</span><br><span class="line-number">875</span><br><span class="line-number">876</span><br><span class="line-number">877</span><br><span class="line-number">878</span><br><span class="line-number">879</span><br><span class="line-number">880</span><br><span class="line-number">881</span><br><span class="line-number">882</span><br><span class="line-number">883</span><br><span class="line-number">884</span><br><span class="line-number">885</span><br><span class="line-number">886</span><br><span class="line-number">887</span><br><span class="line-number">888</span><br><span class="line-number">889</span><br><span class="line-number">890</span><br><span class="line-number">891</span><br><span class="line-number">892</span><br><span class="line-number">893</span><br><span class="line-number">894</span><br><span class="line-number">895</span><br><span class="line-number">896</span><br><span class="line-number">897</span><br><span class="line-number">898</span><br><span class="line-number">899</span><br><span class="line-number">900</span><br><span class="line-number">901</span><br><span class="line-number">902</span><br><span class="line-number">903</span><br><span class="line-number">904</span><br><span class="line-number">905</span><br><span class="line-number">906</span><br><span class="line-number">907</span><br><span class="line-number">908</span><br><span class="line-number">909</span><br><span class="line-number">910</span><br><span class="line-number">911</span><br><span class="line-number">912</span><br><span class="line-number">913</span><br><span class="line-number">914</span><br><span class="line-number">915</span><br><span class="line-number">916</span><br><span class="line-number">917</span><br><span class="line-number">918</span><br><span class="line-number">919</span><br><span class="line-number">920</span><br><span class="line-number">921</span><br><span class="line-number">922</span><br><span class="line-number">923</span><br><span class="line-number">924</span><br><span class="line-number">925</span><br><span class="line-number">926</span><br><span class="line-number">927</span><br><span class="line-number">928</span><br><span class="line-number">929</span><br><span class="line-number">930</span><br><span class="line-number">931</span><br><span class="line-number">932</span><br><span class="line-number">933</span><br><span class="line-number">934</span><br><span class="line-number">935</span><br><span class="line-number">936</span><br><span class="line-number">937</span><br><span class="line-number">938</span><br><span class="line-number">939</span><br><span class="line-number">940</span><br><span class="line-number">941</span><br><span class="line-number">942</span><br><span class="line-number">943</span><br><span class="line-number">944</span><br><span class="line-number">945</span><br><span class="line-number">946</span><br><span class="line-number">947</span><br><span class="line-number">948</span><br><span class="line-number">949</span><br><span class="line-number">950</span><br><span class="line-number">951</span><br><span class="line-number">952</span><br><span class="line-number">953</span><br><span class="line-number">954</span><br><span class="line-number">955</span><br><span class="line-number">956</span><br><span class="line-number">957</span><br><span class="line-number">958</span><br><span class="line-number">959</span><br><span class="line-number">960</span><br><span class="line-number">961</span><br><span class="line-number">962</span><br><span class="line-number">963</span><br><span class="line-number">964</span><br><span class="line-number">965</span><br><span class="line-number">966</span><br><span class="line-number">967</span><br><span class="line-number">968</span><br><span class="line-number">969</span><br><span class="line-number">970</span><br><span class="line-number">971</span><br><span class="line-number">972</span><br><span class="line-number">973</span><br><span class="line-number">974</span><br><span class="line-number">975</span><br><span class="line-number">976</span><br><span class="line-number">977</span><br><span class="line-number">978</span><br><span class="line-number">979</span><br><span class="line-number">980</span><br><span class="line-number">981</span><br><span class="line-number">982</span><br><span class="line-number">983</span><br><span class="line-number">984</span><br><span class="line-number">985</span><br><span class="line-number">986</span><br><span class="line-number">987</span><br><span class="line-number">988</span><br><span class="line-number">989</span><br><span class="line-number">990</span><br><span class="line-number">991</span><br><span class="line-number">992</span><br><span class="line-number">993</span><br><span class="line-number">994</span><br><span class="line-number">995</span><br><span class="line-number">996</span><br><span class="line-number">997</span><br><span class="line-number">998</span><br><span class="line-number">999</span><br><span class="line-number">1000</span><br><span class="line-number">1001</span><br><span class="line-number">1002</span><br><span class="line-number">1003</span><br><span class="line-number">1004</span><br><span class="line-number">1005</span><br><span class="line-number">1006</span><br><span class="line-number">1007</span><br><span class="line-number">1008</span><br><span class="line-number">1009</span><br><span class="line-number">1010</span><br><span class="line-number">1011</span><br><span class="line-number">1012</span><br><span class="line-number">1013</span><br><span class="line-number">1014</span><br><span class="line-number">1015</span><br><span class="line-number">1016</span><br><span class="line-number">1017</span><br><span class="line-number">1018</span><br><span class="line-number">1019</span><br><span class="line-number">1020</span><br><span class="line-number">1021</span><br><span class="line-number">1022</span><br><span class="line-number">1023</span><br><span class="line-number">1024</span><br><span class="line-number">1025</span><br><span class="line-number">1026</span><br><span class="line-number">1027</span><br><span class="line-number">1028</span><br><span class="line-number">1029</span><br><span class="line-number">1030</span><br><span class="line-number">1031</span><br><span class="line-number">1032</span><br><span class="line-number">1033</span><br><span class="line-number">1034</span><br><span class="line-number">1035</span><br><span class="line-number">1036</span><br><span class="line-number">1037</span><br><span class="line-number">1038</span><br><span class="line-number">1039</span><br><span class="line-number">1040</span><br><span class="line-number">1041</span><br><span class="line-number">1042</span><br><span class="line-number">1043</span><br><span class="line-number">1044</span><br><span class="line-number">1045</span><br><span class="line-number">1046</span><br><span class="line-number">1047</span><br><span class="line-number">1048</span><br><span class="line-number">1049</span><br><span class="line-number">1050</span><br><span class="line-number">1051</span><br><span class="line-number">1052</span><br><span class="line-number">1053</span><br><span class="line-number">1054</span><br><span class="line-number">1055</span><br><span class="line-number">1056</span><br><span class="line-number">1057</span><br><span class="line-number">1058</span><br><span class="line-number">1059</span><br><span class="line-number">1060</span><br><span class="line-number">1061</span><br><span class="line-number">1062</span><br><span class="line-number">1063</span><br><span class="line-number">1064</span><br><span class="line-number">1065</span><br><span class="line-number">1066</span><br><span class="line-number">1067</span><br><span class="line-number">1068</span><br><span class="line-number">1069</span><br><span class="line-number">1070</span><br><span class="line-number">1071</span><br><span class="line-number">1072</span><br><span class="line-number">1073</span><br><span class="line-number">1074</span><br><span class="line-number">1075</span><br><span class="line-number">1076</span><br><span class="line-number">1077</span><br><span class="line-number">1078</span><br><span class="line-number">1079</span><br><span class="line-number">1080</span><br><span class="line-number">1081</span><br><span class="line-number">1082</span><br><span class="line-number">1083</span><br><span class="line-number">1084</span><br><span class="line-number">1085</span><br><span class="line-number">1086</span><br><span class="line-number">1087</span><br><span class="line-number">1088</span><br><span class="line-number">1089</span><br><span class="line-number">1090</span><br><span class="line-number">1091</span><br><span class="line-number">1092</span><br><span class="line-number">1093</span><br><span class="line-number">1094</span><br><span class="line-number">1095</span><br><span class="line-number">1096</span><br><span class="line-number">1097</span><br><span class="line-number">1098</span><br><span class="line-number">1099</span><br><span class="line-number">1100</span><br><span class="line-number">1101</span><br><span class="line-number">1102</span><br><span class="line-number">1103</span><br><span class="line-number">1104</span><br><span class="line-number">1105</span><br><span class="line-number">1106</span><br><span class="line-number">1107</span><br><span class="line-number">1108</span><br><span class="line-number">1109</span><br><span class="line-number">1110</span><br><span class="line-number">1111</span><br><span class="line-number">1112</span><br><span class="line-number">1113</span><br><span class="line-number">1114</span><br><span class="line-number">1115</span><br><span class="line-number">1116</span><br><span class="line-number">1117</span><br><span class="line-number">1118</span><br><span class="line-number">1119</span><br><span class="line-number">1120</span><br><span class="line-number">1121</span><br><span class="line-number">1122</span><br><span class="line-number">1123</span><br><span class="line-number">1124</span><br><span class="line-number">1125</span><br><span class="line-number">1126</span><br><span class="line-number">1127</span><br><span class="line-number">1128</span><br><span class="line-number">1129</span><br><span class="line-number">1130</span><br><span class="line-number">1131</span><br><span class="line-number">1132</span><br><span class="line-number">1133</span><br><span class="line-number">1134</span><br><span class="line-number">1135</span><br><span class="line-number">1136</span><br><span class="line-number">1137</span><br><span class="line-number">1138</span><br><span class="line-number">1139</span><br><span class="line-number">1140</span><br><span class="line-number">1141</span><br><span class="line-number">1142</span><br><span class="line-number">1143</span><br><span class="line-number">1144</span><br><span class="line-number">1145</span><br><span class="line-number">1146</span><br><span class="line-number">1147</span><br><span class="line-number">1148</span><br><span class="line-number">1149</span><br><span class="line-number">1150</span><br><span class="line-number">1151</span><br><span class="line-number">1152</span><br><span class="line-number">1153</span><br><span class="line-number">1154</span><br><span class="line-number">1155</span><br><span class="line-number">1156</span><br><span class="line-number">1157</span><br><span class="line-number">1158</span><br><span class="line-number">1159</span><br><span class="line-number">1160</span><br><span class="line-number">1161</span><br><span class="line-number">1162</span><br><span class="line-number">1163</span><br><span class="line-number">1164</span><br><span class="line-number">1165</span><br><span class="line-number">1166</span><br><span class="line-number">1167</span><br><span class="line-number">1168</span><br><span class="line-number">1169</span><br><span class="line-number">1170</span><br><span class="line-number">1171</span><br><span class="line-number">1172</span><br><span class="line-number">1173</span><br><span class="line-number">1174</span><br><span class="line-number">1175</span><br><span class="line-number">1176</span><br><span class="line-number">1177</span><br><span class="line-number">1178</span><br><span class="line-number">1179</span><br><span class="line-number">1180</span><br><span class="line-number">1181</span><br><span class="line-number">1182</span><br><span class="line-number">1183</span><br><span class="line-number">1184</span><br><span class="line-number">1185</span><br><span class="line-number">1186</span><br><span class="line-number">1187</span><br><span class="line-number">1188</span><br><span class="line-number">1189</span><br><span class="line-number">1190</span><br><span class="line-number">1191</span><br><span class="line-number">1192</span><br><span class="line-number">1193</span><br><span class="line-number">1194</span><br><span class="line-number">1195</span><br><span class="line-number">1196</span><br><span class="line-number">1197</span><br><span class="line-number">1198</span><br><span class="line-number">1199</span><br><span class="line-number">1200</span><br><span class="line-number">1201</span><br><span class="line-number">1202</span><br><span class="line-number">1203</span><br><span class="line-number">1204</span><br><span class="line-number">1205</span><br><span class="line-number">1206</span><br><span class="line-number">1207</span><br><span class="line-number">1208</span><br><span class="line-number">1209</span><br><span class="line-number">1210</span><br><span class="line-number">1211</span><br><span class="line-number">1212</span><br><span class="line-number">1213</span><br><span class="line-number">1214</span><br><span class="line-number">1215</span><br><span class="line-number">1216</span><br><span class="line-number">1217</span><br><span class="line-number">1218</span><br><span class="line-number">1219</span><br><span class="line-number">1220</span><br><span class="line-number">1221</span><br><span class="line-number">1222</span><br><span class="line-number">1223</span><br><span class="line-number">1224</span><br><span class="line-number">1225</span><br><span class="line-number">1226</span><br><span class="line-number">1227</span><br><span class="line-number">1228</span><br><span class="line-number">1229</span><br><span class="line-number">1230</span><br><span class="line-number">1231</span><br><span class="line-number">1232</span><br><span class="line-number">1233</span><br><span class="line-number">1234</span><br><span class="line-number">1235</span><br><span class="line-number">1236</span><br><span class="line-number">1237</span><br><span class="line-number">1238</span><br><span class="line-number">1239</span><br><span class="line-number">1240</span><br><span class="line-number">1241</span><br><span class="line-number">1242</span><br><span class="line-number">1243</span><br><span class="line-number">1244</span><br><span class="line-number">1245</span><br><span class="line-number">1246</span><br><span class="line-number">1247</span><br><span class="line-number">1248</span><br><span class="line-number">1249</span><br><span class="line-number">1250</span><br><span class="line-number">1251</span><br><span class="line-number">1252</span><br><span class="line-number">1253</span><br><span class="line-number">1254</span><br><span class="line-number">1255</span><br><span class="line-number">1256</span><br><span class="line-number">1257</span><br><span class="line-number">1258</span><br><span class="line-number">1259</span><br><span class="line-number">1260</span><br><span class="line-number">1261</span><br><span class="line-number">1262</span><br><span class="line-number">1263</span><br><span class="line-number">1264</span><br><span class="line-number">1265</span><br><span class="line-number">1266</span><br><span class="line-number">1267</span><br><span class="line-number">1268</span><br><span class="line-number">1269</span><br><span class="line-number">1270</span><br><span class="line-number">1271</span><br><span class="line-number">1272</span><br><span class="line-number">1273</span><br><span class="line-number">1274</span><br><span class="line-number">1275</span><br><span class="line-number">1276</span><br><span class="line-number">1277</span><br><span class="line-number">1278</span><br><span class="line-number">1279</span><br><span class="line-number">1280</span><br><span class="line-number">1281</span><br><span class="line-number">1282</span><br><span class="line-number">1283</span><br><span class="line-number">1284</span><br><span class="line-number">1285</span><br><span class="line-number">1286</span><br><span class="line-number">1287</span><br><span class="line-number">1288</span><br><span class="line-number">1289</span><br><span class="line-number">1290</span><br><span class="line-number">1291</span><br><span class="line-number">1292</span><br><span class="line-number">1293</span><br><span class="line-number">1294</span><br><span class="line-number">1295</span><br><span class="line-number">1296</span><br><span class="line-number">1297</span><br><span class="line-number">1298</span><br><span class="line-number">1299</span><br><span class="line-number">1300</span><br><span class="line-number">1301</span><br><span class="line-number">1302</span><br><span class="line-number">1303</span><br><span class="line-number">1304</span><br><span class="line-number">1305</span><br><span class="line-number">1306</span><br><span class="line-number">1307</span><br><span class="line-number">1308</span><br><span class="line-number">1309</span><br><span class="line-number">1310</span><br><span class="line-number">1311</span><br><span class="line-number">1312</span><br><span class="line-number">1313</span><br><span class="line-number">1314</span><br><span class="line-number">1315</span><br><span class="line-number">1316</span><br><span class="line-number">1317</span><br><span class="line-number">1318</span><br><span class="line-number">1319</span><br><span class="line-number">1320</span><br><span class="line-number">1321</span><br><span class="line-number">1322</span><br><span class="line-number">1323</span><br><span class="line-number">1324</span><br><span class="line-number">1325</span><br><span class="line-number">1326</span><br><span class="line-number">1327</span><br><span class="line-number">1328</span><br><span class="line-number">1329</span><br><span class="line-number">1330</span><br><span class="line-number">1331</span><br><span class="line-number">1332</span><br><span class="line-number">1333</span><br><span class="line-number">1334</span><br><span class="line-number">1335</span><br><span class="line-number">1336</span><br><span class="line-number">1337</span><br><span class="line-number">1338</span><br><span class="line-number">1339</span><br><span class="line-number">1340</span><br><span class="line-number">1341</span><br><span class="line-number">1342</span><br><span class="line-number">1343</span><br><span class="line-number">1344</span><br><span class="line-number">1345</span><br><span class="line-number">1346</span><br><span class="line-number">1347</span><br><span class="line-number">1348</span><br><span class="line-number">1349</span><br><span class="line-number">1350</span><br><span class="line-number">1351</span><br><span class="line-number">1352</span><br><span class="line-number">1353</span><br><span class="line-number">1354</span><br><span class="line-number">1355</span><br><span class="line-number">1356</span><br><span class="line-number">1357</span><br><span class="line-number">1358</span><br><span class="line-number">1359</span><br><span class="line-number">1360</span><br><span class="line-number">1361</span><br><span class="line-number">1362</span><br><span class="line-number">1363</span><br><span class="line-number">1364</span><br><span class="line-number">1365</span><br><span class="line-number">1366</span><br><span class="line-number">1367</span><br><span class="line-number">1368</span><br><span class="line-number">1369</span><br><span class="line-number">1370</span><br><span class="line-number">1371</span><br><span class="line-number">1372</span><br><span class="line-number">1373</span><br><span class="line-number">1374</span><br><span class="line-number">1375</span><br><span class="line-number">1376</span><br><span class="line-number">1377</span><br><span class="line-number">1378</span><br><span class="line-number">1379</span><br><span class="line-number">1380</span><br><span class="line-number">1381</span><br><span class="line-number">1382</span><br><span class="line-number">1383</span><br><span class="line-number">1384</span><br><span class="line-number">1385</span><br><span class="line-number">1386</span><br><span class="line-number">1387</span><br><span class="line-number">1388</span><br><span class="line-number">1389</span><br><span class="line-number">1390</span><br><span class="line-number">1391</span><br><span class="line-number">1392</span><br><span class="line-number">1393</span><br><span class="line-number">1394</span><br><span class="line-number">1395</span><br><span class="line-number">1396</span><br><span class="line-number">1397</span><br><span class="line-number">1398</span><br><span class="line-number">1399</span><br><span class="line-number">1400</span><br><span class="line-number">1401</span><br><span class="line-number">1402</span><br><span class="line-number">1403</span><br><span class="line-number">1404</span><br><span class="line-number">1405</span><br><span class="line-number">1406</span><br><span class="line-number">1407</span><br><span class="line-number">1408</span><br><span class="line-number">1409</span><br><span class="line-number">1410</span><br><span class="line-number">1411</span><br><span class="line-number">1412</span><br><span class="line-number">1413</span><br><span class="line-number">1414</span><br><span class="line-number">1415</span><br><span class="line-number">1416</span><br><span class="line-number">1417</span><br><span class="line-number">1418</span><br><span class="line-number">1419</span><br><span class="line-number">1420</span><br><span class="line-number">1421</span><br><span class="line-number">1422</span><br><span class="line-number">1423</span><br><span class="line-number">1424</span><br><span class="line-number">1425</span><br><span class="line-number">1426</span><br><span class="line-number">1427</span><br><span class="line-number">1428</span><br><span class="line-number">1429</span><br><span class="line-number">1430</span><br><span class="line-number">1431</span><br><span class="line-number">1432</span><br><span class="line-number">1433</span><br><span class="line-number">1434</span><br><span class="line-number">1435</span><br><span class="line-number">1436</span><br><span class="line-number">1437</span><br><span class="line-number">1438</span><br><span class="line-number">1439</span><br><span class="line-number">1440</span><br><span class="line-number">1441</span><br><span class="line-number">1442</span><br><span class="line-number">1443</span><br><span class="line-number">1444</span><br><span class="line-number">1445</span><br><span class="line-number">1446</span><br><span class="line-number">1447</span><br><span class="line-number">1448</span><br><span class="line-number">1449</span><br><span class="line-number">1450</span><br><span class="line-number">1451</span><br><span class="line-number">1452</span><br><span class="line-number">1453</span><br><span class="line-number">1454</span><br><span class="line-number">1455</span><br><span class="line-number">1456</span><br><span class="line-number">1457</span><br><span class="line-number">1458</span><br><span class="line-number">1459</span><br><span class="line-number">1460</span><br><span class="line-number">1461</span><br><span class="line-number">1462</span><br><span class="line-number">1463</span><br><span class="line-number">1464</span><br><span class="line-number">1465</span><br><span class="line-number">1466</span><br><span class="line-number">1467</span><br><span class="line-number">1468</span><br><span class="line-number">1469</span><br><span class="line-number">1470</span><br><span class="line-number">1471</span><br><span class="line-number">1472</span><br><span class="line-number">1473</span><br><span class="line-number">1474</span><br><span class="line-number">1475</span><br><span class="line-number">1476</span><br><span class="line-number">1477</span><br><span class="line-number">1478</span><br><span class="line-number">1479</span><br><span class="line-number">1480</span><br><span class="line-number">1481</span><br><span class="line-number">1482</span><br><span class="line-number">1483</span><br><span class="line-number">1484</span><br><span class="line-number">1485</span><br><span class="line-number">1486</span><br><span class="line-number">1487</span><br><span class="line-number">1488</span><br><span class="line-number">1489</span><br><span class="line-number">1490</span><br><span class="line-number">1491</span><br><span class="line-number">1492</span><br><span class="line-number">1493</span><br><span class="line-number">1494</span><br><span class="line-number">1495</span><br><span class="line-number">1496</span><br><span class="line-number">1497</span><br><span class="line-number">1498</span><br><span class="line-number">1499</span><br><span class="line-number">1500</span><br><span class="line-number">1501</span><br><span class="line-number">1502</span><br><span class="line-number">1503</span><br><span class="line-number">1504</span><br><span class="line-number">1505</span><br><span class="line-number">1506</span><br><span class="line-number">1507</span><br><span class="line-number">1508</span><br><span class="line-number">1509</span><br><span class="line-number">1510</span><br><span class="line-number">1511</span><br><span class="line-number">1512</span><br><span class="line-number">1513</span><br><span class="line-number">1514</span><br><span class="line-number">1515</span><br><span class="line-number">1516</span><br><span class="line-number">1517</span><br><span class="line-number">1518</span><br><span class="line-number">1519</span><br><span class="line-number">1520</span><br><span class="line-number">1521</span><br><span class="line-number">1522</span><br><span class="line-number">1523</span><br><span class="line-number">1524</span><br><span class="line-number">1525</span><br><span class="line-number">1526</span><br><span class="line-number">1527</span><br><span class="line-number">1528</span><br><span class="line-number">1529</span><br><span class="line-number">1530</span><br><span class="line-number">1531</span><br><span class="line-number">1532</span><br><span class="line-number">1533</span><br><span class="line-number">1534</span><br><span class="line-number">1535</span><br><span class="line-number">1536</span><br><span class="line-number">1537</span><br><span class="line-number">1538</span><br><span class="line-number">1539</span><br><span class="line-number">1540</span><br><span class="line-number">1541</span><br><span class="line-number">1542</span><br><span class="line-number">1543</span><br><span class="line-number">1544</span><br><span class="line-number">1545</span><br><span class="line-number">1546</span><br><span class="line-number">1547</span><br><span class="line-number">1548</span><br><span class="line-number">1549</span><br><span class="line-number">1550</span><br><span class="line-number">1551</span><br><span class="line-number">1552</span><br><span class="line-number">1553</span><br><span class="line-number">1554</span><br><span class="line-number">1555</span><br><span class="line-number">1556</span><br><span class="line-number">1557</span><br><span class="line-number">1558</span><br><span class="line-number">1559</span><br><span class="line-number">1560</span><br><span class="line-number">1561</span><br><span class="line-number">1562</span><br><span class="line-number">1563</span><br><span class="line-number">1564</span><br><span class="line-number">1565</span><br><span class="line-number">1566</span><br><span class="line-number">1567</span><br><span class="line-number">1568</span><br><span class="line-number">1569</span><br><span class="line-number">1570</span><br><span class="line-number">1571</span><br><span class="line-number">1572</span><br><span class="line-number">1573</span><br><span class="line-number">1574</span><br><span class="line-number">1575</span><br><span class="line-number">1576</span><br><span class="line-number">1577</span><br><span class="line-number">1578</span><br><span class="line-number">1579</span><br><span class="line-number">1580</span><br><span class="line-number">1581</span><br><span class="line-number">1582</span><br><span class="line-number">1583</span><br><span class="line-number">1584</span><br><span class="line-number">1585</span><br><span class="line-number">1586</span><br><span class="line-number">1587</span><br><span class="line-number">1588</span><br><span class="line-number">1589</span><br><span class="line-number">1590</span><br><span class="line-number">1591</span><br><span class="line-number">1592</span><br><span class="line-number">1593</span><br><span class="line-number">1594</span><br><span class="line-number">1595</span><br><span class="line-number">1596</span><br><span class="line-number">1597</span><br><span class="line-number">1598</span><br><span class="line-number">1599</span><br><span class="line-number">1600</span><br><span class="line-number">1601</span><br><span class="line-number">1602</span><br><span class="line-number">1603</span><br><span class="line-number">1604</span><br><span class="line-number">1605</span><br><span class="line-number">1606</span><br><span class="line-number">1607</span><br><span class="line-number">1608</span><br><span class="line-number">1609</span><br><span class="line-number">1610</span><br><span class="line-number">1611</span><br><span class="line-number">1612</span><br><span class="line-number">1613</span><br><span class="line-number">1614</span><br><span class="line-number">1615</span><br><span class="line-number">1616</span><br><span class="line-number">1617</span><br><span class="line-number">1618</span><br><span class="line-number">1619</span><br><span class="line-number">1620</span><br><span class="line-number">1621</span><br><span class="line-number">1622</span><br><span class="line-number">1623</span><br><span class="line-number">1624</span><br><span class="line-number">1625</span><br><span class="line-number">1626</span><br><span class="line-number">1627</span><br><span class="line-number">1628</span><br><span class="line-number">1629</span><br><span class="line-number">1630</span><br><span class="line-number">1631</span><br><span class="line-number">1632</span><br><span class="line-number">1633</span><br><span class="line-number">1634</span><br><span class="line-number">1635</span><br><span class="line-number">1636</span><br><span class="line-number">1637</span><br><span class="line-number">1638</span><br><span class="line-number">1639</span><br><span class="line-number">1640</span><br><span class="line-number">1641</span><br><span class="line-number">1642</span><br><span class="line-number">1643</span><br><span class="line-number">1644</span><br><span class="line-number">1645</span><br><span class="line-number">1646</span><br><span class="line-number">1647</span><br><span class="line-number">1648</span><br><span class="line-number">1649</span><br><span class="line-number">1650</span><br><span class="line-number">1651</span><br><span class="line-number">1652</span><br><span class="line-number">1653</span><br><span class="line-number">1654</span><br><span class="line-number">1655</span><br><span class="line-number">1656</span><br><span class="line-number">1657</span><br><span class="line-number">1658</span><br><span class="line-number">1659</span><br><span class="line-number">1660</span><br><span class="line-number">1661</span><br><span class="line-number">1662</span><br><span class="line-number">1663</span><br><span class="line-number">1664</span><br><span class="line-number">1665</span><br><span class="line-number">1666</span><br><span class="line-number">1667</span><br><span class="line-number">1668</span><br><span class="line-number">1669</span><br><span class="line-number">1670</span><br><span class="line-number">1671</span><br><span class="line-number">1672</span><br><span class="line-number">1673</span><br><span class="line-number">1674</span><br><span class="line-number">1675</span><br><span class="line-number">1676</span><br><span class="line-number">1677</span><br><span class="line-number">1678</span><br><span class="line-number">1679</span><br><span class="line-number">1680</span><br><span class="line-number">1681</span><br><span class="line-number">1682</span><br><span class="line-number">1683</span><br><span class="line-number">1684</span><br><span class="line-number">1685</span><br><span class="line-number">1686</span><br><span class="line-number">1687</span><br><span class="line-number">1688</span><br><span class="line-number">1689</span><br><span class="line-number">1690</span><br><span class="line-number">1691</span><br><span class="line-number">1692</span><br><span class="line-number">1693</span><br><span class="line-number">1694</span><br><span class="line-number">1695</span><br><span class="line-number">1696</span><br><span class="line-number">1697</span><br><span class="line-number">1698</span><br><span class="line-number">1699</span><br><span class="line-number">1700</span><br><span class="line-number">1701</span><br><span class="line-number">1702</span><br><span class="line-number">1703</span><br><span class="line-number">1704</span><br><span class="line-number">1705</span><br><span class="line-number">1706</span><br><span class="line-number">1707</span><br><span class="line-number">1708</span><br><span class="line-number">1709</span><br><span class="line-number">1710</span><br><span class="line-number">1711</span><br><span class="line-number">1712</span><br><span class="line-number">1713</span><br><span class="line-number">1714</span><br><span class="line-number">1715</span><br><span class="line-number">1716</span><br><span class="line-number">1717</span><br><span class="line-number">1718</span><br><span class="line-number">1719</span><br><span class="line-number">1720</span><br><span class="line-number">1721</span><br><span class="line-number">1722</span><br><span class="line-number">1723</span><br><span class="line-number">1724</span><br><span class="line-number">1725</span><br><span class="line-number">1726</span><br><span class="line-number">1727</span><br><span class="line-number">1728</span><br><span class="line-number">1729</span><br><span class="line-number">1730</span><br><span class="line-number">1731</span><br><span class="line-number">1732</span><br><span class="line-number">1733</span><br><span class="line-number">1734</span><br><span class="line-number">1735</span><br><span class="line-number">1736</span><br><span class="line-number">1737</span><br><span class="line-number">1738</span><br><span class="line-number">1739</span><br><span class="line-number">1740</span><br><span class="line-number">1741</span><br><span class="line-number">1742</span><br><span class="line-number">1743</span><br><span class="line-number">1744</span><br><span class="line-number">1745</span><br><span class="line-number">1746</span><br><span class="line-number">1747</span><br><span class="line-number">1748</span><br><span class="line-number">1749</span><br><span class="line-number">1750</span><br><span class="line-number">1751</span><br><span class="line-number">1752</span><br><span class="line-number">1753</span><br><span class="line-number">1754</span><br><span class="line-number">1755</span><br><span class="line-number">1756</span><br><span class="line-number">1757</span><br><span class="line-number">1758</span><br><span class="line-number">1759</span><br><span class="line-number">1760</span><br><span class="line-number">1761</span><br><span class="line-number">1762</span><br><span class="line-number">1763</span><br><span class="line-number">1764</span><br><span class="line-number">1765</span><br><span class="line-number">1766</span><br><span class="line-number">1767</span><br><span class="line-number">1768</span><br><span class="line-number">1769</span><br><span class="line-number">1770</span><br><span class="line-number">1771</span><br><span class="line-number">1772</span><br><span class="line-number">1773</span><br><span class="line-number">1774</span><br><span class="line-number">1775</span><br><span class="line-number">1776</span><br><span class="line-number">1777</span><br><span class="line-number">1778</span><br><span class="line-number">1779</span><br><span class="line-number">1780</span><br><span class="line-number">1781</span><br><span class="line-number">1782</span><br><span class="line-number">1783</span><br><span class="line-number">1784</span><br><span class="line-number">1785</span><br><span class="line-number">1786</span><br><span class="line-number">1787</span><br><span class="line-number">1788</span><br><span class="line-number">1789</span><br><span class="line-number">1790</span><br><span class="line-number">1791</span><br><span class="line-number">1792</span><br><span class="line-number">1793</span><br><span class="line-number">1794</span><br><span class="line-number">1795</span><br><span class="line-number">1796</span><br><span class="line-number">1797</span><br><span class="line-number">1798</span><br><span class="line-number">1799</span><br><span class="line-number">1800</span><br><span class="line-number">1801</span><br><span class="line-number">1802</span><br><span class="line-number">1803</span><br><span class="line-number">1804</span><br><span class="line-number">1805</span><br><span class="line-number">1806</span><br><span class="line-number">1807</span><br><span class="line-number">1808</span><br><span class="line-number">1809</span><br><span class="line-number">1810</span><br><span class="line-number">1811</span><br><span class="line-number">1812</span><br><span class="line-number">1813</span><br><span class="line-number">1814</span><br><span class="line-number">1815</span><br><span class="line-number">1816</span><br><span class="line-number">1817</span><br><span class="line-number">1818</span><br><span class="line-number">1819</span><br><span class="line-number">1820</span><br><span class="line-number">1821</span><br><span class="line-number">1822</span><br><span class="line-number">1823</span><br><span class="line-number">1824</span><br><span class="line-number">1825</span><br><span class="line-number">1826</span><br><span class="line-number">1827</span><br><span class="line-number">1828</span><br><span class="line-number">1829</span><br><span class="line-number">1830</span><br><span class="line-number">1831</span><br><span class="line-number">1832</span><br><span class="line-number">1833</span><br><span class="line-number">1834</span><br><span class="line-number">1835</span><br><span class="line-number">1836</span><br><span class="line-number">1837</span><br><span class="line-number">1838</span><br><span class="line-number">1839</span><br><span class="line-number">1840</span><br><span class="line-number">1841</span><br><span class="line-number">1842</span><br><span class="line-number">1843</span><br><span class="line-number">1844</span><br><span class="line-number">1845</span><br><span class="line-number">1846</span><br><span class="line-number">1847</span><br><span class="line-number">1848</span><br><span class="line-number">1849</span><br><span class="line-number">1850</span><br><span class="line-number">1851</span><br><span class="line-number">1852</span><br><span class="line-number">1853</span><br><span class="line-number">1854</span><br><span class="line-number">1855</span><br><span class="line-number">1856</span><br><span class="line-number">1857</span><br><span class="line-number">1858</span><br><span class="line-number">1859</span><br><span class="line-number">1860</span><br><span class="line-number">1861</span><br><span class="line-number">1862</span><br><span class="line-number">1863</span><br><span class="line-number">1864</span><br><span class="line-number">1865</span><br><span class="line-number">1866</span><br><span class="line-number">1867</span><br><span class="line-number">1868</span><br><span class="line-number">1869</span><br><span class="line-number">1870</span><br><span class="line-number">1871</span><br><span class="line-number">1872</span><br><span class="line-number">1873</span><br><span class="line-number">1874</span><br><span class="line-number">1875</span><br><span class="line-number">1876</span><br><span class="line-number">1877</span><br><span class="line-number">1878</span><br><span class="line-number">1879</span><br><span class="line-number">1880</span><br><span class="line-number">1881</span><br><span class="line-number">1882</span><br><span class="line-number">1883</span><br><span class="line-number">1884</span><br><span class="line-number">1885</span><br><span class="line-number">1886</span><br><span class="line-number">1887</span><br><span class="line-number">1888</span><br><span class="line-number">1889</span><br><span class="line-number">1890</span><br><span class="line-number">1891</span><br><span class="line-number">1892</span><br><span class="line-number">1893</span><br><span class="line-number">1894</span><br><span class="line-number">1895</span><br><span class="line-number">1896</span><br><span class="line-number">1897</span><br><span class="line-number">1898</span><br><span class="line-number">1899</span><br><span class="line-number">1900</span><br><span class="line-number">1901</span><br><span class="line-number">1902</span><br><span class="line-number">1903</span><br><span class="line-number">1904</span><br><span class="line-number">1905</span><br><span class="line-number">1906</span><br><span class="line-number">1907</span><br><span class="line-number">1908</span><br><span class="line-number">1909</span><br><span class="line-number">1910</span><br><span class="line-number">1911</span><br><span class="line-number">1912</span><br><span class="line-number">1913</span><br><span class="line-number">1914</span><br><span class="line-number">1915</span><br><span class="line-number">1916</span><br><span class="line-number">1917</span><br><span class="line-number">1918</span><br><span class="line-number">1919</span><br><span class="line-number">1920</span><br><span class="line-number">1921</span><br><span class="line-number">1922</span><br><span class="line-number">1923</span><br><span class="line-number">1924</span><br><span class="line-number">1925</span><br><span class="line-number">1926</span><br><span class="line-number">1927</span><br><span class="line-number">1928</span><br><span class="line-number">1929</span><br><span class="line-number">1930</span><br><span class="line-number">1931</span><br><span class="line-number">1932</span><br><span class="line-number">1933</span><br><span class="line-number">1934</span><br><span class="line-number">1935</span><br><span class="line-number">1936</span><br><span class="line-number">1937</span><br><span class="line-number">1938</span><br><span class="line-number">1939</span><br><span class="line-number">1940</span><br><span class="line-number">1941</span><br><span class="line-number">1942</span><br><span class="line-number">1943</span><br><span class="line-number">1944</span><br><span class="line-number">1945</span><br><span class="line-number">1946</span><br><span class="line-number">1947</span><br><span class="line-number">1948</span><br><span class="line-number">1949</span><br><span class="line-number">1950</span><br><span class="line-number">1951</span><br><span class="line-number">1952</span><br><span class="line-number">1953</span><br><span class="line-number">1954</span><br><span class="line-number">1955</span><br><span class="line-number">1956</span><br><span class="line-number">1957</span><br><span class="line-number">1958</span><br><span class="line-number">1959</span><br><span class="line-number">1960</span><br><span class="line-number">1961</span><br><span class="line-number">1962</span><br><span class="line-number">1963</span><br><span class="line-number">1964</span><br><span class="line-number">1965</span><br><span class="line-number">1966</span><br><span class="line-number">1967</span><br><span class="line-number">1968</span><br><span class="line-number">1969</span><br><span class="line-number">1970</span><br><span class="line-number">1971</span><br><span class="line-number">1972</span><br><span class="line-number">1973</span><br><span class="line-number">1974</span><br><span class="line-number">1975</span><br><span class="line-number">1976</span><br><span class="line-number">1977</span><br><span class="line-number">1978</span><br><span class="line-number">1979</span><br><span class="line-number">1980</span><br><span class="line-number">1981</span><br><span class="line-number">1982</span><br><span class="line-number">1983</span><br><span class="line-number">1984</span><br><span class="line-number">1985</span><br><span class="line-number">1986</span><br><span class="line-number">1987</span><br><span class="line-number">1988</span><br><span class="line-number">1989</span><br><span class="line-number">1990</span><br><span class="line-number">1991</span><br><span class="line-number">1992</span><br><span class="line-number">1993</span><br><span class="line-number">1994</span><br><span class="line-number">1995</span><br><span class="line-number">1996</span><br><span class="line-number">1997</span><br><span class="line-number">1998</span><br><span class="line-number">1999</span><br><span class="line-number">2000</span><br><span class="line-number">2001</span><br><span class="line-number">2002</span><br><span class="line-number">2003</span><br><span class="line-number">2004</span><br><span class="line-number">2005</span><br><span class="line-number">2006</span><br><span class="line-number">2007</span><br><span class="line-number">2008</span><br><span class="line-number">2009</span><br><span class="line-number">2010</span><br><span class="line-number">2011</span><br><span class="line-number">2012</span><br><span class="line-number">2013</span><br><span class="line-number">2014</span><br><span class="line-number">2015</span><br><span class="line-number">2016</span><br><span class="line-number">2017</span><br><span class="line-number">2018</span><br><span class="line-number">2019</span><br><span class="line-number">2020</span><br><span class="line-number">2021</span><br><span class="line-number">2022</span><br><span class="line-number">2023</span><br><span class="line-number">2024</span><br><span class="line-number">2025</span><br><span class="line-number">2026</span><br><span class="line-number">2027</span><br><span class="line-number">2028</span><br><span class="line-number">2029</span><br><span class="line-number">2030</span><br><span class="line-number">2031</span><br><span class="line-number">2032</span><br><span class="line-number">2033</span><br><span class="line-number">2034</span><br><span class="line-number">2035</span><br><span class="line-number">2036</span><br><span class="line-number">2037</span><br><span class="line-number">2038</span><br><span class="line-number">2039</span><br><span class="line-number">2040</span><br><span class="line-number">2041</span><br><span class="line-number">2042</span><br><span class="line-number">2043</span><br><span class="line-number">2044</span><br><span class="line-number">2045</span><br><span class="line-number">2046</span><br><span class="line-number">2047</span><br><span class="line-number">2048</span><br><span class="line-number">2049</span><br><span class="line-number">2050</span><br><span class="line-number">2051</span><br><span class="line-number">2052</span><br><span class="line-number">2053</span><br><span class="line-number">2054</span><br><span class="line-number">2055</span><br><span class="line-number">2056</span><br><span class="line-number">2057</span><br><span class="line-number">2058</span><br><span class="line-number">2059</span><br><span class="line-number">2060</span><br><span class="line-number">2061</span><br><span class="line-number">2062</span><br><span class="line-number">2063</span><br><span class="line-number">2064</span><br><span class="line-number">2065</span><br><span class="line-number">2066</span><br><span class="line-number">2067</span><br><span class="line-number">2068</span><br><span class="line-number">2069</span><br><span class="line-number">2070</span><br><span class="line-number">2071</span><br><span class="line-number">2072</span><br><span class="line-number">2073</span><br><span class="line-number">2074</span><br><span class="line-number">2075</span><br><span class="line-number">2076</span><br><span class="line-number">2077</span><br><span class="line-number">2078</span><br><span class="line-number">2079</span><br><span class="line-number">2080</span><br><span class="line-number">2081</span><br><span class="line-number">2082</span><br><span class="line-number">2083</span><br><span class="line-number">2084</span><br><span class="line-number">2085</span><br><span class="line-number">2086</span><br><span class="line-number">2087</span><br><span class="line-number">2088</span><br><span class="line-number">2089</span><br><span class="line-number">2090</span><br><span class="line-number">2091</span><br><span class="line-number">2092</span><br><span class="line-number">2093</span><br><span class="line-number">2094</span><br><span class="line-number">2095</span><br><span class="line-number">2096</span><br><span class="line-number">2097</span><br><span class="line-number">2098</span><br><span class="line-number">2099</span><br><span class="line-number">2100</span><br><span class="line-number">2101</span><br><span class="line-number">2102</span><br><span class="line-number">2103</span><br><span class="line-number">2104</span><br><span class="line-number">2105</span><br><span class="line-number">2106</span><br><span class="line-number">2107</span><br><span class="line-number">2108</span><br><span class="line-number">2109</span><br><span class="line-number">2110</span><br><span class="line-number">2111</span><br><span class="line-number">2112</span><br><span class="line-number">2113</span><br><span class="line-number">2114</span><br><span class="line-number">2115</span><br><span class="line-number">2116</span><br><span class="line-number">2117</span><br><span class="line-number">2118</span><br><span class="line-number">2119</span><br><span class="line-number">2120</span><br><span class="line-number">2121</span><br><span class="line-number">2122</span><br><span class="line-number">2123</span><br><span class="line-number">2124</span><br><span class="line-number">2125</span><br><span class="line-number">2126</span><br><span class="line-number">2127</span><br><span class="line-number">2128</span><br><span class="line-number">2129</span><br><span class="line-number">2130</span><br><span class="line-number">2131</span><br><span class="line-number">2132</span><br><span class="line-number">2133</span><br><span class="line-number">2134</span><br><span class="line-number">2135</span><br><span class="line-number">2136</span><br><span class="line-number">2137</span><br><span class="line-number">2138</span><br><span class="line-number">2139</span><br><span class="line-number">2140</span><br><span class="line-number">2141</span><br><span class="line-number">2142</span><br><span class="line-number">2143</span><br><span class="line-number">2144</span><br><span class="line-number">2145</span><br><span class="line-number">2146</span><br><span class="line-number">2147</span><br><span class="line-number">2148</span><br><span class="line-number">2149</span><br><span class="line-number">2150</span><br><span class="line-number">2151</span><br><span class="line-number">2152</span><br><span class="line-number">2153</span><br><span class="line-number">2154</span><br><span class="line-number">2155</span><br><span class="line-number">2156</span><br><span class="line-number">2157</span><br><span class="line-number">2158</span><br><span class="line-number">2159</span><br><span class="line-number">2160</span><br><span class="line-number">2161</span><br><span class="line-number">2162</span><br><span class="line-number">2163</span><br><span class="line-number">2164</span><br><span class="line-number">2165</span><br><span class="line-number">2166</span><br><span class="line-number">2167</span><br><span class="line-number">2168</span><br><span class="line-number">2169</span><br><span class="line-number">2170</span><br><span class="line-number">2171</span><br><span class="line-number">2172</span><br><span class="line-number">2173</span><br><span class="line-number">2174</span><br><span class="line-number">2175</span><br><span class="line-number">2176</span><br><span class="line-number">2177</span><br><span class="line-number">2178</span><br><span class="line-number">2179</span><br><span class="line-number">2180</span><br><span class="line-number">2181</span><br><span class="line-number">2182</span><br><span class="line-number">2183</span><br><span class="line-number">2184</span><br><span class="line-number">2185</span><br><span class="line-number">2186</span><br><span class="line-number">2187</span><br><span class="line-number">2188</span><br><span class="line-number">2189</span><br><span class="line-number">2190</span><br><span class="line-number">2191</span><br><span class="line-number">2192</span><br><span class="line-number">2193</span><br><span class="line-number">2194</span><br><span class="line-number">2195</span><br><span class="line-number">2196</span><br><span class="line-number">2197</span><br><span class="line-number">2198</span><br><span class="line-number">2199</span><br><span class="line-number">2200</span><br><span class="line-number">2201</span><br><span class="line-number">2202</span><br><span class="line-number">2203</span><br><span class="line-number">2204</span><br><span class="line-number">2205</span><br><span class="line-number">2206</span><br><span class="line-number">2207</span><br><span class="line-number">2208</span><br><span class="line-number">2209</span><br><span class="line-number">2210</span><br><span class="line-number">2211</span><br><span class="line-number">2212</span><br><span class="line-number">2213</span><br><span class="line-number">2214</span><br><span class="line-number">2215</span><br><span class="line-number">2216</span><br><span class="line-number">2217</span><br><span class="line-number">2218</span><br><span class="line-number">2219</span><br><span class="line-number">2220</span><br><span class="line-number">2221</span><br><span class="line-number">2222</span><br><span class="line-number">2223</span><br><span class="line-number">2224</span><br><span class="line-number">2225</span><br><span class="line-number">2226</span><br><span class="line-number">2227</span><br><span class="line-number">2228</span><br><span class="line-number">2229</span><br><span class="line-number">2230</span><br><span class="line-number">2231</span><br><span class="line-number">2232</span><br><span class="line-number">2233</span><br><span class="line-number">2234</span><br><span class="line-number">2235</span><br><span class="line-number">2236</span><br><span class="line-number">2237</span><br><span class="line-number">2238</span><br><span class="line-number">2239</span><br><span class="line-number">2240</span><br><span class="line-number">2241</span><br><span class="line-number">2242</span><br><span class="line-number">2243</span><br><span class="line-number">2244</span><br><span class="line-number">2245</span><br><span class="line-number">2246</span><br><span class="line-number">2247</span><br><span class="line-number">2248</span><br><span class="line-number">2249</span><br><span class="line-number">2250</span><br><span class="line-number">2251</span><br><span class="line-number">2252</span><br><span class="line-number">2253</span><br><span class="line-number">2254</span><br><span class="line-number">2255</span><br><span class="line-number">2256</span><br><span class="line-number">2257</span><br><span class="line-number">2258</span><br><span class="line-number">2259</span><br><span class="line-number">2260</span><br><span class="line-number">2261</span><br><span class="line-number">2262</span><br><span class="line-number">2263</span><br><span class="line-number">2264</span><br><span class="line-number">2265</span><br><span class="line-number">2266</span><br><span class="line-number">2267</span><br><span class="line-number">2268</span><br><span class="line-number">2269</span><br><span class="line-number">2270</span><br><span class="line-number">2271</span><br><span class="line-number">2272</span><br><span class="line-number">2273</span><br><span class="line-number">2274</span><br><span class="line-number">2275</span><br><span class="line-number">2276</span><br><span class="line-number">2277</span><br><span class="line-number">2278</span><br><span class="line-number">2279</span><br><span class="line-number">2280</span><br><span class="line-number">2281</span><br><span class="line-number">2282</span><br><span class="line-number">2283</span><br><span class="line-number">2284</span><br><span class="line-number">2285</span><br><span class="line-number">2286</span><br><span class="line-number">2287</span><br><span class="line-number">2288</span><br><span class="line-number">2289</span><br><span class="line-number">2290</span><br><span class="line-number">2291</span><br><span class="line-number">2292</span><br><span class="line-number">2293</span><br><span class="line-number">2294</span><br><span class="line-number">2295</span><br><span class="line-number">2296</span><br><span class="line-number">2297</span><br><span class="line-number">2298</span><br><span class="line-number">2299</span><br><span class="line-number">2300</span><br><span class="line-number">2301</span><br><span class="line-number">2302</span><br><span class="line-number">2303</span><br><span class="line-number">2304</span><br><span class="line-number">2305</span><br><span class="line-number">2306</span><br><span class="line-number">2307</span><br><span class="line-number">2308</span><br><span class="line-number">2309</span><br><span class="line-number">2310</span><br><span class="line-number">2311</span><br><span class="line-number">2312</span><br><span class="line-number">2313</span><br><span class="line-number">2314</span><br><span class="line-number">2315</span><br><span class="line-number">2316</span><br><span class="line-number">2317</span><br><span class="line-number">2318</span><br><span class="line-number">2319</span><br><span class="line-number">2320</span><br><span class="line-number">2321</span><br><span class="line-number">2322</span><br><span class="line-number">2323</span><br><span class="line-number">2324</span><br><span class="line-number">2325</span><br><span class="line-number">2326</span><br><span class="line-number">2327</span><br><span class="line-number">2328</span><br><span class="line-number">2329</span><br><span class="line-number">2330</span><br><span class="line-number">2331</span><br><span class="line-number">2332</span><br><span class="line-number">2333</span><br><span class="line-number">2334</span><br><span class="line-number">2335</span><br><span class="line-number">2336</span><br><span class="line-number">2337</span><br><span class="line-number">2338</span><br><span class="line-number">2339</span><br><span class="line-number">2340</span><br><span class="line-number">2341</span><br><span class="line-number">2342</span><br><span class="line-number">2343</span><br><span class="line-number">2344</span><br><span class="line-number">2345</span><br><span class="line-number">2346</span><br><span class="line-number">2347</span><br><span class="line-number">2348</span><br><span class="line-number">2349</span><br><span class="line-number">2350</span><br><span class="line-number">2351</span><br><span class="line-number">2352</span><br><span class="line-number">2353</span><br><span class="line-number">2354</span><br><span class="line-number">2355</span><br><span class="line-number">2356</span><br><span class="line-number">2357</span><br><span class="line-number">2358</span><br><span class="line-number">2359</span><br><span class="line-number">2360</span><br><span class="line-number">2361</span><br><span class="line-number">2362</span><br><span class="line-number">2363</span><br><span class="line-number">2364</span><br><span class="line-number">2365</span><br><span class="line-number">2366</span><br><span class="line-number">2367</span><br><span class="line-number">2368</span><br><span class="line-number">2369</span><br><span class="line-number">2370</span><br><span class="line-number">2371</span><br><span class="line-number">2372</span><br><span class="line-number">2373</span><br><span class="line-number">2374</span><br><span class="line-number">2375</span><br><span class="line-number">2376</span><br><span class="line-number">2377</span><br><span class="line-number">2378</span><br><span class="line-number">2379</span><br><span class="line-number">2380</span><br><span class="line-number">2381</span><br><span class="line-number">2382</span><br><span class="line-number">2383</span><br><span class="line-number">2384</span><br><span class="line-number">2385</span><br><span class="line-number">2386</span><br><span class="line-number">2387</span><br><span class="line-number">2388</span><br><span class="line-number">2389</span><br><span class="line-number">2390</span><br><span class="line-number">2391</span><br><span class="line-number">2392</span><br><span class="line-number">2393</span><br><span class="line-number">2394</span><br><span class="line-number">2395</span><br><span class="line-number">2396</span><br><span class="line-number">2397</span><br><span class="line-number">2398</span><br><span class="line-number">2399</span><br><span class="line-number">2400</span><br><span class="line-number">2401</span><br><span class="line-number">2402</span><br><span class="line-number">2403</span><br><span class="line-number">2404</span><br><span class="line-number">2405</span><br><span class="line-number">2406</span><br><span class="line-number">2407</span><br><span class="line-number">2408</span><br><span class="line-number">2409</span><br><span class="line-number">2410</span><br><span class="line-number">2411</span><br><span class="line-number">2412</span><br><span class="line-number">2413</span><br><span class="line-number">2414</span><br><span class="line-number">2415</span><br><span class="line-number">2416</span><br><span class="line-number">2417</span><br><span class="line-number">2418</span><br><span class="line-number">2419</span><br><span class="line-number">2420</span><br><span class="line-number">2421</span><br><span class="line-number">2422</span><br><span class="line-number">2423</span><br><span class="line-number">2424</span><br><span class="line-number">2425</span><br><span class="line-number">2426</span><br><span class="line-number">2427</span><br><span class="line-number">2428</span><br><span class="line-number">2429</span><br><span class="line-number">2430</span><br><span class="line-number">2431</span><br><span class="line-number">2432</span><br><span class="line-number">2433</span><br><span class="line-number">2434</span><br><span class="line-number">2435</span><br><span class="line-number">2436</span><br><span class="line-number">2437</span><br><span class="line-number">2438</span><br><span class="line-number">2439</span><br><span class="line-number">2440</span><br><span class="line-number">2441</span><br><span class="line-number">2442</span><br><span class="line-number">2443</span><br><span class="line-number">2444</span><br><span class="line-number">2445</span><br><span class="line-number">2446</span><br><span class="line-number">2447</span><br><span class="line-number">2448</span><br><span class="line-number">2449</span><br><span class="line-number">2450</span><br><span class="line-number">2451</span><br><span class="line-number">2452</span><br><span class="line-number">2453</span><br><span class="line-number">2454</span><br><span class="line-number">2455</span><br><span class="line-number">2456</span><br><span class="line-number">2457</span><br><span class="line-number">2458</span><br><span class="line-number">2459</span><br><span class="line-number">2460</span><br><span class="line-number">2461</span><br><span class="line-number">2462</span><br><span class="line-number">2463</span><br><span class="line-number">2464</span><br><span class="line-number">2465</span><br><span class="line-number">2466</span><br><span class="line-number">2467</span><br><span class="line-number">2468</span><br><span class="line-number">2469</span><br><span class="line-number">2470</span><br><span class="line-number">2471</span><br><span class="line-number">2472</span><br><span class="line-number">2473</span><br><span class="line-number">2474</span><br><span class="line-number">2475</span><br><span class="line-number">2476</span><br><span class="line-number">2477</span><br><span class="line-number">2478</span><br><span class="line-number">2479</span><br><span class="line-number">2480</span><br><span class="line-number">2481</span><br><span class="line-number">2482</span><br><span class="line-number">2483</span><br><span class="line-number">2484</span><br><span class="line-number">2485</span><br><span class="line-number">2486</span><br><span class="line-number">2487</span><br><span class="line-number">2488</span><br><span class="line-number">2489</span><br><span class="line-number">2490</span><br><span class="line-number">2491</span><br><span class="line-number">2492</span><br><span class="line-number">2493</span><br><span class="line-number">2494</span><br><span class="line-number">2495</span><br><span class="line-number">2496</span><br><span class="line-number">2497</span><br><span class="line-number">2498</span><br><span class="line-number">2499</span><br><span class="line-number">2500</span><br><span class="line-number">2501</span><br><span class="line-number">2502</span><br><span class="line-number">2503</span><br><span class="line-number">2504</span><br><span class="line-number">2505</span><br><span class="line-number">2506</span><br><span class="line-number">2507</span><br><span class="line-number">2508</span><br><span class="line-number">2509</span><br><span class="line-number">2510</span><br><span class="line-number">2511</span><br><span class="line-number">2512</span><br><span class="line-number">2513</span><br><span class="line-number">2514</span><br><span class="line-number">2515</span><br><span class="line-number">2516</span><br><span class="line-number">2517</span><br><span class="line-number">2518</span><br><span class="line-number">2519</span><br><span class="line-number">2520</span><br><span class="line-number">2521</span><br><span class="line-number">2522</span><br><span class="line-number">2523</span><br><span class="line-number">2524</span><br><span class="line-number">2525</span><br><span class="line-number">2526</span><br><span class="line-number">2527</span><br><span class="line-number">2528</span><br><span class="line-number">2529</span><br><span class="line-number">2530</span><br><span class="line-number">2531</span><br><span class="line-number">2532</span><br><span class="line-number">2533</span><br><span class="line-number">2534</span><br><span class="line-number">2535</span><br><span class="line-number">2536</span><br><span class="line-number">2537</span><br><span class="line-number">2538</span><br><span class="line-number">2539</span><br><span class="line-number">2540</span><br><span class="line-number">2541</span><br><span class="line-number">2542</span><br><span class="line-number">2543</span><br><span class="line-number">2544</span><br><span class="line-number">2545</span><br><span class="line-number">2546</span><br><span class="line-number">2547</span><br><span class="line-number">2548</span><br><span class="line-number">2549</span><br><span class="line-number">2550</span><br><span class="line-number">2551</span><br><span class="line-number">2552</span><br><span class="line-number">2553</span><br><span class="line-number">2554</span><br><span class="line-number">2555</span><br><span class="line-number">2556</span><br><span class="line-number">2557</span><br><span class="line-number">2558</span><br><span class="line-number">2559</span><br><span class="line-number">2560</span><br><span class="line-number">2561</span><br><span class="line-number">2562</span><br><span class="line-number">2563</span><br><span class="line-number">2564</span><br><span class="line-number">2565</span><br><span class="line-number">2566</span><br><span class="line-number">2567</span><br><span class="line-number">2568</span><br><span class="line-number">2569</span><br><span class="line-number">2570</span><br><span class="line-number">2571</span><br><span class="line-number">2572</span><br><span class="line-number">2573</span><br><span class="line-number">2574</span><br><span class="line-number">2575</span><br><span class="line-number">2576</span><br><span class="line-number">2577</span><br><span class="line-number">2578</span><br><span class="line-number">2579</span><br><span class="line-number">2580</span><br><span class="line-number">2581</span><br><span class="line-number">2582</span><br><span class="line-number">2583</span><br><span class="line-number">2584</span><br><span class="line-number">2585</span><br><span class="line-number">2586</span><br><span class="line-number">2587</span><br><span class="line-number">2588</span><br><span class="line-number">2589</span><br><span class="line-number">2590</span><br><span class="line-number">2591</span><br><span class="line-number">2592</span><br><span class="line-number">2593</span><br><span class="line-number">2594</span><br><span class="line-number">2595</span><br><span class="line-number">2596</span><br><span class="line-number">2597</span><br><span class="line-number">2598</span><br><span class="line-number">2599</span><br><span class="line-number">2600</span><br><span class="line-number">2601</span><br><span class="line-number">2602</span><br><span class="line-number">2603</span><br><span class="line-number">2604</span><br><span class="line-number">2605</span><br><span class="line-number">2606</span><br><span class="line-number">2607</span><br><span class="line-number">2608</span><br><span class="line-number">2609</span><br><span class="line-number">2610</span><br><span class="line-number">2611</span><br><span class="line-number">2612</span><br><span class="line-number">2613</span><br><span class="line-number">2614</span><br><span class="line-number">2615</span><br><span class="line-number">2616</span><br><span class="line-number">2617</span><br><span class="line-number">2618</span><br><span class="line-number">2619</span><br><span class="line-number">2620</span><br><span class="line-number">2621</span><br><span class="line-number">2622</span><br><span class="line-number">2623</span><br><span class="line-number">2624</span><br><span class="line-number">2625</span><br><span class="line-number">2626</span><br><span class="line-number">2627</span><br><span class="line-number">2628</span><br><span class="line-number">2629</span><br><span class="line-number">2630</span><br><span class="line-number">2631</span><br><span class="line-number">2632</span><br><span class="line-number">2633</span><br><span class="line-number">2634</span><br><span class="line-number">2635</span><br><span class="line-number">2636</span><br><span class="line-number">2637</span><br><span class="line-number">2638</span><br><span class="line-number">2639</span><br><span class="line-number">2640</span><br><span class="line-number">2641</span><br><span class="line-number">2642</span><br><span class="line-number">2643</span><br><span class="line-number">2644</span><br><span class="line-number">2645</span><br><span class="line-number">2646</span><br><span class="line-number">2647</span><br><span class="line-number">2648</span><br><span class="line-number">2649</span><br><span class="line-number">2650</span><br><span class="line-number">2651</span><br><span class="line-number">2652</span><br><span class="line-number">2653</span><br><span class="line-number">2654</span><br><span class="line-number">2655</span><br><span class="line-number">2656</span><br><span class="line-number">2657</span><br><span class="line-number">2658</span><br><span class="line-number">2659</span><br><span class="line-number">2660</span><br><span class="line-number">2661</span><br><span class="line-number">2662</span><br><span class="line-number">2663</span><br><span class="line-number">2664</span><br><span class="line-number">2665</span><br><span class="line-number">2666</span><br><span class="line-number">2667</span><br><span class="line-number">2668</span><br><span class="line-number">2669</span><br><span class="line-number">2670</span><br><span class="line-number">2671</span><br><span class="line-number">2672</span><br><span class="line-number">2673</span><br><span class="line-number">2674</span><br><span class="line-number">2675</span><br><span class="line-number">2676</span><br><span class="line-number">2677</span><br><span class="line-number">2678</span><br><span class="line-number">2679</span><br><span class="line-number">2680</span><br><span class="line-number">2681</span><br><span class="line-number">2682</span><br><span class="line-number">2683</span><br><span class="line-number">2684</span><br><span class="line-number">2685</span><br><span class="line-number">2686</span><br><span class="line-number">2687</span><br><span class="line-number">2688</span><br><span class="line-number">2689</span><br><span class="line-number">2690</span><br><span class="line-number">2691</span><br><span class="line-number">2692</span><br><span class="line-number">2693</span><br><span class="line-number">2694</span><br><span class="line-number">2695</span><br><span class="line-number">2696</span><br><span class="line-number">2697</span><br><span class="line-number">2698</span><br><span class="line-number">2699</span><br><span class="line-number">2700</span><br><span class="line-number">2701</span><br><span class="line-number">2702</span><br><span class="line-number">2703</span><br><span class="line-number">2704</span><br><span class="line-number">2705</span><br><span class="line-number">2706</span><br><span class="line-number">2707</span><br><span class="line-number">2708</span><br><span class="line-number">2709</span><br><span class="line-number">2710</span><br><span class="line-number">2711</span><br><span class="line-number">2712</span><br><span class="line-number">2713</span><br><span class="line-number">2714</span><br><span class="line-number">2715</span><br><span class="line-number">2716</span><br><span class="line-number">2717</span><br><span class="line-number">2718</span><br><span class="line-number">2719</span><br><span class="line-number">2720</span><br><span class="line-number">2721</span><br><span class="line-number">2722</span><br><span class="line-number">2723</span><br><span class="line-number">2724</span><br><span class="line-number">2725</span><br><span class="line-number">2726</span><br><span class="line-number">2727</span><br><span class="line-number">2728</span><br><span class="line-number">2729</span><br><span class="line-number">2730</span><br><span class="line-number">2731</span><br><span class="line-number">2732</span><br><span class="line-number">2733</span><br><span class="line-number">2734</span><br><span class="line-number">2735</span><br><span class="line-number">2736</span><br><span class="line-number">2737</span><br><span class="line-number">2738</span><br><span class="line-number">2739</span><br><span class="line-number">2740</span><br><span class="line-number">2741</span><br><span class="line-number">2742</span><br><span class="line-number">2743</span><br><span class="line-number">2744</span><br><span class="line-number">2745</span><br><span class="line-number">2746</span><br><span class="line-number">2747</span><br><span class="line-number">2748</span><br><span class="line-number">2749</span><br><span class="line-number">2750</span><br><span class="line-number">2751</span><br><span class="line-number">2752</span><br><span class="line-number">2753</span><br><span class="line-number">2754</span><br><span class="line-number">2755</span><br><span class="line-number">2756</span><br><span class="line-number">2757</span><br><span class="line-number">2758</span><br><span class="line-number">2759</span><br><span class="line-number">2760</span><br><span class="line-number">2761</span><br><span class="line-number">2762</span><br><span class="line-number">2763</span><br><span class="line-number">2764</span><br><span class="line-number">2765</span><br><span class="line-number">2766</span><br><span class="line-number">2767</span><br><span class="line-number">2768</span><br><span class="line-number">2769</span><br><span class="line-number">2770</span><br><span class="line-number">2771</span><br><span class="line-number">2772</span><br><span class="line-number">2773</span><br><span class="line-number">2774</span><br><span class="line-number">2775</span><br><span class="line-number">2776</span><br><span class="line-number">2777</span><br><span class="line-number">2778</span><br><span class="line-number">2779</span><br><span class="line-number">2780</span><br><span class="line-number">2781</span><br><span class="line-number">2782</span><br><span class="line-number">2783</span><br><span class="line-number">2784</span><br><span class="line-number">2785</span><br><span class="line-number">2786</span><br><span class="line-number">2787</span><br><span class="line-number">2788</span><br><span class="line-number">2789</span><br><span class="line-number">2790</span><br><span class="line-number">2791</span><br><span class="line-number">2792</span><br><span class="line-number">2793</span><br><span class="line-number">2794</span><br><span class="line-number">2795</span><br><span class="line-number">2796</span><br><span class="line-number">2797</span><br><span class="line-number">2798</span><br><span class="line-number">2799</span><br><span class="line-number">2800</span><br><span class="line-number">2801</span><br><span class="line-number">2802</span><br><span class="line-number">2803</span><br><span class="line-number">2804</span><br><span class="line-number">2805</span><br><span class="line-number">2806</span><br><span class="line-number">2807</span><br><span class="line-number">2808</span><br><span class="line-number">2809</span><br><span class="line-number">2810</span><br><span class="line-number">2811</span><br><span class="line-number">2812</span><br><span class="line-number">2813</span><br><span class="line-number">2814</span><br><span class="line-number">2815</span><br><span class="line-number">2816</span><br><span class="line-number">2817</span><br><span class="line-number">2818</span><br><span class="line-number">2819</span><br><span class="line-number">2820</span><br><span class="line-number">2821</span><br><span class="line-number">2822</span><br><span class="line-number">2823</span><br><span class="line-number">2824</span><br><span class="line-number">2825</span><br><span class="line-number">2826</span><br><span class="line-number">2827</span><br><span class="line-number">2828</span><br><span class="line-number">2829</span><br><span class="line-number">2830</span><br><span class="line-number">2831</span><br><span class="line-number">2832</span><br><span class="line-number">2833</span><br><span class="line-number">2834</span><br><span class="line-number">2835</span><br><span class="line-number">2836</span><br><span class="line-number">2837</span><br><span class="line-number">2838</span><br><span class="line-number">2839</span><br><span class="line-number">2840</span><br><span class="line-number">2841</span><br><span class="line-number">2842</span><br><span class="line-number">2843</span><br><span class="line-number">2844</span><br><span class="line-number">2845</span><br><span class="line-number">2846</span><br><span class="line-number">2847</span><br><span class="line-number">2848</span><br><span class="line-number">2849</span><br><span class="line-number">2850</span><br><span class="line-number">2851</span><br><span class="line-number">2852</span><br><span class="line-number">2853</span><br><span class="line-number">2854</span><br><span class="line-number">2855</span><br><span class="line-number">2856</span><br><span class="line-number">2857</span><br><span class="line-number">2858</span><br><span class="line-number">2859</span><br><span class="line-number">2860</span><br><span class="line-number">2861</span><br><span class="line-number">2862</span><br><span class="line-number">2863</span><br><span class="line-number">2864</span><br><span class="line-number">2865</span><br><span class="line-number">2866</span><br><span class="line-number">2867</span><br><span class="line-number">2868</span><br><span class="line-number">2869</span><br><span class="line-number">2870</span><br><span class="line-number">2871</span><br><span class="line-number">2872</span><br><span class="line-number">2873</span><br><span class="line-number">2874</span><br><span class="line-number">2875</span><br><span class="line-number">2876</span><br><span class="line-number">2877</span><br><span class="line-number">2878</span><br><span class="line-number">2879</span><br><span class="line-number">2880</span><br><span class="line-number">2881</span><br><span class="line-number">2882</span><br><span class="line-number">2883</span><br><span class="line-number">2884</span><br><span class="line-number">2885</span><br><span class="line-number">2886</span><br><span class="line-number">2887</span><br><span class="line-number">2888</span><br><span class="line-number">2889</span><br><span class="line-number">2890</span><br><span class="line-number">2891</span><br><span class="line-number">2892</span><br><span class="line-number">2893</span><br><span class="line-number">2894</span><br><span class="line-number">2895</span><br><span class="line-number">2896</span><br><span class="line-number">2897</span><br><span class="line-number">2898</span><br><span class="line-number">2899</span><br><span class="line-number">2900</span><br><span class="line-number">2901</span><br><span class="line-number">2902</span><br><span class="line-number">2903</span><br><span class="line-number">2904</span><br><span class="line-number">2905</span><br><span class="line-number">2906</span><br><span class="line-number">2907</span><br><span class="line-number">2908</span><br><span class="line-number">2909</span><br><span class="line-number">2910</span><br><span class="line-number">2911</span><br><span class="line-number">2912</span><br><span class="line-number">2913</span><br><span class="line-number">2914</span><br><span class="line-number">2915</span><br><span class="line-number">2916</span><br><span class="line-number">2917</span><br><span class="line-number">2918</span><br><span class="line-number">2919</span><br><span class="line-number">2920</span><br><span class="line-number">2921</span><br><span class="line-number">2922</span><br><span class="line-number">2923</span><br><span class="line-number">2924</span><br><span class="line-number">2925</span><br><span class="line-number">2926</span><br><span class="line-number">2927</span><br><span class="line-number">2928</span><br><span class="line-number">2929</span><br><span class="line-number">2930</span><br><span class="line-number">2931</span><br><span class="line-number">2932</span><br><span class="line-number">2933</span><br><span class="line-number">2934</span><br><span class="line-number">2935</span><br><span class="line-number">2936</span><br><span class="line-number">2937</span><br><span class="line-number">2938</span><br><span class="line-number">2939</span><br><span class="line-number">2940</span><br><span class="line-number">2941</span><br><span class="line-number">2942</span><br><span class="line-number">2943</span><br><span class="line-number">2944</span><br><span class="line-number">2945</span><br><span class="line-number">2946</span><br><span class="line-number">2947</span><br><span class="line-number">2948</span><br><span class="line-number">2949</span><br><span class="line-number">2950</span><br><span class="line-number">2951</span><br><span class="line-number">2952</span><br><span class="line-number">2953</span><br><span class="line-number">2954</span><br><span class="line-number">2955</span><br><span class="line-number">2956</span><br><span class="line-number">2957</span><br><span class="line-number">2958</span><br><span class="line-number">2959</span><br><span class="line-number">2960</span><br><span class="line-number">2961</span><br><span class="line-number">2962</span><br><span class="line-number">2963</span><br><span class="line-number">2964</span><br><span class="line-number">2965</span><br><span class="line-number">2966</span><br><span class="line-number">2967</span><br><span class="line-number">2968</span><br><span class="line-number">2969</span><br><span class="line-number">2970</span><br><span class="line-number">2971</span><br><span class="line-number">2972</span><br><span class="line-number">2973</span><br><span class="line-number">2974</span><br><span class="line-number">2975</span><br><span class="line-number">2976</span><br><span class="line-number">2977</span><br><span class="line-number">2978</span><br><span class="line-number">2979</span><br><span class="line-number">2980</span><br><span class="line-number">2981</span><br><span class="line-number">2982</span><br><span class="line-number">2983</span><br><span class="line-number">2984</span><br><span class="line-number">2985</span><br><span class="line-number">2986</span><br><span class="line-number">2987</span><br><span class="line-number">2988</span><br><span class="line-number">2989</span><br><span class="line-number">2990</span><br><span class="line-number">2991</span><br><span class="line-number">2992</span><br><span class="line-number">2993</span><br><span class="line-number">2994</span><br><span class="line-number">2995</span><br><span class="line-number">2996</span><br><span class="line-number">2997</span><br><span class="line-number">2998</span><br><span class="line-number">2999</span><br><span class="line-number">3000</span><br><span class="line-number">3001</span><br><span class="line-number">3002</span><br><span class="line-number">3003</span><br><span class="line-number">3004</span><br><span class="line-number">3005</span><br><span class="line-number">3006</span><br><span class="line-number">3007</span><br><span class="line-number">3008</span><br><span class="line-number">3009</span><br><span class="line-number">3010</span><br><span class="line-number">3011</span><br><span class="line-number">3012</span><br><span class="line-number">3013</span><br><span class="line-number">3014</span><br><span class="line-number">3015</span><br><span class="line-number">3016</span><br><span class="line-number">3017</span><br><span class="line-number">3018</span><br><span class="line-number">3019</span><br><span class="line-number">3020</span><br><span class="line-number">3021</span><br><span class="line-number">3022</span><br><span class="line-number">3023</span><br><span class="line-number">3024</span><br><span class="line-number">3025</span><br><span class="line-number">3026</span><br><span class="line-number">3027</span><br><span class="line-number">3028</span><br><span class="line-number">3029</span><br><span class="line-number">3030</span><br><span class="line-number">3031</span><br><span class="line-number">3032</span><br><span class="line-number">3033</span><br><span class="line-number">3034</span><br><span class="line-number">3035</span><br><span class="line-number">3036</span><br><span class="line-number">3037</span><br><span class="line-number">3038</span><br><span class="line-number">3039</span><br><span class="line-number">3040</span><br><span class="line-number">3041</span><br><span class="line-number">3042</span><br><span class="line-number">3043</span><br><span class="line-number">3044</span><br><span class="line-number">3045</span><br><span class="line-number">3046</span><br><span class="line-number">3047</span><br><span class="line-number">3048</span><br><span class="line-number">3049</span><br><span class="line-number">3050</span><br><span class="line-number">3051</span><br><span class="line-number">3052</span><br><span class="line-number">3053</span><br><span class="line-number">3054</span><br><span class="line-number">3055</span><br><span class="line-number">3056</span><br><span class="line-number">3057</span><br><span class="line-number">3058</span><br><span class="line-number">3059</span><br><span class="line-number">3060</span><br><span class="line-number">3061</span><br><span class="line-number">3062</span><br><span class="line-number">3063</span><br><span class="line-number">3064</span><br><span class="line-number">3065</span><br><span class="line-number">3066</span><br><span class="line-number">3067</span><br><span class="line-number">3068</span><br><span class="line-number">3069</span><br><span class="line-number">3070</span><br><span class="line-number">3071</span><br><span class="line-number">3072</span><br><span class="line-number">3073</span><br><span class="line-number">3074</span><br><span class="line-number">3075</span><br><span class="line-number">3076</span><br><span class="line-number">3077</span><br><span class="line-number">3078</span><br><span class="line-number">3079</span><br><span class="line-number">3080</span><br><span class="line-number">3081</span><br><span class="line-number">3082</span><br><span class="line-number">3083</span><br><span class="line-number">3084</span><br><span class="line-number">3085</span><br><span class="line-number">3086</span><br><span class="line-number">3087</span><br><span class="line-number">3088</span><br><span class="line-number">3089</span><br><span class="line-number">3090</span><br><span class="line-number">3091</span><br><span class="line-number">3092</span><br><span class="line-number">3093</span><br><span class="line-number">3094</span><br><span class="line-number">3095</span><br><span class="line-number">3096</span><br><span class="line-number">3097</span><br><span class="line-number">3098</span><br><span class="line-number">3099</span><br><span class="line-number">3100</span><br><span class="line-number">3101</span><br><span class="line-number">3102</span><br><span class="line-number">3103</span><br><span class="line-number">3104</span><br><span class="line-number">3105</span><br><span class="line-number">3106</span><br><span class="line-number">3107</span><br><span class="line-number">3108</span><br><span class="line-number">3109</span><br><span class="line-number">3110</span><br><span class="line-number">3111</span><br><span class="line-number">3112</span><br><span class="line-number">3113</span><br><span class="line-number">3114</span><br><span class="line-number">3115</span><br><span class="line-number">3116</span><br><span class="line-number">3117</span><br><span class="line-number">3118</span><br><span class="line-number">3119</span><br><span class="line-number">3120</span><br><span class="line-number">3121</span><br><span class="line-number">3122</span><br><span class="line-number">3123</span><br><span class="line-number">3124</span><br><span class="line-number">3125</span><br><span class="line-number">3126</span><br><span class="line-number">3127</span><br><span class="line-number">3128</span><br><span class="line-number">3129</span><br><span class="line-number">3130</span><br><span class="line-number">3131</span><br><span class="line-number">3132</span><br><span class="line-number">3133</span><br><span class="line-number">3134</span><br><span class="line-number">3135</span><br><span class="line-number">3136</span><br><span class="line-number">3137</span><br><span class="line-number">3138</span><br><span class="line-number">3139</span><br><span class="line-number">3140</span><br><span class="line-number">3141</span><br><span class="line-number">3142</span><br><span class="line-number">3143</span><br><span class="line-number">3144</span><br><span class="line-number">3145</span><br><span class="line-number">3146</span><br><span class="line-number">3147</span><br><span class="line-number">3148</span><br><span class="line-number">3149</span><br><span class="line-number">3150</span><br><span class="line-number">3151</span><br><span class="line-number">3152</span><br><span class="line-number">3153</span><br><span class="line-number">3154</span><br><span class="line-number">3155</span><br><span class="line-number">3156</span><br><span class="line-number">3157</span><br><span class="line-number">3158</span><br><span class="line-number">3159</span><br><span class="line-number">3160</span><br><span class="line-number">3161</span><br><span class="line-number">3162</span><br><span class="line-number">3163</span><br><span class="line-number">3164</span><br><span class="line-number">3165</span><br><span class="line-number">3166</span><br><span class="line-number">3167</span><br><span class="line-number">3168</span><br><span class="line-number">3169</span><br><span class="line-number">3170</span><br><span class="line-number">3171</span><br><span class="line-number">3172</span><br><span class="line-number">3173</span><br><span class="line-number">3174</span><br><span class="line-number">3175</span><br><span class="line-number">3176</span><br><span class="line-number">3177</span><br><span class="line-number">3178</span><br><span class="line-number">3179</span><br><span class="line-number">3180</span><br><span class="line-number">3181</span><br><span class="line-number">3182</span><br><span class="line-number">3183</span><br><span class="line-number">3184</span><br><span class="line-number">3185</span><br><span class="line-number">3186</span><br><span class="line-number">3187</span><br><span class="line-number">3188</span><br><span class="line-number">3189</span><br><span class="line-number">3190</span><br><span class="line-number">3191</span><br><span class="line-number">3192</span><br><span class="line-number">3193</span><br><span class="line-number">3194</span><br><span class="line-number">3195</span><br><span class="line-number">3196</span><br><span class="line-number">3197</span><br><span class="line-number">3198</span><br><span class="line-number">3199</span><br><span class="line-number">3200</span><br><span class="line-number">3201</span><br><span class="line-number">3202</span><br><span class="line-number">3203</span><br><span class="line-number">3204</span><br><span class="line-number">3205</span><br><span class="line-number">3206</span><br><span class="line-number">3207</span><br><span class="line-number">3208</span><br><span class="line-number">3209</span><br><span class="line-number">3210</span><br><span class="line-number">3211</span><br><span class="line-number">3212</span><br><span class="line-number">3213</span><br><span class="line-number">3214</span><br><span class="line-number">3215</span><br><span class="line-number">3216</span><br><span class="line-number">3217</span><br><span class="line-number">3218</span><br><span class="line-number">3219</span><br><span class="line-number">3220</span><br><span class="line-number">3221</span><br><span class="line-number">3222</span><br><span class="line-number">3223</span><br><span class="line-number">3224</span><br><span class="line-number">3225</span><br><span class="line-number">3226</span><br><span class="line-number">3227</span><br><span class="line-number">3228</span><br><span class="line-number">3229</span><br><span class="line-number">3230</span><br><span class="line-number">3231</span><br><span class="line-number">3232</span><br><span class="line-number">3233</span><br><span class="line-number">3234</span><br><span class="line-number">3235</span><br><span class="line-number">3236</span><br><span class="line-number">3237</span><br><span class="line-number">3238</span><br><span class="line-number">3239</span><br><span class="line-number">3240</span><br><span class="line-number">3241</span><br><span class="line-number">3242</span><br><span class="line-number">3243</span><br><span class="line-number">3244</span><br><span class="line-number">3245</span><br><span class="line-number">3246</span><br><span class="line-number">3247</span><br><span class="line-number">3248</span><br><span class="line-number">3249</span><br><span class="line-number">3250</span><br><span class="line-number">3251</span><br><span class="line-number">3252</span><br><span class="line-number">3253</span><br><span class="line-number">3254</span><br><span class="line-number">3255</span><br><span class="line-number">3256</span><br><span class="line-number">3257</span><br><span class="line-number">3258</span><br><span class="line-number">3259</span><br><span class="line-number">3260</span><br><span class="line-number">3261</span><br><span class="line-number">3262</span><br><span class="line-number">3263</span><br><span class="line-number">3264</span><br><span class="line-number">3265</span><br><span class="line-number">3266</span><br><span class="line-number">3267</span><br><span class="line-number">3268</span><br><span class="line-number">3269</span><br><span class="line-number">3270</span><br><span class="line-number">3271</span><br><span class="line-number">3272</span><br><span class="line-number">3273</span><br><span class="line-number">3274</span><br><span class="line-number">3275</span><br><span class="line-number">3276</span><br><span class="line-number">3277</span><br><span class="line-number">3278</span><br><span class="line-number">3279</span><br><span class="line-number">3280</span><br><span class="line-number">3281</span><br><span class="line-number">3282</span><br><span class="line-number">3283</span><br><span class="line-number">3284</span><br><span class="line-number">3285</span><br><span class="line-number">3286</span><br><span class="line-number">3287</span><br><span class="line-number">3288</span><br><span class="line-number">3289</span><br><span class="line-number">3290</span><br><span class="line-number">3291</span><br><span class="line-number">3292</span><br><span class="line-number">3293</span><br><span class="line-number">3294</span><br><span class="line-number">3295</span><br><span class="line-number">3296</span><br><span class="line-number">3297</span><br><span class="line-number">3298</span><br><span class="line-number">3299</span><br><span class="line-number">3300</span><br><span class="line-number">3301</span><br><span class="line-number">3302</span><br><span class="line-number">3303</span><br><span class="line-number">3304</span><br><span class="line-number">3305</span><br><span class="line-number">3306</span><br><span class="line-number">3307</span><br><span class="line-number">3308</span><br><span class="line-number">3309</span><br><span class="line-number">3310</span><br><span class="line-number">3311</span><br><span class="line-number">3312</span><br><span class="line-number">3313</span><br><span class="line-number">3314</span><br><span class="line-number">3315</span><br><span class="line-number">3316</span><br><span class="line-number">3317</span><br><span class="line-number">3318</span><br><span class="line-number">3319</span><br><span class="line-number">3320</span><br><span class="line-number">3321</span><br><span class="line-number">3322</span><br><span class="line-number">3323</span><br><span class="line-number">3324</span><br><span class="line-number">3325</span><br><span class="line-number">3326</span><br><span class="line-number">3327</span><br><span class="line-number">3328</span><br><span class="line-number">3329</span><br><span class="line-number">3330</span><br><span class="line-number">3331</span><br><span class="line-number">3332</span><br><span class="line-number">3333</span><br><span class="line-number">3334</span><br><span class="line-number">3335</span><br><span class="line-number">3336</span><br><span class="line-number">3337</span><br><span class="line-number">3338</span><br><span class="line-number">3339</span><br><span class="line-number">3340</span><br><span class="line-number">3341</span><br><span class="line-number">3342</span><br><span class="line-number">3343</span><br><span class="line-number">3344</span><br><span class="line-number">3345</span><br><span class="line-number">3346</span><br><span class="line-number">3347</span><br><span class="line-number">3348</span><br><span class="line-number">3349</span><br><span class="line-number">3350</span><br><span class="line-number">3351</span><br><span class="line-number">3352</span><br><span class="line-number">3353</span><br><span class="line-number">3354</span><br><span class="line-number">3355</span><br><span class="line-number">3356</span><br><span class="line-number">3357</span><br><span class="line-number">3358</span><br><span class="line-number">3359</span><br><span class="line-number">3360</span><br><span class="line-number">3361</span><br><span class="line-number">3362</span><br><span class="line-number">3363</span><br><span class="line-number">3364</span><br><span class="line-number">3365</span><br><span class="line-number">3366</span><br><span class="line-number">3367</span><br><span class="line-number">3368</span><br><span class="line-number">3369</span><br><span class="line-number">3370</span><br><span class="line-number">3371</span><br><span class="line-number">3372</span><br><span class="line-number">3373</span><br><span class="line-number">3374</span><br><span class="line-number">3375</span><br><span class="line-number">3376</span><br><span class="line-number">3377</span><br><span class="line-number">3378</span><br><span class="line-number">3379</span><br><span class="line-number">3380</span><br><span class="line-number">3381</span><br><span class="line-number">3382</span><br><span class="line-number">3383</span><br><span class="line-number">3384</span><br><span class="line-number">3385</span><br><span class="line-number">3386</span><br><span class="line-number">3387</span><br><span class="line-number">3388</span><br><span class="line-number">3389</span><br><span class="line-number">3390</span><br><span class="line-number">3391</span><br><span class="line-number">3392</span><br><span class="line-number">3393</span><br><span class="line-number">3394</span><br><span class="line-number">3395</span><br><span class="line-number">3396</span><br><span class="line-number">3397</span><br><span class="line-number">3398</span><br><span class="line-number">3399</span><br><span class="line-number">3400</span><br><span class="line-number">3401</span><br><span class="line-number">3402</span><br><span class="line-number">3403</span><br><span class="line-number">3404</span><br><span class="line-number">3405</span><br><span class="line-number">3406</span><br><span class="line-number">3407</span><br><span class="line-number">3408</span><br><span class="line-number">3409</span><br><span class="line-number">3410</span><br><span class="line-number">3411</span><br><span class="line-number">3412</span><br><span class="line-number">3413</span><br><span class="line-number">3414</span><br><span class="line-number">3415</span><br><span class="line-number">3416</span><br><span class="line-number">3417</span><br><span class="line-number">3418</span><br><span class="line-number">3419</span><br><span class="line-number">3420</span><br><span class="line-number">3421</span><br><span class="line-number">3422</span><br><span class="line-number">3423</span><br><span class="line-number">3424</span><br><span class="line-number">3425</span><br><span class="line-number">3426</span><br><span class="line-number">3427</span><br><span class="line-number">3428</span><br><span class="line-number">3429</span><br><span class="line-number">3430</span><br><span class="line-number">3431</span><br><span class="line-number">3432</span><br><span class="line-number">3433</span><br><span class="line-number">3434</span><br><span class="line-number">3435</span><br><span class="line-number">3436</span><br><span class="line-number">3437</span><br><span class="line-number">3438</span><br><span class="line-number">3439</span><br><span class="line-number">3440</span><br><span class="line-number">3441</span><br><span class="line-number">3442</span><br><span class="line-number">3443</span><br><span class="line-number">3444</span><br><span class="line-number">3445</span><br><span class="line-number">3446</span><br><span class="line-number">3447</span><br><span class="line-number">3448</span><br><span class="line-number">3449</span><br><span class="line-number">3450</span><br><span class="line-number">3451</span><br><span class="line-number">3452</span><br><span class="line-number">3453</span><br><span class="line-number">3454</span><br><span class="line-number">3455</span><br><span class="line-number">3456</span><br><span class="line-number">3457</span><br><span class="line-number">3458</span><br><span class="line-number">3459</span><br><span class="line-number">3460</span><br><span class="line-number">3461</span><br><span class="line-number">3462</span><br><span class="line-number">3463</span><br><span class="line-number">3464</span><br><span class="line-number">3465</span><br><span class="line-number">3466</span><br><span class="line-number">3467</span><br><span class="line-number">3468</span><br><span class="line-number">3469</span><br><span class="line-number">3470</span><br><span class="line-number">3471</span><br><span class="line-number">3472</span><br><span class="line-number">3473</span><br><span class="line-number">3474</span><br><span class="line-number">3475</span><br><span class="line-number">3476</span><br><span class="line-number">3477</span><br><span class="line-number">3478</span><br><span class="line-number">3479</span><br><span class="line-number">3480</span><br><span class="line-number">3481</span><br><span class="line-number">3482</span><br><span class="line-number">3483</span><br><span class="line-number">3484</span><br><span class="line-number">3485</span><br><span class="line-number">3486</span><br><span class="line-number">3487</span><br><span class="line-number">3488</span><br><span class="line-number">3489</span><br><span class="line-number">3490</span><br><span class="line-number">3491</span><br><span class="line-number">3492</span><br><span class="line-number">3493</span><br><span class="line-number">3494</span><br><span class="line-number">3495</span><br><span class="line-number">3496</span><br><span class="line-number">3497</span><br><span class="line-number">3498</span><br><span class="line-number">3499</span><br><span class="line-number">3500</span><br><span class="line-number">3501</span><br><span class="line-number">3502</span><br><span class="line-number">3503</span><br><span class="line-number">3504</span><br><span class="line-number">3505</span><br><span class="line-number">3506</span><br><span class="line-number">3507</span><br><span class="line-number">3508</span><br><span class="line-number">3509</span><br><span class="line-number">3510</span><br><span class="line-number">3511</span><br><span class="line-number">3512</span><br><span class="line-number">3513</span><br><span class="line-number">3514</span><br><span class="line-number">3515</span><br><span class="line-number">3516</span><br><span class="line-number">3517</span><br><span class="line-number">3518</span><br><span class="line-number">3519</span><br><span class="line-number">3520</span><br><span class="line-number">3521</span><br><span class="line-number">3522</span><br><span class="line-number">3523</span><br><span class="line-number">3524</span><br><span class="line-number">3525</span><br><span class="line-number">3526</span><br><span class="line-number">3527</span><br><span class="line-number">3528</span><br><span class="line-number">3529</span><br><span class="line-number">3530</span><br><span class="line-number">3531</span><br><span class="line-number">3532</span><br><span class="line-number">3533</span><br><span class="line-number">3534</span><br><span class="line-number">3535</span><br><span class="line-number">3536</span><br><span class="line-number">3537</span><br><span class="line-number">3538</span><br><span class="line-number">3539</span><br><span class="line-number">3540</span><br><span class="line-number">3541</span><br><span class="line-number">3542</span><br><span class="line-number">3543</span><br><span class="line-number">3544</span><br><span class="line-number">3545</span><br><span class="line-number">3546</span><br><span class="line-number">3547</span><br><span class="line-number">3548</span><br><span class="line-number">3549</span><br><span class="line-number">3550</span><br><span class="line-number">3551</span><br><span class="line-number">3552</span><br><span class="line-number">3553</span><br><span class="line-number">3554</span><br><span class="line-number">3555</span><br><span class="line-number">3556</span><br><span class="line-number">3557</span><br><span class="line-number">3558</span><br><span class="line-number">3559</span><br><span class="line-number">3560</span><br><span class="line-number">3561</span><br><span class="line-number">3562</span><br><span class="line-number">3563</span><br><span class="line-number">3564</span><br><span class="line-number">3565</span><br><span class="line-number">3566</span><br><span class="line-number">3567</span><br><span class="line-number">3568</span><br><span class="line-number">3569</span><br><span class="line-number">3570</span><br><span class="line-number">3571</span><br><span class="line-number">3572</span><br><span class="line-number">3573</span><br><span class="line-number">3574</span><br><span class="line-number">3575</span><br><span class="line-number">3576</span><br><span class="line-number">3577</span><br><span class="line-number">3578</span><br><span class="line-number">3579</span><br><span class="line-number">3580</span><br><span class="line-number">3581</span><br><span class="line-number">3582</span><br><span class="line-number">3583</span><br><span class="line-number">3584</span><br><span class="line-number">3585</span><br><span class="line-number">3586</span><br><span class="line-number">3587</span><br><span class="line-number">3588</span><br><span class="line-number">3589</span><br><span class="line-number">3590</span><br><span class="line-number">3591</span><br><span class="line-number">3592</span><br><span class="line-number">3593</span><br><span class="line-number">3594</span><br><span class="line-number">3595</span><br><span class="line-number">3596</span><br><span class="line-number">3597</span><br><span class="line-number">3598</span><br><span class="line-number">3599</span><br><span class="line-number">3600</span><br><span class="line-number">3601</span><br><span class="line-number">3602</span><br><span class="line-number">3603</span><br><span class="line-number">3604</span><br><span class="line-number">3605</span><br><span class="line-number">3606</span><br><span class="line-number">3607</span><br><span class="line-number">3608</span><br><span class="line-number">3609</span><br><span class="line-number">3610</span><br><span class="line-number">3611</span><br><span class="line-number">3612</span><br><span class="line-number">3613</span><br><span class="line-number">3614</span><br><span class="line-number">3615</span><br><span class="line-number">3616</span><br><span class="line-number">3617</span><br><span class="line-number">3618</span><br><span class="line-number">3619</span><br><span class="line-number">3620</span><br><span class="line-number">3621</span><br><span class="line-number">3622</span><br><span class="line-number">3623</span><br><span class="line-number">3624</span><br><span class="line-number">3625</span><br><span class="line-number">3626</span><br><span class="line-number">3627</span><br><span class="line-number">3628</span><br><span class="line-number">3629</span><br><span class="line-number">3630</span><br><span class="line-number">3631</span><br><span class="line-number">3632</span><br><span class="line-number">3633</span><br><span class="line-number">3634</span><br><span class="line-number">3635</span><br><span class="line-number">3636</span><br><span class="line-number">3637</span><br><span class="line-number">3638</span><br><span class="line-number">3639</span><br><span class="line-number">3640</span><br><span class="line-number">3641</span><br><span class="line-number">3642</span><br><span class="line-number">3643</span><br><span class="line-number">3644</span><br><span class="line-number">3645</span><br><span class="line-number">3646</span><br><span class="line-number">3647</span><br><span class="line-number">3648</span><br><span class="line-number">3649</span><br><span class="line-number">3650</span><br><span class="line-number">3651</span><br><span class="line-number">3652</span><br><span class="line-number">3653</span><br><span class="line-number">3654</span><br><span class="line-number">3655</span><br><span class="line-number">3656</span><br><span class="line-number">3657</span><br><span class="line-number">3658</span><br><span class="line-number">3659</span><br><span class="line-number">3660</span><br><span class="line-number">3661</span><br><span class="line-number">3662</span><br><span class="line-number">3663</span><br><span class="line-number">3664</span><br><span class="line-number">3665</span><br><span class="line-number">3666</span><br><span class="line-number">3667</span><br><span class="line-number">3668</span><br><span class="line-number">3669</span><br><span class="line-number">3670</span><br><span class="line-number">3671</span><br><span class="line-number">3672</span><br><span class="line-number">3673</span><br><span class="line-number">3674</span><br><span class="line-number">3675</span><br><span class="line-number">3676</span><br><span class="line-number">3677</span><br><span class="line-number">3678</span><br><span class="line-number">3679</span><br><span class="line-number">3680</span><br><span class="line-number">3681</span><br><span class="line-number">3682</span><br><span class="line-number">3683</span><br><span class="line-number">3684</span><br><span class="line-number">3685</span><br><span class="line-number">3686</span><br><span class="line-number">3687</span><br><span class="line-number">3688</span><br><span class="line-number">3689</span><br><span class="line-number">3690</span><br><span class="line-number">3691</span><br><span class="line-number">3692</span><br><span class="line-number">3693</span><br><span class="line-number">3694</span><br><span class="line-number">3695</span><br><span class="line-number">3696</span><br><span class="line-number">3697</span><br><span class="line-number">3698</span><br><span class="line-number">3699</span><br><span class="line-number">3700</span><br><span class="line-number">3701</span><br><span class="line-number">3702</span><br><span class="line-number">3703</span><br><span class="line-number">3704</span><br><span class="line-number">3705</span><br><span class="line-number">3706</span><br><span class="line-number">3707</span><br><span class="line-number">3708</span><br><span class="line-number">3709</span><br><span class="line-number">3710</span><br><span class="line-number">3711</span><br><span class="line-number">3712</span><br><span class="line-number">3713</span><br><span class="line-number">3714</span><br><span class="line-number">3715</span><br><span class="line-number">3716</span><br><span class="line-number">3717</span><br><span class="line-number">3718</span><br><span class="line-number">3719</span><br><span class="line-number">3720</span><br><span class="line-number">3721</span><br><span class="line-number">3722</span><br><span class="line-number">3723</span><br><span class="line-number">3724</span><br><span class="line-number">3725</span><br><span class="line-number">3726</span><br><span class="line-number">3727</span><br><span class="line-number">3728</span><br><span class="line-number">3729</span><br><span class="line-number">3730</span><br><span class="line-number">3731</span><br><span class="line-number">3732</span><br><span class="line-number">3733</span><br><span class="line-number">3734</span><br><span class="line-number">3735</span><br><span class="line-number">3736</span><br><span class="line-number">3737</span><br><span class="line-number">3738</span><br><span class="line-number">3739</span><br><span class="line-number">3740</span><br><span class="line-number">3741</span><br><span class="line-number">3742</span><br><span class="line-number">3743</span><br><span class="line-number">3744</span><br><span class="line-number">3745</span><br><span class="line-number">3746</span><br><span class="line-number">3747</span><br><span class="line-number">3748</span><br><span class="line-number">3749</span><br><span class="line-number">3750</span><br><span class="line-number">3751</span><br><span class="line-number">3752</span><br><span class="line-number">3753</span><br><span class="line-number">3754</span><br><span class="line-number">3755</span><br><span class="line-number">3756</span><br><span class="line-number">3757</span><br><span class="line-number">3758</span><br><span class="line-number">3759</span><br><span class="line-number">3760</span><br><span class="line-number">3761</span><br><span class="line-number">3762</span><br><span class="line-number">3763</span><br><span class="line-number">3764</span><br><span class="line-number">3765</span><br><span class="line-number">3766</span><br><span class="line-number">3767</span><br><span class="line-number">3768</span><br><span class="line-number">3769</span><br><span class="line-number">3770</span><br><span class="line-number">3771</span><br><span class="line-number">3772</span><br><span class="line-number">3773</span><br><span class="line-number">3774</span><br><span class="line-number">3775</span><br><span class="line-number">3776</span><br><span class="line-number">3777</span><br><span class="line-number">3778</span><br><span class="line-number">3779</span><br><span class="line-number">3780</span><br><span class="line-number">3781</span><br><span class="line-number">3782</span><br><span class="line-number">3783</span><br><span class="line-number">3784</span><br><span class="line-number">3785</span><br><span class="line-number">3786</span><br><span class="line-number">3787</span><br><span class="line-number">3788</span><br><span class="line-number">3789</span><br><span class="line-number">3790</span><br><span class="line-number">3791</span><br><span class="line-number">3792</span><br><span class="line-number">3793</span><br><span class="line-number">3794</span><br><span class="line-number">3795</span><br><span class="line-number">3796</span><br><span class="line-number">3797</span><br><span class="line-number">3798</span><br><span class="line-number">3799</span><br><span class="line-number">3800</span><br><span class="line-number">3801</span><br><span class="line-number">3802</span><br><span class="line-number">3803</span><br><span class="line-number">3804</span><br><span class="line-number">3805</span><br><span class="line-number">3806</span><br><span class="line-number">3807</span><br><span class="line-number">3808</span><br><span class="line-number">3809</span><br><span class="line-number">3810</span><br><span class="line-number">3811</span><br><span class="line-number">3812</span><br><span class="line-number">3813</span><br><span class="line-number">3814</span><br><span class="line-number">3815</span><br><span class="line-number">3816</span><br><span class="line-number">3817</span><br><span class="line-number">3818</span><br><span class="line-number">3819</span><br><span class="line-number">3820</span><br><span class="line-number">3821</span><br><span class="line-number">3822</span><br><span class="line-number">3823</span><br><span class="line-number">3824</span><br><span class="line-number">3825</span><br><span class="line-number">3826</span><br><span class="line-number">3827</span><br><span class="line-number">3828</span><br><span class="line-number">3829</span><br><span class="line-number">3830</span><br><span class="line-number">3831</span><br><span class="line-number">3832</span><br><span class="line-number">3833</span><br><span class="line-number">3834</span><br><span class="line-number">3835</span><br><span class="line-number">3836</span><br><span class="line-number">3837</span><br><span class="line-number">3838</span><br><span class="line-number">3839</span><br><span class="line-number">3840</span><br><span class="line-number">3841</span><br><span class="line-number">3842</span><br><span class="line-number">3843</span><br><span class="line-number">3844</span><br><span class="line-number">3845</span><br><span class="line-number">3846</span><br><span class="line-number">3847</span><br><span class="line-number">3848</span><br><span class="line-number">3849</span><br><span class="line-number">3850</span><br><span class="line-number">3851</span><br><span class="line-number">3852</span><br><span class="line-number">3853</span><br><span class="line-number">3854</span><br><span class="line-number">3855</span><br><span class="line-number">3856</span><br><span class="line-number">3857</span><br><span class="line-number">3858</span><br><span class="line-number">3859</span><br><span class="line-number">3860</span><br><span class="line-number">3861</span><br><span class="line-number">3862</span><br><span class="line-number">3863</span><br><span class="line-number">3864</span><br><span class="line-number">3865</span><br><span class="line-number">3866</span><br><span class="line-number">3867</span><br><span class="line-number">3868</span><br><span class="line-number">3869</span><br><span class="line-number">3870</span><br><span class="line-number">3871</span><br><span class="line-number">3872</span><br><span class="line-number">3873</span><br><span class="line-number">3874</span><br><span class="line-number">3875</span><br><span class="line-number">3876</span><br><span class="line-number">3877</span><br><span class="line-number">3878</span><br><span class="line-number">3879</span><br><span class="line-number">3880</span><br><span class="line-number">3881</span><br><span class="line-number">3882</span><br><span class="line-number">3883</span><br><span class="line-number">3884</span><br><span class="line-number">3885</span><br><span class="line-number">3886</span><br><span class="line-number">3887</span><br><span class="line-number">3888</span><br><span class="line-number">3889</span><br><span class="line-number">3890</span><br><span class="line-number">3891</span><br><span class="line-number">3892</span><br><span class="line-number">3893</span><br><span class="line-number">3894</span><br><span class="line-number">3895</span><br><span class="line-number">3896</span><br><span class="line-number">3897</span><br><span class="line-number">3898</span><br><span class="line-number">3899</span><br><span class="line-number">3900</span><br><span class="line-number">3901</span><br><span class="line-number">3902</span><br><span class="line-number">3903</span><br><span class="line-number">3904</span><br><span class="line-number">3905</span><br><span class="line-number">3906</span><br><span class="line-number">3907</span><br><span class="line-number">3908</span><br><span class="line-number">3909</span><br><span class="line-number">3910</span><br><span class="line-number">3911</span><br><span class="line-number">3912</span><br><span class="line-number">3913</span><br><span class="line-number">3914</span><br><span class="line-number">3915</span><br><span class="line-number">3916</span><br><span class="line-number">3917</span><br><span class="line-number">3918</span><br><span class="line-number">3919</span><br><span class="line-number">3920</span><br><span class="line-number">3921</span><br><span class="line-number">3922</span><br><span class="line-number">3923</span><br><span class="line-number">3924</span><br><span class="line-number">3925</span><br><span class="line-number">3926</span><br><span class="line-number">3927</span><br><span class="line-number">3928</span><br><span class="line-number">3929</span><br><span class="line-number">3930</span><br><span class="line-number">3931</span><br><span class="line-number">3932</span><br><span class="line-number">3933</span><br><span class="line-number">3934</span><br><span class="line-number">3935</span><br><span class="line-number">3936</span><br><span class="line-number">3937</span><br><span class="line-number">3938</span><br><span class="line-number">3939</span><br><span class="line-number">3940</span><br><span class="line-number">3941</span><br><span class="line-number">3942</span><br><span class="line-number">3943</span><br><span class="line-number">3944</span><br><span class="line-number">3945</span><br><span class="line-number">3946</span><br><span class="line-number">3947</span><br><span class="line-number">3948</span><br><span class="line-number">3949</span><br><span class="line-number">3950</span><br><span class="line-number">3951</span><br><span class="line-number">3952</span><br><span class="line-number">3953</span><br><span class="line-number">3954</span><br><span class="line-number">3955</span><br><span class="line-number">3956</span><br><span class="line-number">3957</span><br><span class="line-number">3958</span><br><span class="line-number">3959</span><br><span class="line-number">3960</span><br><span class="line-number">3961</span><br><span class="line-number">3962</span><br><span class="line-number">3963</span><br><span class="line-number">3964</span><br><span class="line-number">3965</span><br><span class="line-number">3966</span><br><span class="line-number">3967</span><br><span class="line-number">3968</span><br><span class="line-number">3969</span><br><span class="line-number">3970</span><br><span class="line-number">3971</span><br><span class="line-number">3972</span><br><span class="line-number">3973</span><br><span class="line-number">3974</span><br><span class="line-number">3975</span><br><span class="line-number">3976</span><br><span class="line-number">3977</span><br><span class="line-number">3978</span><br><span class="line-number">3979</span><br><span class="line-number">3980</span><br><span class="line-number">3981</span><br><span class="line-number">3982</span><br><span class="line-number">3983</span><br><span class="line-number">3984</span><br><span class="line-number">3985</span><br><span class="line-number">3986</span><br><span class="line-number">3987</span><br><span class="line-number">3988</span><br><span class="line-number">3989</span><br><span class="line-number">3990</span><br><span class="line-number">3991</span><br><span class="line-number">3992</span><br><span class="line-number">3993</span><br><span class="line-number">3994</span><br><span class="line-number">3995</span><br><span class="line-number">3996</span><br><span class="line-number">3997</span><br><span class="line-number">3998</span><br><span class="line-number">3999</span><br><span class="line-number">4000</span><br><span class="line-number">4001</span><br><span class="line-number">4002</span><br><span class="line-number">4003</span><br><span class="line-number">4004</span><br><span class="line-number">4005</span><br><span class="line-number">4006</span><br><span class="line-number">4007</span><br><span class="line-number">4008</span><br><span class="line-number">4009</span><br><span class="line-number">4010</span><br><span class="line-number">4011</span><br><span class="line-number">4012</span><br><span class="line-number">4013</span><br><span class="line-number">4014</span><br><span class="line-number">4015</span><br><span class="line-number">4016</span><br><span class="line-number">4017</span><br><span class="line-number">4018</span><br><span class="line-number">4019</span><br><span class="line-number">4020</span><br><span class="line-number">4021</span><br><span class="line-number">4022</span><br><span class="line-number">4023</span><br><span class="line-number">4024</span><br><span class="line-number">4025</span><br><span class="line-number">4026</span><br><span class="line-number">4027</span><br><span class="line-number">4028</span><br><span class="line-number">4029</span><br><span class="line-number">4030</span><br><span class="line-number">4031</span><br><span class="line-number">4032</span><br><span class="line-number">4033</span><br><span class="line-number">4034</span><br><span class="line-number">4035</span><br><span class="line-number">4036</span><br><span class="line-number">4037</span><br><span class="line-number">4038</span><br><span class="line-number">4039</span><br><span class="line-number">4040</span><br><span class="line-number">4041</span><br><span class="line-number">4042</span><br><span class="line-number">4043</span><br><span class="line-number">4044</span><br><span class="line-number">4045</span><br><span class="line-number">4046</span><br><span class="line-number">4047</span><br><span class="line-number">4048</span><br><span class="line-number">4049</span><br><span class="line-number">4050</span><br><span class="line-number">4051</span><br><span class="line-number">4052</span><br><span class="line-number">4053</span><br><span class="line-number">4054</span><br><span class="line-number">4055</span><br><span class="line-number">4056</span><br><span class="line-number">4057</span><br><span class="line-number">4058</span><br><span class="line-number">4059</span><br><span class="line-number">4060</span><br><span class="line-number">4061</span><br><span class="line-number">4062</span><br><span class="line-number">4063</span><br><span class="line-number">4064</span><br><span class="line-number">4065</span><br><span class="line-number">4066</span><br><span class="line-number">4067</span><br><span class="line-number">4068</span><br><span class="line-number">4069</span><br><span class="line-number">4070</span><br><span class="line-number">4071</span><br><span class="line-number">4072</span><br><span class="line-number">4073</span><br><span class="line-number">4074</span><br><span class="line-number">4075</span><br><span class="line-number">4076</span><br><span class="line-number">4077</span><br><span class="line-number">4078</span><br><span class="line-number">4079</span><br><span class="line-number">4080</span><br><span class="line-number">4081</span><br><span class="line-number">4082</span><br><span class="line-number">4083</span><br><span class="line-number">4084</span><br><span class="line-number">4085</span><br><span class="line-number">4086</span><br><span class="line-number">4087</span><br><span class="line-number">4088</span><br><span class="line-number">4089</span><br><span class="line-number">4090</span><br><span class="line-number">4091</span><br><span class="line-number">4092</span><br><span class="line-number">4093</span><br><span class="line-number">4094</span><br><span class="line-number">4095</span><br><span class="line-number">4096</span><br><span class="line-number">4097</span><br><span class="line-number">4098</span><br><span class="line-number">4099</span><br><span class="line-number">4100</span><br><span class="line-number">4101</span><br><span class="line-number">4102</span><br><span class="line-number">4103</span><br><span class="line-number">4104</span><br><span class="line-number">4105</span><br><span class="line-number">4106</span><br><span class="line-number">4107</span><br><span class="line-number">4108</span><br><span class="line-number">4109</span><br><span class="line-number">4110</span><br><span class="line-number">4111</span><br><span class="line-number">4112</span><br><span class="line-number">4113</span><br><span class="line-number">4114</span><br><span class="line-number">4115</span><br><span class="line-number">4116</span><br><span class="line-number">4117</span><br><span class="line-number">4118</span><br><span class="line-number">4119</span><br><span class="line-number">4120</span><br><span class="line-number">4121</span><br><span class="line-number">4122</span><br><span class="line-number">4123</span><br><span class="line-number">4124</span><br><span class="line-number">4125</span><br><span class="line-number">4126</span><br><span class="line-number">4127</span><br><span class="line-number">4128</span><br><span class="line-number">4129</span><br><span class="line-number">4130</span><br><span class="line-number">4131</span><br><span class="line-number">4132</span><br><span class="line-number">4133</span><br><span class="line-number">4134</span><br><span class="line-number">4135</span><br><span class="line-number">4136</span><br><span class="line-number">4137</span><br><span class="line-number">4138</span><br><span class="line-number">4139</span><br><span class="line-number">4140</span><br><span class="line-number">4141</span><br><span class="line-number">4142</span><br><span class="line-number">4143</span><br><span class="line-number">4144</span><br><span class="line-number">4145</span><br><span class="line-number">4146</span><br><span class="line-number">4147</span><br><span class="line-number">4148</span><br><span class="line-number">4149</span><br><span class="line-number">4150</span><br><span class="line-number">4151</span><br><span class="line-number">4152</span><br><span class="line-number">4153</span><br><span class="line-number">4154</span><br><span class="line-number">4155</span><br><span class="line-number">4156</span><br><span class="line-number">4157</span><br><span class="line-number">4158</span><br><span class="line-number">4159</span><br><span class="line-number">4160</span><br><span class="line-number">4161</span><br><span class="line-number">4162</span><br><span class="line-number">4163</span><br><span class="line-number">4164</span><br><span class="line-number">4165</span><br><span class="line-number">4166</span><br><span class="line-number">4167</span><br><span class="line-number">4168</span><br><span class="line-number">4169</span><br><span class="line-number">4170</span><br><span class="line-number">4171</span><br><span class="line-number">4172</span><br><span class="line-number">4173</span><br><span class="line-number">4174</span><br><span class="line-number">4175</span><br><span class="line-number">4176</span><br><span class="line-number">4177</span><br><span class="line-number">4178</span><br><span class="line-number">4179</span><br><span class="line-number">4180</span><br><span class="line-number">4181</span><br><span class="line-number">4182</span><br><span class="line-number">4183</span><br><span class="line-number">4184</span><br><span class="line-number">4185</span><br><span class="line-number">4186</span><br><span class="line-number">4187</span><br><span class="line-number">4188</span><br><span class="line-number">4189</span><br><span class="line-number">4190</span><br><span class="line-number">4191</span><br><span class="line-number">4192</span><br><span class="line-number">4193</span><br><span class="line-number">4194</span><br><span class="line-number">4195</span><br><span class="line-number">4196</span><br><span class="line-number">4197</span><br><span class="line-number">4198</span><br><span class="line-number">4199</span><br><span class="line-number">4200</span><br><span class="line-number">4201</span><br><span class="line-number">4202</span><br><span class="line-number">4203</span><br><span class="line-number">4204</span><br><span class="line-number">4205</span><br><span class="line-number">4206</span><br><span class="line-number">4207</span><br><span class="line-number">4208</span><br><span class="line-number">4209</span><br><span class="line-number">4210</span><br><span class="line-number">4211</span><br><span class="line-number">4212</span><br><span class="line-number">4213</span><br><span class="line-number">4214</span><br><span class="line-number">4215</span><br><span class="line-number">4216</span><br><span class="line-number">4217</span><br><span class="line-number">4218</span><br><span class="line-number">4219</span><br><span class="line-number">4220</span><br><span class="line-number">4221</span><br><span class="line-number">4222</span><br><span class="line-number">4223</span><br><span class="line-number">4224</span><br><span class="line-number">4225</span><br><span class="line-number">4226</span><br><span class="line-number">4227</span><br><span class="line-number">4228</span><br><span class="line-number">4229</span><br><span class="line-number">4230</span><br><span class="line-number">4231</span><br><span class="line-number">4232</span><br><span class="line-number">4233</span><br><span class="line-number">4234</span><br><span class="line-number">4235</span><br><span class="line-number">4236</span><br><span class="line-number">4237</span><br><span class="line-number">4238</span><br><span class="line-number">4239</span><br><span class="line-number">4240</span><br><span class="line-number">4241</span><br><span class="line-number">4242</span><br><span class="line-number">4243</span><br><span class="line-number">4244</span><br><span class="line-number">4245</span><br><span class="line-number">4246</span><br><span class="line-number">4247</span><br><span class="line-number">4248</span><br><span class="line-number">4249</span><br><span class="line-number">4250</span><br><span class="line-number">4251</span><br><span class="line-number">4252</span><br><span class="line-number">4253</span><br><span class="line-number">4254</span><br><span class="line-number">4255</span><br><span class="line-number">4256</span><br><span class="line-number">4257</span><br><span class="line-number">4258</span><br><span class="line-number">4259</span><br><span class="line-number">4260</span><br><span class="line-number">4261</span><br><span class="line-number">4262</span><br><span class="line-number">4263</span><br><span class="line-number">4264</span><br><span class="line-number">4265</span><br><span class="line-number">4266</span><br><span class="line-number">4267</span><br><span class="line-number">4268</span><br><span class="line-number">4269</span><br><span class="line-number">4270</span><br><span class="line-number">4271</span><br><span class="line-number">4272</span><br><span class="line-number">4273</span><br><span class="line-number">4274</span><br><span class="line-number">4275</span><br><span class="line-number">4276</span><br><span class="line-number">4277</span><br><span class="line-number">4278</span><br><span class="line-number">4279</span><br><span class="line-number">4280</span><br><span class="line-number">4281</span><br><span class="line-number">4282</span><br><span class="line-number">4283</span><br><span class="line-number">4284</span><br><span class="line-number">4285</span><br><span class="line-number">4286</span><br><span class="line-number">4287</span><br><span class="line-number">4288</span><br><span class="line-number">4289</span><br><span class="line-number">4290</span><br><span class="line-number">4291</span><br><span class="line-number">4292</span><br><span class="line-number">4293</span><br><span class="line-number">4294</span><br><span class="line-number">4295</span><br><span class="line-number">4296</span><br><span class="line-number">4297</span><br><span class="line-number">4298</span><br><span class="line-number">4299</span><br><span class="line-number">4300</span><br><span class="line-number">4301</span><br><span class="line-number">4302</span><br><span class="line-number">4303</span><br><span class="line-number">4304</span><br><span class="line-number">4305</span><br><span class="line-number">4306</span><br><span class="line-number">4307</span><br><span class="line-number">4308</span><br><span class="line-number">4309</span><br><span class="line-number">4310</span><br><span class="line-number">4311</span><br><span class="line-number">4312</span><br><span class="line-number">4313</span><br><span class="line-number">4314</span><br><span class="line-number">4315</span><br><span class="line-number">4316</span><br><span class="line-number">4317</span><br><span class="line-number">4318</span><br><span class="line-number">4319</span><br><span class="line-number">4320</span><br><span class="line-number">4321</span><br><span class="line-number">4322</span><br><span class="line-number">4323</span><br><span class="line-number">4324</span><br><span class="line-number">4325</span><br><span class="line-number">4326</span><br><span class="line-number">4327</span><br><span class="line-number">4328</span><br><span class="line-number">4329</span><br><span class="line-number">4330</span><br><span class="line-number">4331</span><br><span class="line-number">4332</span><br><span class="line-number">4333</span><br><span class="line-number">4334</span><br><span class="line-number">4335</span><br><span class="line-number">4336</span><br><span class="line-number">4337</span><br><span class="line-number">4338</span><br><span class="line-number">4339</span><br><span class="line-number">4340</span><br><span class="line-number">4341</span><br><span class="line-number">4342</span><br><span class="line-number">4343</span><br><span class="line-number">4344</span><br><span class="line-number">4345</span><br><span class="line-number">4346</span><br><span class="line-number">4347</span><br><span class="line-number">4348</span><br><span class="line-number">4349</span><br><span class="line-number">4350</span><br><span class="line-number">4351</span><br><span class="line-number">4352</span><br><span class="line-number">4353</span><br><span class="line-number">4354</span><br><span class="line-number">4355</span><br><span class="line-number">4356</span><br><span class="line-number">4357</span><br><span class="line-number">4358</span><br><span class="line-number">4359</span><br><span class="line-number">4360</span><br><span class="line-number">4361</span><br><span class="line-number">4362</span><br><span class="line-number">4363</span><br><span class="line-number">4364</span><br><span class="line-number">4365</span><br><span class="line-number">4366</span><br><span class="line-number">4367</span><br><span class="line-number">4368</span><br><span class="line-number">4369</span><br><span class="line-number">4370</span><br><span class="line-number">4371</span><br><span class="line-number">4372</span><br><span class="line-number">4373</span><br><span class="line-number">4374</span><br><span class="line-number">4375</span><br><span class="line-number">4376</span><br><span class="line-number">4377</span><br><span class="line-number">4378</span><br><span class="line-number">4379</span><br><span class="line-number">4380</span><br><span class="line-number">4381</span><br><span class="line-number">4382</span><br><span class="line-number">4383</span><br><span class="line-number">4384</span><br><span class="line-number">4385</span><br><span class="line-number">4386</span><br><span class="line-number">4387</span><br><span class="line-number">4388</span><br><span class="line-number">4389</span><br><span class="line-number">4390</span><br><span class="line-number">4391</span><br><span class="line-number">4392</span><br><span class="line-number">4393</span><br><span class="line-number">4394</span><br><span class="line-number">4395</span><br><span class="line-number">4396</span><br><span class="line-number">4397</span><br><span class="line-number">4398</span><br><span class="line-number">4399</span><br><span class="line-number">4400</span><br><span class="line-number">4401</span><br><span class="line-number">4402</span><br><span class="line-number">4403</span><br><span class="line-number">4404</span><br><span class="line-number">4405</span><br><span class="line-number">4406</span><br><span class="line-number">4407</span><br><span class="line-number">4408</span><br><span class="line-number">4409</span><br><span class="line-number">4410</span><br><span class="line-number">4411</span><br><span class="line-number">4412</span><br><span class="line-number">4413</span><br><span class="line-number">4414</span><br><span class="line-number">4415</span><br><span class="line-number">4416</span><br><span class="line-number">4417</span><br><span class="line-number">4418</span><br><span class="line-number">4419</span><br><span class="line-number">4420</span><br><span class="line-number">4421</span><br><span class="line-number">4422</span><br><span class="line-number">4423</span><br><span class="line-number">4424</span><br><span class="line-number">4425</span><br><span class="line-number">4426</span><br><span class="line-number">4427</span><br><span class="line-number">4428</span><br><span class="line-number">4429</span><br><span class="line-number">4430</span><br><span class="line-number">4431</span><br><span class="line-number">4432</span><br><span class="line-number">4433</span><br><span class="line-number">4434</span><br><span class="line-number">4435</span><br><span class="line-number">4436</span><br><span class="line-number">4437</span><br><span class="line-number">4438</span><br><span class="line-number">4439</span><br><span class="line-number">4440</span><br><span class="line-number">4441</span><br><span class="line-number">4442</span><br><span class="line-number">4443</span><br><span class="line-number">4444</span><br><span class="line-number">4445</span><br><span class="line-number">4446</span><br><span class="line-number">4447</span><br><span class="line-number">4448</span><br><span class="line-number">4449</span><br><span class="line-number">4450</span><br><span class="line-number">4451</span><br><span class="line-number">4452</span><br><span class="line-number">4453</span><br><span class="line-number">4454</span><br><span class="line-number">4455</span><br><span class="line-number">4456</span><br><span class="line-number">4457</span><br><span class="line-number">4458</span><br><span class="line-number">4459</span><br><span class="line-number">4460</span><br><span class="line-number">4461</span><br><span class="line-number">4462</span><br><span class="line-number">4463</span><br><span class="line-number">4464</span><br><span class="line-number">4465</span><br><span class="line-number">4466</span><br><span class="line-number">4467</span><br><span class="line-number">4468</span><br><span class="line-number">4469</span><br><span class="line-number">4470</span><br><span class="line-number">4471</span><br><span class="line-number">4472</span><br><span class="line-number">4473</span><br><span class="line-number">4474</span><br><span class="line-number">4475</span><br><span class="line-number">4476</span><br><span class="line-number">4477</span><br><span class="line-number">4478</span><br><span class="line-number">4479</span><br><span class="line-number">4480</span><br><span class="line-number">4481</span><br><span class="line-number">4482</span><br><span class="line-number">4483</span><br><span class="line-number">4484</span><br><span class="line-number">4485</span><br><span class="line-number">4486</span><br><span class="line-number">4487</span><br><span class="line-number">4488</span><br><span class="line-number">4489</span><br><span class="line-number">4490</span><br><span class="line-number">4491</span><br><span class="line-number">4492</span><br><span class="line-number">4493</span><br><span class="line-number">4494</span><br><span class="line-number">4495</span><br><span class="line-number">4496</span><br><span class="line-number">4497</span><br><span class="line-number">4498</span><br><span class="line-number">4499</span><br><span class="line-number">4500</span><br><span class="line-number">4501</span><br><span class="line-number">4502</span><br><span class="line-number">4503</span><br><span class="line-number">4504</span><br><span class="line-number">4505</span><br><span class="line-number">4506</span><br><span class="line-number">4507</span><br><span class="line-number">4508</span><br><span class="line-number">4509</span><br><span class="line-number">4510</span><br><span class="line-number">4511</span><br><span class="line-number">4512</span><br><span class="line-number">4513</span><br><span class="line-number">4514</span><br><span class="line-number">4515</span><br><span class="line-number">4516</span><br><span class="line-number">4517</span><br><span class="line-number">4518</span><br><span class="line-number">4519</span><br><span class="line-number">4520</span><br><span class="line-number">4521</span><br><span class="line-number">4522</span><br><span class="line-number">4523</span><br><span class="line-number">4524</span><br><span class="line-number">4525</span><br><span class="line-number">4526</span><br><span class="line-number">4527</span><br><span class="line-number">4528</span><br><span class="line-number">4529</span><br><span class="line-number">4530</span><br><span class="line-number">4531</span><br><span class="line-number">4532</span><br><span class="line-number">4533</span><br><span class="line-number">4534</span><br><span class="line-number">4535</span><br><span class="line-number">4536</span><br><span class="line-number">4537</span><br><span class="line-number">4538</span><br><span class="line-number">4539</span><br><span class="line-number">4540</span><br><span class="line-number">4541</span><br><span class="line-number">4542</span><br><span class="line-number">4543</span><br><span class="line-number">4544</span><br><span class="line-number">4545</span><br><span class="line-number">4546</span><br><span class="line-number">4547</span><br><span class="line-number">4548</span><br><span class="line-number">4549</span><br><span class="line-number">4550</span><br><span class="line-number">4551</span><br><span class="line-number">4552</span><br><span class="line-number">4553</span><br><span class="line-number">4554</span><br><span class="line-number">4555</span><br><span class="line-number">4556</span><br><span class="line-number">4557</span><br><span class="line-number">4558</span><br><span class="line-number">4559</span><br><span class="line-number">4560</span><br><span class="line-number">4561</span><br><span class="line-number">4562</span><br><span class="line-number">4563</span><br><span class="line-number">4564</span><br><span class="line-number">4565</span><br><span class="line-number">4566</span><br><span class="line-number">4567</span><br><span class="line-number">4568</span><br><span class="line-number">4569</span><br><span class="line-number">4570</span><br><span class="line-number">4571</span><br><span class="line-number">4572</span><br><span class="line-number">4573</span><br><span class="line-number">4574</span><br><span class="line-number">4575</span><br><span class="line-number">4576</span><br><span class="line-number">4577</span><br><span class="line-number">4578</span><br><span class="line-number">4579</span><br><span class="line-number">4580</span><br><span class="line-number">4581</span><br><span class="line-number">4582</span><br><span class="line-number">4583</span><br><span class="line-number">4584</span><br><span class="line-number">4585</span><br><span class="line-number">4586</span><br><span class="line-number">4587</span><br><span class="line-number">4588</span><br><span class="line-number">4589</span><br><span class="line-number">4590</span><br><span class="line-number">4591</span><br><span class="line-number">4592</span><br><span class="line-number">4593</span><br><span class="line-number">4594</span><br><span class="line-number">4595</span><br><span class="line-number">4596</span><br><span class="line-number">4597</span><br><span class="line-number">4598</span><br><span class="line-number">4599</span><br><span class="line-number">4600</span><br><span class="line-number">4601</span><br><span class="line-number">4602</span><br><span class="line-number">4603</span><br><span class="line-number">4604</span><br><span class="line-number">4605</span><br><span class="line-number">4606</span><br><span class="line-number">4607</span><br><span class="line-number">4608</span><br><span class="line-number">4609</span><br><span class="line-number">4610</span><br><span class="line-number">4611</span><br><span class="line-number">4612</span><br><span class="line-number">4613</span><br><span class="line-number">4614</span><br><span class="line-number">4615</span><br><span class="line-number">4616</span><br><span class="line-number">4617</span><br><span class="line-number">4618</span><br><span class="line-number">4619</span><br><span class="line-number">4620</span><br><span class="line-number">4621</span><br><span class="line-number">4622</span><br><span class="line-number">4623</span><br><span class="line-number">4624</span><br><span class="line-number">4625</span><br><span class="line-number">4626</span><br><span class="line-number">4627</span><br><span class="line-number">4628</span><br><span class="line-number">4629</span><br><span class="line-number">4630</span><br><span class="line-number">4631</span><br><span class="line-number">4632</span><br><span class="line-number">4633</span><br><span class="line-number">4634</span><br><span class="line-number">4635</span><br><span class="line-number">4636</span><br><span class="line-number">4637</span><br><span class="line-number">4638</span><br><span class="line-number">4639</span><br><span class="line-number">4640</span><br><span class="line-number">4641</span><br><span class="line-number">4642</span><br><span class="line-number">4643</span><br><span class="line-number">4644</span><br><span class="line-number">4645</span><br><span class="line-number">4646</span><br><span class="line-number">4647</span><br><span class="line-number">4648</span><br><span class="line-number">4649</span><br><span class="line-number">4650</span><br><span class="line-number">4651</span><br><span class="line-number">4652</span><br><span class="line-number">4653</span><br><span class="line-number">4654</span><br><span class="line-number">4655</span><br><span class="line-number">4656</span><br><span class="line-number">4657</span><br><span class="line-number">4658</span><br><span class="line-number">4659</span><br><span class="line-number">4660</span><br><span class="line-number">4661</span><br><span class="line-number">4662</span><br><span class="line-number">4663</span><br><span class="line-number">4664</span><br><span class="line-number">4665</span><br><span class="line-number">4666</span><br><span class="line-number">4667</span><br><span class="line-number">4668</span><br><span class="line-number">4669</span><br><span class="line-number">4670</span><br><span class="line-number">4671</span><br><span class="line-number">4672</span><br><span class="line-number">4673</span><br><span class="line-number">4674</span><br><span class="line-number">4675</span><br><span class="line-number">4676</span><br><span class="line-number">4677</span><br><span class="line-number">4678</span><br><span class="line-number">4679</span><br><span class="line-number">4680</span><br><span class="line-number">4681</span><br><span class="line-number">4682</span><br><span class="line-number">4683</span><br><span class="line-number">4684</span><br><span class="line-number">4685</span><br><span class="line-number">4686</span><br><span class="line-number">4687</span><br><span class="line-number">4688</span><br><span class="line-number">4689</span><br><span class="line-number">4690</span><br><span class="line-number">4691</span><br><span class="line-number">4692</span><br><span class="line-number">4693</span><br><span class="line-number">4694</span><br><span class="line-number">4695</span><br><span class="line-number">4696</span><br><span class="line-number">4697</span><br><span class="line-number">4698</span><br><span class="line-number">4699</span><br><span class="line-number">4700</span><br><span class="line-number">4701</span><br><span class="line-number">4702</span><br><span class="line-number">4703</span><br><span class="line-number">4704</span><br><span class="line-number">4705</span><br><span class="line-number">4706</span><br><span class="line-number">4707</span><br><span class="line-number">4708</span><br><span class="line-number">4709</span><br><span class="line-number">4710</span><br><span class="line-number">4711</span><br><span class="line-number">4712</span><br><span class="line-number">4713</span><br><span class="line-number">4714</span><br><span class="line-number">4715</span><br><span class="line-number">4716</span><br><span class="line-number">4717</span><br><span class="line-number">4718</span><br><span class="line-number">4719</span><br><span class="line-number">4720</span><br><span class="line-number">4721</span><br><span class="line-number">4722</span><br><span class="line-number">4723</span><br><span class="line-number">4724</span><br><span class="line-number">4725</span><br><span class="line-number">4726</span><br><span class="line-number">4727</span><br><span class="line-number">4728</span><br><span class="line-number">4729</span><br><span class="line-number">4730</span><br><span class="line-number">4731</span><br><span class="line-number">4732</span><br><span class="line-number">4733</span><br><span class="line-number">4734</span><br><span class="line-number">4735</span><br><span class="line-number">4736</span><br><span class="line-number">4737</span><br><span class="line-number">4738</span><br><span class="line-number">4739</span><br><span class="line-number">4740</span><br><span class="line-number">4741</span><br><span class="line-number">4742</span><br><span class="line-number">4743</span><br><span class="line-number">4744</span><br><span class="line-number">4745</span><br><span class="line-number">4746</span><br><span class="line-number">4747</span><br><span class="line-number">4748</span><br><span class="line-number">4749</span><br><span class="line-number">4750</span><br><span class="line-number">4751</span><br><span class="line-number">4752</span><br><span class="line-number">4753</span><br><span class="line-number">4754</span><br><span class="line-number">4755</span><br><span class="line-number">4756</span><br><span class="line-number">4757</span><br><span class="line-number">4758</span><br><span class="line-number">4759</span><br><span class="line-number">4760</span><br><span class="line-number">4761</span><br><span class="line-number">4762</span><br><span class="line-number">4763</span><br><span class="line-number">4764</span><br><span class="line-number">4765</span><br><span class="line-number">4766</span><br><span class="line-number">4767</span><br><span class="line-number">4768</span><br><span class="line-number">4769</span><br><span class="line-number">4770</span><br><span class="line-number">4771</span><br><span class="line-number">4772</span><br><span class="line-number">4773</span><br><span class="line-number">4774</span><br><span class="line-number">4775</span><br><span class="line-number">4776</span><br><span class="line-number">4777</span><br><span class="line-number">4778</span><br><span class="line-number">4779</span><br><span class="line-number">4780</span><br><span class="line-number">4781</span><br><span class="line-number">4782</span><br><span class="line-number">4783</span><br><span class="line-number">4784</span><br><span class="line-number">4785</span><br><span class="line-number">4786</span><br><span class="line-number">4787</span><br><span class="line-number">4788</span><br><span class="line-number">4789</span><br><span class="line-number">4790</span><br><span class="line-number">4791</span><br><span class="line-number">4792</span><br><span class="line-number">4793</span><br><span class="line-number">4794</span><br><span class="line-number">4795</span><br><span class="line-number">4796</span><br><span class="line-number">4797</span><br><span class="line-number">4798</span><br><span class="line-number">4799</span><br><span class="line-number">4800</span><br><span class="line-number">4801</span><br><span class="line-number">4802</span><br><span class="line-number">4803</span><br><span class="line-number">4804</span><br><span class="line-number">4805</span><br><span class="line-number">4806</span><br><span class="line-number">4807</span><br><span class="line-number">4808</span><br><span class="line-number">4809</span><br><span class="line-number">4810</span><br><span class="line-number">4811</span><br><span class="line-number">4812</span><br><span class="line-number">4813</span><br><span class="line-number">4814</span><br><span class="line-number">4815</span><br><span class="line-number">4816</span><br><span class="line-number">4817</span><br><span class="line-number">4818</span><br><span class="line-number">4819</span><br><span class="line-number">4820</span><br><span class="line-number">4821</span><br><span class="line-number">4822</span><br><span class="line-number">4823</span><br><span class="line-number">4824</span><br><span class="line-number">4825</span><br><span class="line-number">4826</span><br><span class="line-number">4827</span><br><span class="line-number">4828</span><br><span class="line-number">4829</span><br><span class="line-number">4830</span><br><span class="line-number">4831</span><br><span class="line-number">4832</span><br><span class="line-number">4833</span><br><span class="line-number">4834</span><br><span class="line-number">4835</span><br><span class="line-number">4836</span><br><span class="line-number">4837</span><br><span class="line-number">4838</span><br><span class="line-number">4839</span><br><span class="line-number">4840</span><br><span class="line-number">4841</span><br><span class="line-number">4842</span><br><span class="line-number">4843</span><br><span class="line-number">4844</span><br><span class="line-number">4845</span><br><span class="line-number">4846</span><br><span class="line-number">4847</span><br><span class="line-number">4848</span><br><span class="line-number">4849</span><br><span class="line-number">4850</span><br><span class="line-number">4851</span><br><span class="line-number">4852</span><br><span class="line-number">4853</span><br><span class="line-number">4854</span><br><span class="line-number">4855</span><br><span class="line-number">4856</span><br><span class="line-number">4857</span><br><span class="line-number">4858</span><br><span class="line-number">4859</span><br><span class="line-number">4860</span><br><span class="line-number">4861</span><br><span class="line-number">4862</span><br><span class="line-number">4863</span><br><span class="line-number">4864</span><br><span class="line-number">4865</span><br><span class="line-number">4866</span><br><span class="line-number">4867</span><br><span class="line-number">4868</span><br><span class="line-number">4869</span><br><span class="line-number">4870</span><br><span class="line-number">4871</span><br><span class="line-number">4872</span><br><span class="line-number">4873</span><br><span class="line-number">4874</span><br><span class="line-number">4875</span><br><span class="line-number">4876</span><br><span class="line-number">4877</span><br><span class="line-number">4878</span><br><span class="line-number">4879</span><br><span class="line-number">4880</span><br><span class="line-number">4881</span><br><span class="line-number">4882</span><br><span class="line-number">4883</span><br><span class="line-number">4884</span><br><span class="line-number">4885</span><br><span class="line-number">4886</span><br><span class="line-number">4887</span><br><span class="line-number">4888</span><br><span class="line-number">4889</span><br><span class="line-number">4890</span><br><span class="line-number">4891</span><br><span class="line-number">4892</span><br><span class="line-number">4893</span><br><span class="line-number">4894</span><br><span class="line-number">4895</span><br><span class="line-number">4896</span><br><span class="line-number">4897</span><br><span class="line-number">4898</span><br><span class="line-number">4899</span><br><span class="line-number">4900</span><br><span class="line-number">4901</span><br><span class="line-number">4902</span><br><span class="line-number">4903</span><br><span class="line-number">4904</span><br><span class="line-number">4905</span><br><span class="line-number">4906</span><br><span class="line-number">4907</span><br><span class="line-number">4908</span><br><span class="line-number">4909</span><br><span class="line-number">4910</span><br><span class="line-number">4911</span><br><span class="line-number">4912</span><br><span class="line-number">4913</span><br><span class="line-number">4914</span><br><span class="line-number">4915</span><br><span class="line-number">4916</span><br><span class="line-number">4917</span><br><span class="line-number">4918</span><br><span class="line-number">4919</span><br><span class="line-number">4920</span><br><span class="line-number">4921</span><br><span class="line-number">4922</span><br><span class="line-number">4923</span><br><span class="line-number">4924</span><br><span class="line-number">4925</span><br><span class="line-number">4926</span><br><span class="line-number">4927</span><br><span class="line-number">4928</span><br><span class="line-number">4929</span><br><span class="line-number">4930</span><br><span class="line-number">4931</span><br><span class="line-number">4932</span><br><span class="line-number">4933</span><br><span class="line-number">4934</span><br><span class="line-number">4935</span><br><span class="line-number">4936</span><br><span class="line-number">4937</span><br><span class="line-number">4938</span><br><span class="line-number">4939</span><br><span class="line-number">4940</span><br><span class="line-number">4941</span><br><span class="line-number">4942</span><br><span class="line-number">4943</span><br><span class="line-number">4944</span><br><span class="line-number">4945</span><br><span class="line-number">4946</span><br><span class="line-number">4947</span><br><span class="line-number">4948</span><br><span class="line-number">4949</span><br><span class="line-number">4950</span><br><span class="line-number">4951</span><br><span class="line-number">4952</span><br><span class="line-number">4953</span><br><span class="line-number">4954</span><br><span class="line-number">4955</span><br><span class="line-number">4956</span><br><span class="line-number">4957</span><br><span class="line-number">4958</span><br><span class="line-number">4959</span><br><span class="line-number">4960</span><br><span class="line-number">4961</span><br><span class="line-number">4962</span><br><span class="line-number">4963</span><br><span class="line-number">4964</span><br><span class="line-number">4965</span><br><span class="line-number">4966</span><br><span class="line-number">4967</span><br><span class="line-number">4968</span><br><span class="line-number">4969</span><br><span class="line-number">4970</span><br><span class="line-number">4971</span><br><span class="line-number">4972</span><br><span class="line-number">4973</span><br><span class="line-number">4974</span><br><span class="line-number">4975</span><br><span class="line-number">4976</span><br><span class="line-number">4977</span><br><span class="line-number">4978</span><br><span class="line-number">4979</span><br><span class="line-number">4980</span><br><span class="line-number">4981</span><br><span class="line-number">4982</span><br><span class="line-number">4983</span><br><span class="line-number">4984</span><br><span class="line-number">4985</span><br><span class="line-number">4986</span><br><span class="line-number">4987</span><br><span class="line-number">4988</span><br><span class="line-number">4989</span><br><span class="line-number">4990</span><br><span class="line-number">4991</span><br><span class="line-number">4992</span><br><span class="line-number">4993</span><br><span class="line-number">4994</span><br><span class="line-number">4995</span><br><span class="line-number">4996</span><br><span class="line-number">4997</span><br><span class="line-number">4998</span><br><span class="line-number">4999</span><br><span class="line-number">5000</span><br><span class="line-number">5001</span><br><span class="line-number">5002</span><br><span class="line-number">5003</span><br><span class="line-number">5004</span><br><span class="line-number">5005</span><br><span class="line-number">5006</span><br><span class="line-number">5007</span><br><span class="line-number">5008</span><br><span class="line-number">5009</span><br><span class="line-number">5010</span><br><span class="line-number">5011</span><br><span class="line-number">5012</span><br><span class="line-number">5013</span><br><span class="line-number">5014</span><br><span class="line-number">5015</span><br><span class="line-number">5016</span><br><span class="line-number">5017</span><br><span class="line-number">5018</span><br><span class="line-number">5019</span><br><span class="line-number">5020</span><br><span class="line-number">5021</span><br><span class="line-number">5022</span><br><span class="line-number">5023</span><br><span class="line-number">5024</span><br><span class="line-number">5025</span><br><span class="line-number">5026</span><br><span class="line-number">5027</span><br><span class="line-number">5028</span><br><span class="line-number">5029</span><br><span class="line-number">5030</span><br><span class="line-number">5031</span><br><span class="line-number">5032</span><br><span class="line-number">5033</span><br><span class="line-number">5034</span><br><span class="line-number">5035</span><br><span class="line-number">5036</span><br><span class="line-number">5037</span><br><span class="line-number">5038</span><br><span class="line-number">5039</span><br><span class="line-number">5040</span><br><span class="line-number">5041</span><br><span class="line-number">5042</span><br><span class="line-number">5043</span><br><span class="line-number">5044</span><br><span class="line-number">5045</span><br><span class="line-number">5046</span><br><span class="line-number">5047</span><br><span class="line-number">5048</span><br><span class="line-number">5049</span><br><span class="line-number">5050</span><br><span class="line-number">5051</span><br><span class="line-number">5052</span><br><span class="line-number">5053</span><br><span class="line-number">5054</span><br><span class="line-number">5055</span><br><span class="line-number">5056</span><br><span class="line-number">5057</span><br><span class="line-number">5058</span><br><span class="line-number">5059</span><br><span class="line-number">5060</span><br><span class="line-number">5061</span><br><span class="line-number">5062</span><br><span class="line-number">5063</span><br><span class="line-number">5064</span><br><span class="line-number">5065</span><br><span class="line-number">5066</span><br><span class="line-number">5067</span><br><span class="line-number">5068</span><br><span class="line-number">5069</span><br><span class="line-number">5070</span><br><span class="line-number">5071</span><br><span class="line-number">5072</span><br><span class="line-number">5073</span><br><span class="line-number">5074</span><br><span class="line-number">5075</span><br><span class="line-number">5076</span><br><span class="line-number">5077</span><br><span class="line-number">5078</span><br><span class="line-number">5079</span><br><span class="line-number">5080</span><br><span class="line-number">5081</span><br><span class="line-number">5082</span><br><span class="line-number">5083</span><br><span class="line-number">5084</span><br><span class="line-number">5085</span><br><span class="line-number">5086</span><br><span class="line-number">5087</span><br><span class="line-number">5088</span><br><span class="line-number">5089</span><br><span class="line-number">5090</span><br><span class="line-number">5091</span><br><span class="line-number">5092</span><br><span class="line-number">5093</span><br><span class="line-number">5094</span><br><span class="line-number">5095</span><br><span class="line-number">5096</span><br><span class="line-number">5097</span><br><span class="line-number">5098</span><br><span class="line-number">5099</span><br><span class="line-number">5100</span><br><span class="line-number">5101</span><br><span class="line-number">5102</span><br><span class="line-number">5103</span><br><span class="line-number">5104</span><br><span class="line-number">5105</span><br><span class="line-number">5106</span><br><span class="line-number">5107</span><br><span class="line-number">5108</span><br><span class="line-number">5109</span><br><span class="line-number">5110</span><br><span class="line-number">5111</span><br><span class="line-number">5112</span><br><span class="line-number">5113</span><br><span class="line-number">5114</span><br><span class="line-number">5115</span><br><span class="line-number">5116</span><br><span class="line-number">5117</span><br><span class="line-number">5118</span><br><span class="line-number">5119</span><br><span class="line-number">5120</span><br><span class="line-number">5121</span><br><span class="line-number">5122</span><br><span class="line-number">5123</span><br><span class="line-number">5124</span><br><span class="line-number">5125</span><br><span class="line-number">5126</span><br><span class="line-number">5127</span><br><span class="line-number">5128</span><br><span class="line-number">5129</span><br><span class="line-number">5130</span><br><span class="line-number">5131</span><br><span class="line-number">5132</span><br><span class="line-number">5133</span><br><span class="line-number">5134</span><br><span class="line-number">5135</span><br><span class="line-number">5136</span><br><span class="line-number">5137</span><br><span class="line-number">5138</span><br><span class="line-number">5139</span><br><span class="line-number">5140</span><br><span class="line-number">5141</span><br><span class="line-number">5142</span><br><span class="line-number">5143</span><br><span class="line-number">5144</span><br><span class="line-number">5145</span><br><span class="line-number">5146</span><br><span class="line-number">5147</span><br><span class="line-number">5148</span><br><span class="line-number">5149</span><br><span class="line-number">5150</span><br><span class="line-number">5151</span><br><span class="line-number">5152</span><br><span class="line-number">5153</span><br><span class="line-number">5154</span><br><span class="line-number">5155</span><br><span class="line-number">5156</span><br><span class="line-number">5157</span><br><span class="line-number">5158</span><br><span class="line-number">5159</span><br><span class="line-number">5160</span><br><span class="line-number">5161</span><br><span class="line-number">5162</span><br><span class="line-number">5163</span><br><span class="line-number">5164</span><br><span class="line-number">5165</span><br><span class="line-number">5166</span><br><span class="line-number">5167</span><br><span class="line-number">5168</span><br><span class="line-number">5169</span><br><span class="line-number">5170</span><br><span class="line-number">5171</span><br><span class="line-number">5172</span><br><span class="line-number">5173</span><br><span class="line-number">5174</span><br><span class="line-number">5175</span><br><span class="line-number">5176</span><br><span class="line-number">5177</span><br><span class="line-number">5178</span><br><span class="line-number">5179</span><br><span class="line-number">5180</span><br><span class="line-number">5181</span><br><span class="line-number">5182</span><br><span class="line-number">5183</span><br><span class="line-number">5184</span><br><span class="line-number">5185</span><br><span class="line-number">5186</span><br><span class="line-number">5187</span><br><span class="line-number">5188</span><br><span class="line-number">5189</span><br><span class="line-number">5190</span><br><span class="line-number">5191</span><br><span class="line-number">5192</span><br><span class="line-number">5193</span><br><span class="line-number">5194</span><br><span class="line-number">5195</span><br><span class="line-number">5196</span><br><span class="line-number">5197</span><br><span class="line-number">5198</span><br><span class="line-number">5199</span><br><span class="line-number">5200</span><br><span class="line-number">5201</span><br><span class="line-number">5202</span><br><span class="line-number">5203</span><br><span class="line-number">5204</span><br><span class="line-number">5205</span><br><span class="line-number">5206</span><br><span class="line-number">5207</span><br><span class="line-number">5208</span><br><span class="line-number">5209</span><br><span class="line-number">5210</span><br><span class="line-number">5211</span><br><span class="line-number">5212</span><br><span class="line-number">5213</span><br><span class="line-number">5214</span><br><span class="line-number">5215</span><br><span class="line-number">5216</span><br><span class="line-number">5217</span><br><span class="line-number">5218</span><br><span class="line-number">5219</span><br><span class="line-number">5220</span><br><span class="line-number">5221</span><br><span class="line-number">5222</span><br><span class="line-number">5223</span><br><span class="line-number">5224</span><br><span class="line-number">5225</span><br><span class="line-number">5226</span><br><span class="line-number">5227</span><br><span class="line-number">5228</span><br><span class="line-number">5229</span><br><span class="line-number">5230</span><br><span class="line-number">5231</span><br><span class="line-number">5232</span><br><span class="line-number">5233</span><br><span class="line-number">5234</span><br><span class="line-number">5235</span><br><span class="line-number">5236</span><br><span class="line-number">5237</span><br><span class="line-number">5238</span><br><span class="line-number">5239</span><br><span class="line-number">5240</span><br><span class="line-number">5241</span><br><span class="line-number">5242</span><br><span class="line-number">5243</span><br><span class="line-number">5244</span><br><span class="line-number">5245</span><br><span class="line-number">5246</span><br><span class="line-number">5247</span><br><span class="line-number">5248</span><br><span class="line-number">5249</span><br><span class="line-number">5250</span><br><span class="line-number">5251</span><br><span class="line-number">5252</span><br><span class="line-number">5253</span><br><span class="line-number">5254</span><br><span class="line-number">5255</span><br><span class="line-number">5256</span><br><span class="line-number">5257</span><br><span class="line-number">5258</span><br><span class="line-number">5259</span><br><span class="line-number">5260</span><br><span class="line-number">5261</span><br><span class="line-number">5262</span><br><span class="line-number">5263</span><br><span class="line-number">5264</span><br><span class="line-number">5265</span><br><span class="line-number">5266</span><br><span class="line-number">5267</span><br><span class="line-number">5268</span><br><span class="line-number">5269</span><br><span class="line-number">5270</span><br><span class="line-number">5271</span><br><span class="line-number">5272</span><br><span class="line-number">5273</span><br><span class="line-number">5274</span><br><span class="line-number">5275</span><br><span class="line-number">5276</span><br><span class="line-number">5277</span><br><span class="line-number">5278</span><br><span class="line-number">5279</span><br><span class="line-number">5280</span><br><span class="line-number">5281</span><br><span class="line-number">5282</span><br><span class="line-number">5283</span><br><span class="line-number">5284</span><br><span class="line-number">5285</span><br><span class="line-number">5286</span><br><span class="line-number">5287</span><br><span class="line-number">5288</span><br><span class="line-number">5289</span><br><span class="line-number">5290</span><br><span class="line-number">5291</span><br><span class="line-number">5292</span><br><span class="line-number">5293</span><br><span class="line-number">5294</span><br><span class="line-number">5295</span><br><span class="line-number">5296</span><br><span class="line-number">5297</span><br><span class="line-number">5298</span><br><span class="line-number">5299</span><br><span class="line-number">5300</span><br><span class="line-number">5301</span><br><span class="line-number">5302</span><br><span class="line-number">5303</span><br><span class="line-number">5304</span><br><span class="line-number">5305</span><br><span class="line-number">5306</span><br><span class="line-number">5307</span><br><span class="line-number">5308</span><br><span class="line-number">5309</span><br><span class="line-number">5310</span><br><span class="line-number">5311</span><br><span class="line-number">5312</span><br><span class="line-number">5313</span><br><span class="line-number">5314</span><br><span class="line-number">5315</span><br><span class="line-number">5316</span><br><span class="line-number">5317</span><br><span class="line-number">5318</span><br><span class="line-number">5319</span><br><span class="line-number">5320</span><br><span class="line-number">5321</span><br><span class="line-number">5322</span><br><span class="line-number">5323</span><br><span class="line-number">5324</span><br><span class="line-number">5325</span><br><span class="line-number">5326</span><br><span class="line-number">5327</span><br><span class="line-number">5328</span><br><span class="line-number">5329</span><br><span class="line-number">5330</span><br><span class="line-number">5331</span><br><span class="line-number">5332</span><br><span class="line-number">5333</span><br><span class="line-number">5334</span><br><span class="line-number">5335</span><br><span class="line-number">5336</span><br><span class="line-number">5337</span><br><span class="line-number">5338</span><br><span class="line-number">5339</span><br><span class="line-number">5340</span><br><span class="line-number">5341</span><br><span class="line-number">5342</span><br><span class="line-number">5343</span><br><span class="line-number">5344</span><br><span class="line-number">5345</span><br><span class="line-number">5346</span><br><span class="line-number">5347</span><br><span class="line-number">5348</span><br><span class="line-number">5349</span><br><span class="line-number">5350</span><br><span class="line-number">5351</span><br><span class="line-number">5352</span><br><span class="line-number">5353</span><br><span class="line-number">5354</span><br><span class="line-number">5355</span><br><span class="line-number">5356</span><br><span class="line-number">5357</span><br><span class="line-number">5358</span><br><span class="line-number">5359</span><br><span class="line-number">5360</span><br><span class="line-number">5361</span><br><span class="line-number">5362</span><br><span class="line-number">5363</span><br><span class="line-number">5364</span><br><span class="line-number">5365</span><br><span class="line-number">5366</span><br><span class="line-number">5367</span><br><span class="line-number">5368</span><br><span class="line-number">5369</span><br><span class="line-number">5370</span><br><span class="line-number">5371</span><br><span class="line-number">5372</span><br><span class="line-number">5373</span><br><span class="line-number">5374</span><br><span class="line-number">5375</span><br><span class="line-number">5376</span><br><span class="line-number">5377</span><br><span class="line-number">5378</span><br><span class="line-number">5379</span><br><span class="line-number">5380</span><br><span class="line-number">5381</span><br><span class="line-number">5382</span><br><span class="line-number">5383</span><br><span class="line-number">5384</span><br><span class="line-number">5385</span><br><span class="line-number">5386</span><br><span class="line-number">5387</span><br><span class="line-number">5388</span><br><span class="line-number">5389</span><br><span class="line-number">5390</span><br><span class="line-number">5391</span><br><span class="line-number">5392</span><br><span class="line-number">5393</span><br><span class="line-number">5394</span><br><span class="line-number">5395</span><br><span class="line-number">5396</span><br><span class="line-number">5397</span><br><span class="line-number">5398</span><br><span class="line-number">5399</span><br><span class="line-number">5400</span><br><span class="line-number">5401</span><br><span class="line-number">5402</span><br><span class="line-number">5403</span><br><span class="line-number">5404</span><br><span class="line-number">5405</span><br><span class="line-number">5406</span><br><span class="line-number">5407</span><br><span class="line-number">5408</span><br><span class="line-number">5409</span><br><span class="line-number">5410</span><br><span class="line-number">5411</span><br><span class="line-number">5412</span><br><span class="line-number">5413</span><br><span class="line-number">5414</span><br><span class="line-number">5415</span><br><span class="line-number">5416</span><br><span class="line-number">5417</span><br><span class="line-number">5418</span><br><span class="line-number">5419</span><br><span class="line-number">5420</span><br><span class="line-number">5421</span><br><span class="line-number">5422</span><br><span class="line-number">5423</span><br><span class="line-number">5424</span><br><span class="line-number">5425</span><br><span class="line-number">5426</span><br><span class="line-number">5427</span><br><span class="line-number">5428</span><br><span class="line-number">5429</span><br><span class="line-number">5430</span><br><span class="line-number">5431</span><br><span class="line-number">5432</span><br><span class="line-number">5433</span><br><span class="line-number">5434</span><br><span class="line-number">5435</span><br><span class="line-number">5436</span><br><span class="line-number">5437</span><br><span class="line-number">5438</span><br><span class="line-number">5439</span><br><span class="line-number">5440</span><br><span class="line-number">5441</span><br><span class="line-number">5442</span><br><span class="line-number">5443</span><br><span class="line-number">5444</span><br><span class="line-number">5445</span><br><span class="line-number">5446</span><br><span class="line-number">5447</span><br><span class="line-number">5448</span><br><span class="line-number">5449</span><br><span class="line-number">5450</span><br><span class="line-number">5451</span><br><span class="line-number">5452</span><br><span class="line-number">5453</span><br><span class="line-number">5454</span><br><span class="line-number">5455</span><br><span class="line-number">5456</span><br><span class="line-number">5457</span><br><span class="line-number">5458</span><br><span class="line-number">5459</span><br><span class="line-number">5460</span><br><span class="line-number">5461</span><br><span class="line-number">5462</span><br><span class="line-number">5463</span><br><span class="line-number">5464</span><br><span class="line-number">5465</span><br><span class="line-number">5466</span><br><span class="line-number">5467</span><br><span class="line-number">5468</span><br><span class="line-number">5469</span><br><span class="line-number">5470</span><br><span class="line-number">5471</span><br><span class="line-number">5472</span><br><span class="line-number">5473</span><br><span class="line-number">5474</span><br><span class="line-number">5475</span><br><span class="line-number">5476</span><br><span class="line-number">5477</span><br><span class="line-number">5478</span><br><span class="line-number">5479</span><br><span class="line-number">5480</span><br><span class="line-number">5481</span><br><span class="line-number">5482</span><br><span class="line-number">5483</span><br><span class="line-number">5484</span><br><span class="line-number">5485</span><br><span class="line-number">5486</span><br><span class="line-number">5487</span><br><span class="line-number">5488</span><br><span class="line-number">5489</span><br><span class="line-number">5490</span><br><span class="line-number">5491</span><br><span class="line-number">5492</span><br><span class="line-number">5493</span><br><span class="line-number">5494</span><br><span class="line-number">5495</span><br><span class="line-number">5496</span><br><span class="line-number">5497</span><br><span class="line-number">5498</span><br><span class="line-number">5499</span><br><span class="line-number">5500</span><br><span class="line-number">5501</span><br><span class="line-number">5502</span><br><span class="line-number">5503</span><br><span class="line-number">5504</span><br><span class="line-number">5505</span><br><span class="line-number">5506</span><br><span class="line-number">5507</span><br><span class="line-number">5508</span><br><span class="line-number">5509</span><br><span class="line-number">5510</span><br><span class="line-number">5511</span><br><span class="line-number">5512</span><br><span class="line-number">5513</span><br><span class="line-number">5514</span><br><span class="line-number">5515</span><br><span class="line-number">5516</span><br><span class="line-number">5517</span><br><span class="line-number">5518</span><br><span class="line-number">5519</span><br><span class="line-number">5520</span><br><span class="line-number">5521</span><br><span class="line-number">5522</span><br><span class="line-number">5523</span><br><span class="line-number">5524</span><br><span class="line-number">5525</span><br><span class="line-number">5526</span><br><span class="line-number">5527</span><br><span class="line-number">5528</span><br><span class="line-number">5529</span><br><span class="line-number">5530</span><br><span class="line-number">5531</span><br><span class="line-number">5532</span><br><span class="line-number">5533</span><br><span class="line-number">5534</span><br><span class="line-number">5535</span><br><span class="line-number">5536</span><br><span class="line-number">5537</span><br><span class="line-number">5538</span><br><span class="line-number">5539</span><br><span class="line-number">5540</span><br><span class="line-number">5541</span><br><span class="line-number">5542</span><br><span class="line-number">5543</span><br><span class="line-number">5544</span><br><span class="line-number">5545</span><br><span class="line-number">5546</span><br><span class="line-number">5547</span><br><span class="line-number">5548</span><br><span class="line-number">5549</span><br><span class="line-number">5550</span><br><span class="line-number">5551</span><br><span class="line-number">5552</span><br><span class="line-number">5553</span><br><span class="line-number">5554</span><br><span class="line-number">5555</span><br><span class="line-number">5556</span><br><span class="line-number">5557</span><br><span class="line-number">5558</span><br><span class="line-number">5559</span><br><span class="line-number">5560</span><br><span class="line-number">5561</span><br><span class="line-number">5562</span><br><span class="line-number">5563</span><br><span class="line-number">5564</span><br><span class="line-number">5565</span><br><span class="line-number">5566</span><br><span class="line-number">5567</span><br><span class="line-number">5568</span><br><span class="line-number">5569</span><br><span class="line-number">5570</span><br><span class="line-number">5571</span><br><span class="line-number">5572</span><br><span class="line-number">5573</span><br><span class="line-number">5574</span><br><span class="line-number">5575</span><br><span class="line-number">5576</span><br><span class="line-number">5577</span><br><span class="line-number">5578</span><br><span class="line-number">5579</span><br><span class="line-number">5580</span><br><span class="line-number">5581</span><br><span class="line-number">5582</span><br><span class="line-number">5583</span><br><span class="line-number">5584</span><br><span class="line-number">5585</span><br><span class="line-number">5586</span><br><span class="line-number">5587</span><br><span class="line-number">5588</span><br><span class="line-number">5589</span><br><span class="line-number">5590</span><br><span class="line-number">5591</span><br><span class="line-number">5592</span><br><span class="line-number">5593</span><br><span class="line-number">5594</span><br><span class="line-number">5595</span><br><span class="line-number">5596</span><br><span class="line-number">5597</span><br><span class="line-number">5598</span><br><span class="line-number">5599</span><br><span class="line-number">5600</span><br><span class="line-number">5601</span><br><span class="line-number">5602</span><br><span class="line-number">5603</span><br><span class="line-number">5604</span><br><span class="line-number">5605</span><br><span class="line-number">5606</span><br><span class="line-number">5607</span><br><span class="line-number">5608</span><br><span class="line-number">5609</span><br><span class="line-number">5610</span><br><span class="line-number">5611</span><br><span class="line-number">5612</span><br><span class="line-number">5613</span><br><span class="line-number">5614</span><br><span class="line-number">5615</span><br><span class="line-number">5616</span><br><span class="line-number">5617</span><br><span class="line-number">5618</span><br><span class="line-number">5619</span><br><span class="line-number">5620</span><br><span class="line-number">5621</span><br><span class="line-number">5622</span><br><span class="line-number">5623</span><br><span class="line-number">5624</span><br><span class="line-number">5625</span><br><span class="line-number">5626</span><br><span class="line-number">5627</span><br><span class="line-number">5628</span><br><span class="line-number">5629</span><br><span class="line-number">5630</span><br><span class="line-number">5631</span><br><span class="line-number">5632</span><br><span class="line-number">5633</span><br><span class="line-number">5634</span><br><span class="line-number">5635</span><br><span class="line-number">5636</span><br><span class="line-number">5637</span><br><span class="line-number">5638</span><br><span class="line-number">5639</span><br><span class="line-number">5640</span><br><span class="line-number">5641</span><br><span class="line-number">5642</span><br><span class="line-number">5643</span><br><span class="line-number">5644</span><br><span class="line-number">5645</span><br><span class="line-number">5646</span><br><span class="line-number">5647</span><br><span class="line-number">5648</span><br><span class="line-number">5649</span><br><span class="line-number">5650</span><br><span class="line-number">5651</span><br><span class="line-number">5652</span><br><span class="line-number">5653</span><br><span class="line-number">5654</span><br><span class="line-number">5655</span><br><span class="line-number">5656</span><br><span class="line-number">5657</span><br><span class="line-number">5658</span><br><span class="line-number">5659</span><br><span class="line-number">5660</span><br><span class="line-number">5661</span><br><span class="line-number">5662</span><br><span class="line-number">5663</span><br><span class="line-number">5664</span><br><span class="line-number">5665</span><br><span class="line-number">5666</span><br><span class="line-number">5667</span><br><span class="line-number">5668</span><br><span class="line-number">5669</span><br><span class="line-number">5670</span><br><span class="line-number">5671</span><br><span class="line-number">5672</span><br><span class="line-number">5673</span><br><span class="line-number">5674</span><br><span class="line-number">5675</span><br><span class="line-number">5676</span><br><span class="line-number">5677</span><br><span class="line-number">5678</span><br><span class="line-number">5679</span><br><span class="line-number">5680</span><br><span class="line-number">5681</span><br><span class="line-number">5682</span><br><span class="line-number">5683</span><br><span class="line-number">5684</span><br><span class="line-number">5685</span><br><span class="line-number">5686</span><br><span class="line-number">5687</span><br><span class="line-number">5688</span><br><span class="line-number">5689</span><br><span class="line-number">5690</span><br><span class="line-number">5691</span><br><span class="line-number">5692</span><br><span class="line-number">5693</span><br><span class="line-number">5694</span><br><span class="line-number">5695</span><br><span class="line-number">5696</span><br><span class="line-number">5697</span><br><span class="line-number">5698</span><br><span class="line-number">5699</span><br><span class="line-number">5700</span><br><span class="line-number">5701</span><br><span class="line-number">5702</span><br><span class="line-number">5703</span><br><span class="line-number">5704</span><br><span class="line-number">5705</span><br><span class="line-number">5706</span><br><span class="line-number">5707</span><br><span class="line-number">5708</span><br><span class="line-number">5709</span><br><span class="line-number">5710</span><br><span class="line-number">5711</span><br><span class="line-number">5712</span><br><span class="line-number">5713</span><br><span class="line-number">5714</span><br><span class="line-number">5715</span><br><span class="line-number">5716</span><br><span class="line-number">5717</span><br><span class="line-number">5718</span><br><span class="line-number">5719</span><br><span class="line-number">5720</span><br><span class="line-number">5721</span><br><span class="line-number">5722</span><br><span class="line-number">5723</span><br><span class="line-number">5724</span><br><span class="line-number">5725</span><br><span class="line-number">5726</span><br><span class="line-number">5727</span><br><span class="line-number">5728</span><br><span class="line-number">5729</span><br><span class="line-number">5730</span><br><span class="line-number">5731</span><br><span class="line-number">5732</span><br><span class="line-number">5733</span><br><span class="line-number">5734</span><br><span class="line-number">5735</span><br><span class="line-number">5736</span><br><span class="line-number">5737</span><br><span class="line-number">5738</span><br><span class="line-number">5739</span><br><span class="line-number">5740</span><br><span class="line-number">5741</span><br><span class="line-number">5742</span><br><span class="line-number">5743</span><br><span class="line-number">5744</span><br><span class="line-number">5745</span><br><span class="line-number">5746</span><br><span class="line-number">5747</span><br><span class="line-number">5748</span><br><span class="line-number">5749</span><br><span class="line-number">5750</span><br><span class="line-number">5751</span><br><span class="line-number">5752</span><br><span class="line-number">5753</span><br><span class="line-number">5754</span><br><span class="line-number">5755</span><br><span class="line-number">5756</span><br><span class="line-number">5757</span><br><span class="line-number">5758</span><br><span class="line-number">5759</span><br><span class="line-number">5760</span><br><span class="line-number">5761</span><br><span class="line-number">5762</span><br><span class="line-number">5763</span><br><span class="line-number">5764</span><br><span class="line-number">5765</span><br><span class="line-number">5766</span><br><span class="line-number">5767</span><br><span class="line-number">5768</span><br><span class="line-number">5769</span><br><span class="line-number">5770</span><br><span class="line-number">5771</span><br><span class="line-number">5772</span><br><span class="line-number">5773</span><br><span class="line-number">5774</span><br><span class="line-number">5775</span><br><span class="line-number">5776</span><br><span class="line-number">5777</span><br><span class="line-number">5778</span><br><span class="line-number">5779</span><br><span class="line-number">5780</span><br><span class="line-number">5781</span><br><span class="line-number">5782</span><br><span class="line-number">5783</span><br><span class="line-number">5784</span><br><span class="line-number">5785</span><br><span class="line-number">5786</span><br><span class="line-number">5787</span><br><span class="line-number">5788</span><br><span class="line-number">5789</span><br><span class="line-number">5790</span><br><span class="line-number">5791</span><br><span class="line-number">5792</span><br><span class="line-number">5793</span><br><span class="line-number">5794</span><br><span class="line-number">5795</span><br><span class="line-number">5796</span><br><span class="line-number">5797</span><br><span class="line-number">5798</span><br><span class="line-number">5799</span><br><span class="line-number">5800</span><br><span class="line-number">5801</span><br><span class="line-number">5802</span><br><span class="line-number">5803</span><br><span class="line-number">5804</span><br><span class="line-number">5805</span><br><span class="line-number">5806</span><br><span class="line-number">5807</span><br><span class="line-number">5808</span><br><span class="line-number">5809</span><br><span class="line-number">5810</span><br><span class="line-number">5811</span><br><span class="line-number">5812</span><br><span class="line-number">5813</span><br><span class="line-number">5814</span><br><span class="line-number">5815</span><br><span class="line-number">5816</span><br><span class="line-number">5817</span><br><span class="line-number">5818</span><br><span class="line-number">5819</span><br><span class="line-number">5820</span><br><span class="line-number">5821</span><br><span class="line-number">5822</span><br><span class="line-number">5823</span><br><span class="line-number">5824</span><br><span class="line-number">5825</span><br><span class="line-number">5826</span><br><span class="line-number">5827</span><br><span class="line-number">5828</span><br><span class="line-number">5829</span><br><span class="line-number">5830</span><br><span class="line-number">5831</span><br><span class="line-number">5832</span><br><span class="line-number">5833</span><br><span class="line-number">5834</span><br><span class="line-number">5835</span><br><span class="line-number">5836</span><br><span class="line-number">5837</span><br><span class="line-number">5838</span><br><span class="line-number">5839</span><br><span class="line-number">5840</span><br><span class="line-number">5841</span><br><span class="line-number">5842</span><br><span class="line-number">5843</span><br><span class="line-number">5844</span><br><span class="line-number">5845</span><br><span class="line-number">5846</span><br><span class="line-number">5847</span><br><span class="line-number">5848</span><br><span class="line-number">5849</span><br><span class="line-number">5850</span><br><span class="line-number">5851</span><br><span class="line-number">5852</span><br><span class="line-number">5853</span><br><span class="line-number">5854</span><br><span class="line-number">5855</span><br><span class="line-number">5856</span><br><span class="line-number">5857</span><br><span class="line-number">5858</span><br><span class="line-number">5859</span><br><span class="line-number">5860</span><br><span class="line-number">5861</span><br><span class="line-number">5862</span><br><span class="line-number">5863</span><br><span class="line-number">5864</span><br><span class="line-number">5865</span><br><span class="line-number">5866</span><br><span class="line-number">5867</span><br><span class="line-number">5868</span><br><span class="line-number">5869</span><br><span class="line-number">5870</span><br><span class="line-number">5871</span><br><span class="line-number">5872</span><br><span class="line-number">5873</span><br><span class="line-number">5874</span><br><span class="line-number">5875</span><br><span class="line-number">5876</span><br><span class="line-number">5877</span><br><span class="line-number">5878</span><br><span class="line-number">5879</span><br><span class="line-number">5880</span><br><span class="line-number">5881</span><br><span class="line-number">5882</span><br><span class="line-number">5883</span><br><span class="line-number">5884</span><br><span class="line-number">5885</span><br><span class="line-number">5886</span><br><span class="line-number">5887</span><br><span class="line-number">5888</span><br><span class="line-number">5889</span><br><span class="line-number">5890</span><br><span class="line-number">5891</span><br><span class="line-number">5892</span><br><span class="line-number">5893</span><br><span class="line-number">5894</span><br><span class="line-number">5895</span><br><span class="line-number">5896</span><br><span class="line-number">5897</span><br><span class="line-number">5898</span><br><span class="line-number">5899</span><br><span class="line-number">5900</span><br><span class="line-number">5901</span><br><span class="line-number">5902</span><br><span class="line-number">5903</span><br><span class="line-number">5904</span><br><span class="line-number">5905</span><br><span class="line-number">5906</span><br><span class="line-number">5907</span><br><span class="line-number">5908</span><br><span class="line-number">5909</span><br><span class="line-number">5910</span><br><span class="line-number">5911</span><br><span class="line-number">5912</span><br><span class="line-number">5913</span><br><span class="line-number">5914</span><br><span class="line-number">5915</span><br><span class="line-number">5916</span><br><span class="line-number">5917</span><br><span class="line-number">5918</span><br><span class="line-number">5919</span><br><span class="line-number">5920</span><br><span class="line-number">5921</span><br><span class="line-number">5922</span><br><span class="line-number">5923</span><br><span class="line-number">5924</span><br><span class="line-number">5925</span><br><span class="line-number">5926</span><br><span class="line-number">5927</span><br><span class="line-number">5928</span><br><span class="line-number">5929</span><br><span class="line-number">5930</span><br><span class="line-number">5931</span><br><span class="line-number">5932</span><br><span class="line-number">5933</span><br><span class="line-number">5934</span><br><span class="line-number">5935</span><br><span class="line-number">5936</span><br><span class="line-number">5937</span><br><span class="line-number">5938</span><br><span class="line-number">5939</span><br><span class="line-number">5940</span><br><span class="line-number">5941</span><br><span class="line-number">5942</span><br><span class="line-number">5943</span><br><span class="line-number">5944</span><br><span class="line-number">5945</span><br><span class="line-number">5946</span><br><span class="line-number">5947</span><br><span class="line-number">5948</span><br><span class="line-number">5949</span><br><span class="line-number">5950</span><br><span class="line-number">5951</span><br><span class="line-number">5952</span><br><span class="line-number">5953</span><br><span class="line-number">5954</span><br><span class="line-number">5955</span><br><span class="line-number">5956</span><br><span class="line-number">5957</span><br><span class="line-number">5958</span><br><span class="line-number">5959</span><br><span class="line-number">5960</span><br><span class="line-number">5961</span><br><span class="line-number">5962</span><br><span class="line-number">5963</span><br><span class="line-number">5964</span><br><span class="line-number">5965</span><br><span class="line-number">5966</span><br><span class="line-number">5967</span><br><span class="line-number">5968</span><br><span class="line-number">5969</span><br><span class="line-number">5970</span><br><span class="line-number">5971</span><br><span class="line-number">5972</span><br><span class="line-number">5973</span><br><span class="line-number">5974</span><br><span class="line-number">5975</span><br><span class="line-number">5976</span><br><span class="line-number">5977</span><br><span class="line-number">5978</span><br><span class="line-number">5979</span><br><span class="line-number">5980</span><br><span class="line-number">5981</span><br><span class="line-number">5982</span><br><span class="line-number">5983</span><br><span class="line-number">5984</span><br><span class="line-number">5985</span><br><span class="line-number">5986</span><br><span class="line-number">5987</span><br><span class="line-number">5988</span><br><span class="line-number">5989</span><br><span class="line-number">5990</span><br><span class="line-number">5991</span><br><span class="line-number">5992</span><br><span class="line-number">5993</span><br><span class="line-number">5994</span><br><span class="line-number">5995</span><br><span class="line-number">5996</span><br><span class="line-number">5997</span><br><span class="line-number">5998</span><br><span class="line-number">5999</span><br><span class="line-number">6000</span><br><span class="line-number">6001</span><br><span class="line-number">6002</span><br><span class="line-number">6003</span><br><span class="line-number">6004</span><br><span class="line-number">6005</span><br><span class="line-number">6006</span><br><span class="line-number">6007</span><br><span class="line-number">6008</span><br><span class="line-number">6009</span><br><span class="line-number">6010</span><br><span class="line-number">6011</span><br><span class="line-number">6012</span><br><span class="line-number">6013</span><br><span class="line-number">6014</span><br><span class="line-number">6015</span><br><span class="line-number">6016</span><br><span class="line-number">6017</span><br><span class="line-number">6018</span><br><span class="line-number">6019</span><br><span class="line-number">6020</span><br><span class="line-number">6021</span><br><span class="line-number">6022</span><br><span class="line-number">6023</span><br><span class="line-number">6024</span><br><span class="line-number">6025</span><br><span class="line-number">6026</span><br><span class="line-number">6027</span><br><span class="line-number">6028</span><br><span class="line-number">6029</span><br><span class="line-number">6030</span><br><span class="line-number">6031</span><br><span class="line-number">6032</span><br><span class="line-number">6033</span><br><span class="line-number">6034</span><br><span class="line-number">6035</span><br><span class="line-number">6036</span><br><span class="line-number">6037</span><br><span class="line-number">6038</span><br><span class="line-number">6039</span><br><span class="line-number">6040</span><br><span class="line-number">6041</span><br><span class="line-number">6042</span><br><span class="line-number">6043</span><br><span class="line-number">6044</span><br><span class="line-number">6045</span><br><span class="line-number">6046</span><br><span class="line-number">6047</span><br><span class="line-number">6048</span><br><span class="line-number">6049</span><br><span class="line-number">6050</span><br><span class="line-number">6051</span><br><span class="line-number">6052</span><br><span class="line-number">6053</span><br><span class="line-number">6054</span><br><span class="line-number">6055</span><br><span class="line-number">6056</span><br><span class="line-number">6057</span><br><span class="line-number">6058</span><br><span class="line-number">6059</span><br><span class="line-number">6060</span><br><span class="line-number">6061</span><br><span class="line-number">6062</span><br><span class="line-number">6063</span><br><span class="line-number">6064</span><br><span class="line-number">6065</span><br><span class="line-number">6066</span><br><span class="line-number">6067</span><br><span class="line-number">6068</span><br><span class="line-number">6069</span><br><span class="line-number">6070</span><br><span class="line-number">6071</span><br><span class="line-number">6072</span><br><span class="line-number">6073</span><br><span class="line-number">6074</span><br><span class="line-number">6075</span><br><span class="line-number">6076</span><br><span class="line-number">6077</span><br><span class="line-number">6078</span><br><span class="line-number">6079</span><br><span class="line-number">6080</span><br><span class="line-number">6081</span><br><span class="line-number">6082</span><br><span class="line-number">6083</span><br><span class="line-number">6084</span><br><span class="line-number">6085</span><br><span class="line-number">6086</span><br><span class="line-number">6087</span><br><span class="line-number">6088</span><br><span class="line-number">6089</span><br><span class="line-number">6090</span><br><span class="line-number">6091</span><br><span class="line-number">6092</span><br><span class="line-number">6093</span><br><span class="line-number">6094</span><br><span class="line-number">6095</span><br><span class="line-number">6096</span><br><span class="line-number">6097</span><br><span class="line-number">6098</span><br><span class="line-number">6099</span><br><span class="line-number">6100</span><br><span class="line-number">6101</span><br><span class="line-number">6102</span><br><span class="line-number">6103</span><br><span class="line-number">6104</span><br><span class="line-number">6105</span><br><span class="line-number">6106</span><br><span class="line-number">6107</span><br><span class="line-number">6108</span><br><span class="line-number">6109</span><br><span class="line-number">6110</span><br><span class="line-number">6111</span><br><span class="line-number">6112</span><br><span class="line-number">6113</span><br><span class="line-number">6114</span><br><span class="line-number">6115</span><br><span class="line-number">6116</span><br><span class="line-number">6117</span><br><span class="line-number">6118</span><br><span class="line-number">6119</span><br><span class="line-number">6120</span><br><span class="line-number">6121</span><br><span class="line-number">6122</span><br><span class="line-number">6123</span><br><span class="line-number">6124</span><br><span class="line-number">6125</span><br><span class="line-number">6126</span><br><span class="line-number">6127</span><br><span class="line-number">6128</span><br><span class="line-number">6129</span><br><span class="line-number">6130</span><br><span class="line-number">6131</span><br><span class="line-number">6132</span><br><span class="line-number">6133</span><br><span class="line-number">6134</span><br><span class="line-number">6135</span><br><span class="line-number">6136</span><br><span class="line-number">6137</span><br><span class="line-number">6138</span><br><span class="line-number">6139</span><br><span class="line-number">6140</span><br><span class="line-number">6141</span><br><span class="line-number">6142</span><br><span class="line-number">6143</span><br><span class="line-number">6144</span><br><span class="line-number">6145</span><br><span class="line-number">6146</span><br><span class="line-number">6147</span><br><span class="line-number">6148</span><br><span class="line-number">6149</span><br><span class="line-number">6150</span><br><span class="line-number">6151</span><br><span class="line-number">6152</span><br><span class="line-number">6153</span><br><span class="line-number">6154</span><br><span class="line-number">6155</span><br><span class="line-number">6156</span><br><span class="line-number">6157</span><br><span class="line-number">6158</span><br><span class="line-number">6159</span><br><span class="line-number">6160</span><br><span class="line-number">6161</span><br><span class="line-number">6162</span><br><span class="line-number">6163</span><br><span class="line-number">6164</span><br><span class="line-number">6165</span><br><span class="line-number">6166</span><br><span class="line-number">6167</span><br><span class="line-number">6168</span><br><span class="line-number">6169</span><br><span class="line-number">6170</span><br><span class="line-number">6171</span><br><span class="line-number">6172</span><br><span class="line-number">6173</span><br><span class="line-number">6174</span><br><span class="line-number">6175</span><br><span class="line-number">6176</span><br><span class="line-number">6177</span><br><span class="line-number">6178</span><br><span class="line-number">6179</span><br><span class="line-number">6180</span><br><span class="line-number">6181</span><br><span class="line-number">6182</span><br><span class="line-number">6183</span><br><span class="line-number">6184</span><br><span class="line-number">6185</span><br><span class="line-number">6186</span><br><span class="line-number">6187</span><br><span class="line-number">6188</span><br><span class="line-number">6189</span><br><span class="line-number">6190</span><br><span class="line-number">6191</span><br><span class="line-number">6192</span><br><span class="line-number">6193</span><br><span class="line-number">6194</span><br><span class="line-number">6195</span><br><span class="line-number">6196</span><br><span class="line-number">6197</span><br><span class="line-number">6198</span><br><span class="line-number">6199</span><br><span class="line-number">6200</span><br><span class="line-number">6201</span><br><span class="line-number">6202</span><br><span class="line-number">6203</span><br><span class="line-number">6204</span><br><span class="line-number">6205</span><br><span class="line-number">6206</span><br><span class="line-number">6207</span><br><span class="line-number">6208</span><br><span class="line-number">6209</span><br><span class="line-number">6210</span><br><span class="line-number">6211</span><br><span class="line-number">6212</span><br><span class="line-number">6213</span><br><span class="line-number">6214</span><br><span class="line-number">6215</span><br><span class="line-number">6216</span><br><span class="line-number">6217</span><br><span class="line-number">6218</span><br><span class="line-number">6219</span><br><span class="line-number">6220</span><br><span class="line-number">6221</span><br><span class="line-number">6222</span><br><span class="line-number">6223</span><br><span class="line-number">6224</span><br><span class="line-number">6225</span><br><span class="line-number">6226</span><br><span class="line-number">6227</span><br><span class="line-number">6228</span><br><span class="line-number">6229</span><br><span class="line-number">6230</span><br><span class="line-number">6231</span><br><span class="line-number">6232</span><br><span class="line-number">6233</span><br><span class="line-number">6234</span><br><span class="line-number">6235</span><br><span class="line-number">6236</span><br><span class="line-number">6237</span><br><span class="line-number">6238</span><br><span class="line-number">6239</span><br><span class="line-number">6240</span><br><span class="line-number">6241</span><br><span class="line-number">6242</span><br><span class="line-number">6243</span><br><span class="line-number">6244</span><br><span class="line-number">6245</span><br><span class="line-number">6246</span><br><span class="line-number">6247</span><br><span class="line-number">6248</span><br><span class="line-number">6249</span><br><span class="line-number">6250</span><br><span class="line-number">6251</span><br><span class="line-number">6252</span><br><span class="line-number">6253</span><br><span class="line-number">6254</span><br><span class="line-number">6255</span><br><span class="line-number">6256</span><br><span class="line-number">6257</span><br><span class="line-number">6258</span><br><span class="line-number">6259</span><br><span class="line-number">6260</span><br><span class="line-number">6261</span><br><span class="line-number">6262</span><br><span class="line-number">6263</span><br><span class="line-number">6264</span><br><span class="line-number">6265</span><br><span class="line-number">6266</span><br><span class="line-number">6267</span><br><span class="line-number">6268</span><br><span class="line-number">6269</span><br><span class="line-number">6270</span><br><span class="line-number">6271</span><br><span class="line-number">6272</span><br><span class="line-number">6273</span><br><span class="line-number">6274</span><br><span class="line-number">6275</span><br><span class="line-number">6276</span><br><span class="line-number">6277</span><br><span class="line-number">6278</span><br><span class="line-number">6279</span><br><span class="line-number">6280</span><br><span class="line-number">6281</span><br><span class="line-number">6282</span><br><span class="line-number">6283</span><br><span class="line-number">6284</span><br><span class="line-number">6285</span><br><span class="line-number">6286</span><br><span class="line-number">6287</span><br><span class="line-number">6288</span><br><span class="line-number">6289</span><br><span class="line-number">6290</span><br><span class="line-number">6291</span><br><span class="line-number">6292</span><br><span class="line-number">6293</span><br><span class="line-number">6294</span><br><span class="line-number">6295</span><br><span class="line-number">6296</span><br><span class="line-number">6297</span><br><span class="line-number">6298</span><br><span class="line-number">6299</span><br><span class="line-number">6300</span><br><span class="line-number">6301</span><br><span class="line-number">6302</span><br><span class="line-number">6303</span><br><span class="line-number">6304</span><br><span class="line-number">6305</span><br><span class="line-number">6306</span><br><span class="line-number">6307</span><br><span class="line-number">6308</span><br><span class="line-number">6309</span><br><span class="line-number">6310</span><br><span class="line-number">6311</span><br><span class="line-number">6312</span><br><span class="line-number">6313</span><br><span class="line-number">6314</span><br><span class="line-number">6315</span><br><span class="line-number">6316</span><br><span class="line-number">6317</span><br><span class="line-number">6318</span><br><span class="line-number">6319</span><br><span class="line-number">6320</span><br><span class="line-number">6321</span><br><span class="line-number">6322</span><br><span class="line-number">6323</span><br><span class="line-number">6324</span><br><span class="line-number">6325</span><br><span class="line-number">6326</span><br><span class="line-number">6327</span><br><span class="line-number">6328</span><br><span class="line-number">6329</span><br><span class="line-number">6330</span><br><span class="line-number">6331</span><br><span class="line-number">6332</span><br><span class="line-number">6333</span><br><span class="line-number">6334</span><br><span class="line-number">6335</span><br><span class="line-number">6336</span><br><span class="line-number">6337</span><br><span class="line-number">6338</span><br><span class="line-number">6339</span><br><span class="line-number">6340</span><br><span class="line-number">6341</span><br><span class="line-number">6342</span><br><span class="line-number">6343</span><br><span class="line-number">6344</span><br><span class="line-number">6345</span><br><span class="line-number">6346</span><br><span class="line-number">6347</span><br><span class="line-number">6348</span><br><span class="line-number">6349</span><br><span class="line-number">6350</span><br><span class="line-number">6351</span><br><span class="line-number">6352</span><br><span class="line-number">6353</span><br><span class="line-number">6354</span><br><span class="line-number">6355</span><br><span class="line-number">6356</span><br><span class="line-number">6357</span><br><span class="line-number">6358</span><br><span class="line-number">6359</span><br><span class="line-number">6360</span><br><span class="line-number">6361</span><br><span class="line-number">6362</span><br><span class="line-number">6363</span><br><span class="line-number">6364</span><br><span class="line-number">6365</span><br><span class="line-number">6366</span><br><span class="line-number">6367</span><br><span class="line-number">6368</span><br><span class="line-number">6369</span><br><span class="line-number">6370</span><br><span class="line-number">6371</span><br><span class="line-number">6372</span><br><span class="line-number">6373</span><br><span class="line-number">6374</span><br><span class="line-number">6375</span><br><span class="line-number">6376</span><br><span class="line-number">6377</span><br><span class="line-number">6378</span><br><span class="line-number">6379</span><br><span class="line-number">6380</span><br><span class="line-number">6381</span><br><span class="line-number">6382</span><br><span class="line-number">6383</span><br><span class="line-number">6384</span><br><span class="line-number">6385</span><br><span class="line-number">6386</span><br><span class="line-number">6387</span><br><span class="line-number">6388</span><br><span class="line-number">6389</span><br><span class="line-number">6390</span><br><span class="line-number">6391</span><br><span class="line-number">6392</span><br><span class="line-number">6393</span><br><span class="line-number">6394</span><br><span class="line-number">6395</span><br><span class="line-number">6396</span><br><span class="line-number">6397</span><br><span class="line-number">6398</span><br><span class="line-number">6399</span><br><span class="line-number">6400</span><br><span class="line-number">6401</span><br><span class="line-number">6402</span><br><span class="line-number">6403</span><br><span class="line-number">6404</span><br><span class="line-number">6405</span><br><span class="line-number">6406</span><br><span class="line-number">6407</span><br><span class="line-number">6408</span><br><span class="line-number">6409</span><br><span class="line-number">6410</span><br><span class="line-number">6411</span><br><span class="line-number">6412</span><br><span class="line-number">6413</span><br><span class="line-number">6414</span><br><span class="line-number">6415</span><br><span class="line-number">6416</span><br><span class="line-number">6417</span><br><span class="line-number">6418</span><br><span class="line-number">6419</span><br><span class="line-number">6420</span><br><span class="line-number">6421</span><br><span class="line-number">6422</span><br><span class="line-number">6423</span><br><span class="line-number">6424</span><br><span class="line-number">6425</span><br><span class="line-number">6426</span><br><span class="line-number">6427</span><br><span class="line-number">6428</span><br><span class="line-number">6429</span><br><span class="line-number">6430</span><br><span class="line-number">6431</span><br><span class="line-number">6432</span><br><span class="line-number">6433</span><br><span class="line-number">6434</span><br><span class="line-number">6435</span><br><span class="line-number">6436</span><br><span class="line-number">6437</span><br><span class="line-number">6438</span><br><span class="line-number">6439</span><br><span class="line-number">6440</span><br><span class="line-number">6441</span><br><span class="line-number">6442</span><br><span class="line-number">6443</span><br><span class="line-number">6444</span><br><span class="line-number">6445</span><br><span class="line-number">6446</span><br><span class="line-number">6447</span><br><span class="line-number">6448</span><br><span class="line-number">6449</span><br><span class="line-number">6450</span><br><span class="line-number">6451</span><br><span class="line-number">6452</span><br><span class="line-number">6453</span><br><span class="line-number">6454</span><br><span class="line-number">6455</span><br><span class="line-number">6456</span><br><span class="line-number">6457</span><br><span class="line-number">6458</span><br><span class="line-number">6459</span><br><span class="line-number">6460</span><br><span class="line-number">6461</span><br><span class="line-number">6462</span><br><span class="line-number">6463</span><br><span class="line-number">6464</span><br><span class="line-number">6465</span><br><span class="line-number">6466</span><br><span class="line-number">6467</span><br><span class="line-number">6468</span><br><span class="line-number">6469</span><br><span class="line-number">6470</span><br><span class="line-number">6471</span><br><span class="line-number">6472</span><br><span class="line-number">6473</span><br><span class="line-number">6474</span><br><span class="line-number">6475</span><br><span class="line-number">6476</span><br><span class="line-number">6477</span><br><span class="line-number">6478</span><br><span class="line-number">6479</span><br><span class="line-number">6480</span><br><span class="line-number">6481</span><br><span class="line-number">6482</span><br><span class="line-number">6483</span><br><span class="line-number">6484</span><br><span class="line-number">6485</span><br><span class="line-number">6486</span><br><span class="line-number">6487</span><br><span class="line-number">6488</span><br><span class="line-number">6489</span><br><span class="line-number">6490</span><br><span class="line-number">6491</span><br><span class="line-number">6492</span><br><span class="line-number">6493</span><br><span class="line-number">6494</span><br><span class="line-number">6495</span><br><span class="line-number">6496</span><br><span class="line-number">6497</span><br><span class="line-number">6498</span><br><span class="line-number">6499</span><br><span class="line-number">6500</span><br><span class="line-number">6501</span><br><span class="line-number">6502</span><br><span class="line-number">6503</span><br><span class="line-number">6504</span><br><span class="line-number">6505</span><br><span class="line-number">6506</span><br><span class="line-number">6507</span><br><span class="line-number">6508</span><br><span class="line-number">6509</span><br><span class="line-number">6510</span><br><span class="line-number">6511</span><br><span class="line-number">6512</span><br><span class="line-number">6513</span><br><span class="line-number">6514</span><br><span class="line-number">6515</span><br><span class="line-number">6516</span><br><span class="line-number">6517</span><br><span class="line-number">6518</span><br><span class="line-number">6519</span><br><span class="line-number">6520</span><br><span class="line-number">6521</span><br><span class="line-number">6522</span><br><span class="line-number">6523</span><br><span class="line-number">6524</span><br><span class="line-number">6525</span><br><span class="line-number">6526</span><br><span class="line-number">6527</span><br><span class="line-number">6528</span><br><span class="line-number">6529</span><br><span class="line-number">6530</span><br><span class="line-number">6531</span><br><span class="line-number">6532</span><br><span class="line-number">6533</span><br><span class="line-number">6534</span><br><span class="line-number">6535</span><br><span class="line-number">6536</span><br><span class="line-number">6537</span><br><span class="line-number">6538</span><br><span class="line-number">6539</span><br><span class="line-number">6540</span><br><span class="line-number">6541</span><br><span class="line-number">6542</span><br><span class="line-number">6543</span><br><span class="line-number">6544</span><br><span class="line-number">6545</span><br><span class="line-number">6546</span><br><span class="line-number">6547</span><br><span class="line-number">6548</span><br><span class="line-number">6549</span><br><span class="line-number">6550</span><br><span class="line-number">6551</span><br><span class="line-number">6552</span><br><span class="line-number">6553</span><br><span class="line-number">6554</span><br><span class="line-number">6555</span><br><span class="line-number">6556</span><br><span class="line-number">6557</span><br><span class="line-number">6558</span><br><span class="line-number">6559</span><br><span class="line-number">6560</span><br><span class="line-number">6561</span><br><span class="line-number">6562</span><br><span class="line-number">6563</span><br><span class="line-number">6564</span><br><span class="line-number">6565</span><br><span class="line-number">6566</span><br><span class="line-number">6567</span><br><span class="line-number">6568</span><br><span class="line-number">6569</span><br><span class="line-number">6570</span><br><span class="line-number">6571</span><br><span class="line-number">6572</span><br><span class="line-number">6573</span><br><span class="line-number">6574</span><br><span class="line-number">6575</span><br><span class="line-number">6576</span><br><span class="line-number">6577</span><br><span class="line-number">6578</span><br><span class="line-number">6579</span><br><span class="line-number">6580</span><br><span class="line-number">6581</span><br><span class="line-number">6582</span><br><span class="line-number">6583</span><br><span class="line-number">6584</span><br><span class="line-number">6585</span><br><span class="line-number">6586</span><br><span class="line-number">6587</span><br><span class="line-number">6588</span><br><span class="line-number">6589</span><br><span class="line-number">6590</span><br><span class="line-number">6591</span><br><span class="line-number">6592</span><br><span class="line-number">6593</span><br><span class="line-number">6594</span><br><span class="line-number">6595</span><br><span class="line-number">6596</span><br><span class="line-number">6597</span><br><span class="line-number">6598</span><br><span class="line-number">6599</span><br><span class="line-number">6600</span><br><span class="line-number">6601</span><br><span class="line-number">6602</span><br><span class="line-number">6603</span><br><span class="line-number">6604</span><br><span class="line-number">6605</span><br><span class="line-number">6606</span><br><span class="line-number">6607</span><br><span class="line-number">6608</span><br><span class="line-number">6609</span><br><span class="line-number">6610</span><br><span class="line-number">6611</span><br><span class="line-number">6612</span><br><span class="line-number">6613</span><br><span class="line-number">6614</span><br><span class="line-number">6615</span><br><span class="line-number">6616</span><br><span class="line-number">6617</span><br><span class="line-number">6618</span><br><span class="line-number">6619</span><br><span class="line-number">6620</span><br><span class="line-number">6621</span><br><span class="line-number">6622</span><br><span class="line-number">6623</span><br><span class="line-number">6624</span><br><span class="line-number">6625</span><br><span class="line-number">6626</span><br><span class="line-number">6627</span><br><span class="line-number">6628</span><br><span class="line-number">6629</span><br><span class="line-number">6630</span><br><span class="line-number">6631</span><br><span class="line-number">6632</span><br><span class="line-number">6633</span><br><span class="line-number">6634</span><br><span class="line-number">6635</span><br><span class="line-number">6636</span><br><span class="line-number">6637</span><br><span class="line-number">6638</span><br><span class="line-number">6639</span><br><span class="line-number">6640</span><br><span class="line-number">6641</span><br><span class="line-number">6642</span><br><span class="line-number">6643</span><br><span class="line-number">6644</span><br><span class="line-number">6645</span><br><span class="line-number">6646</span><br><span class="line-number">6647</span><br><span class="line-number">6648</span><br><span class="line-number">6649</span><br><span class="line-number">6650</span><br><span class="line-number">6651</span><br><span class="line-number">6652</span><br><span class="line-number">6653</span><br><span class="line-number">6654</span><br><span class="line-number">6655</span><br><span class="line-number">6656</span><br><span class="line-number">6657</span><br><span class="line-number">6658</span><br><span class="line-number">6659</span><br><span class="line-number">6660</span><br><span class="line-number">6661</span><br><span class="line-number">6662</span><br><span class="line-number">6663</span><br><span class="line-number">6664</span><br><span class="line-number">6665</span><br><span class="line-number">6666</span><br><span class="line-number">6667</span><br><span class="line-number">6668</span><br><span class="line-number">6669</span><br><span class="line-number">6670</span><br><span class="line-number">6671</span><br><span class="line-number">6672</span><br><span class="line-number">6673</span><br><span class="line-number">6674</span><br><span class="line-number">6675</span><br><span class="line-number">6676</span><br><span class="line-number">6677</span><br><span class="line-number">6678</span><br><span class="line-number">6679</span><br><span class="line-number">6680</span><br><span class="line-number">6681</span><br><span class="line-number">6682</span><br><span class="line-number">6683</span><br><span class="line-number">6684</span><br><span class="line-number">6685</span><br><span class="line-number">6686</span><br><span class="line-number">6687</span><br><span class="line-number">6688</span><br><span class="line-number">6689</span><br><span class="line-number">6690</span><br><span class="line-number">6691</span><br><span class="line-number">6692</span><br><span class="line-number">6693</span><br><span class="line-number">6694</span><br><span class="line-number">6695</span><br><span class="line-number">6696</span><br><span class="line-number">6697</span><br><span class="line-number">6698</span><br><span class="line-number">6699</span><br><span class="line-number">6700</span><br><span class="line-number">6701</span><br><span class="line-number">6702</span><br><span class="line-number">6703</span><br><span class="line-number">6704</span><br><span class="line-number">6705</span><br><span class="line-number">6706</span><br><span class="line-number">6707</span><br><span class="line-number">6708</span><br><span class="line-number">6709</span><br><span class="line-number">6710</span><br><span class="line-number">6711</span><br><span class="line-number">6712</span><br><span class="line-number">6713</span><br><span class="line-number">6714</span><br><span class="line-number">6715</span><br><span class="line-number">6716</span><br><span class="line-number">6717</span><br><span class="line-number">6718</span><br><span class="line-number">6719</span><br><span class="line-number">6720</span><br><span class="line-number">6721</span><br><span class="line-number">6722</span><br><span class="line-number">6723</span><br><span class="line-number">6724</span><br><span class="line-number">6725</span><br><span class="line-number">6726</span><br><span class="line-number">6727</span><br><span class="line-number">6728</span><br><span class="line-number">6729</span><br><span class="line-number">6730</span><br><span class="line-number">6731</span><br><span class="line-number">6732</span><br><span class="line-number">6733</span><br><span class="line-number">6734</span><br><span class="line-number">6735</span><br><span class="line-number">6736</span><br><span class="line-number">6737</span><br><span class="line-number">6738</span><br><span class="line-number">6739</span><br><span class="line-number">6740</span><br><span class="line-number">6741</span><br><span class="line-number">6742</span><br><span class="line-number">6743</span><br><span class="line-number">6744</span><br><span class="line-number">6745</span><br><span class="line-number">6746</span><br><span class="line-number">6747</span><br><span class="line-number">6748</span><br><span class="line-number">6749</span><br><span class="line-number">6750</span><br><span class="line-number">6751</span><br><span class="line-number">6752</span><br><span class="line-number">6753</span><br><span class="line-number">6754</span><br><span class="line-number">6755</span><br><span class="line-number">6756</span><br><span class="line-number">6757</span><br><span class="line-number">6758</span><br><span class="line-number">6759</span><br><span class="line-number">6760</span><br><span class="line-number">6761</span><br><span class="line-number">6762</span><br><span class="line-number">6763</span><br><span class="line-number">6764</span><br><span class="line-number">6765</span><br><span class="line-number">6766</span><br><span class="line-number">6767</span><br><span class="line-number">6768</span><br><span class="line-number">6769</span><br><span class="line-number">6770</span><br><span class="line-number">6771</span><br><span class="line-number">6772</span><br><span class="line-number">6773</span><br><span class="line-number">6774</span><br><span class="line-number">6775</span><br><span class="line-number">6776</span><br><span class="line-number">6777</span><br><span class="line-number">6778</span><br><span class="line-number">6779</span><br><span class="line-number">6780</span><br><span class="line-number">6781</span><br><span class="line-number">6782</span><br><span class="line-number">6783</span><br><span class="line-number">6784</span><br><span class="line-number">6785</span><br><span class="line-number">6786</span><br><span class="line-number">6787</span><br><span class="line-number">6788</span><br><span class="line-number">6789</span><br><span class="line-number">6790</span><br><span class="line-number">6791</span><br><span class="line-number">6792</span><br><span class="line-number">6793</span><br><span class="line-number">6794</span><br><span class="line-number">6795</span><br><span class="line-number">6796</span><br><span class="line-number">6797</span><br><span class="line-number">6798</span><br><span class="line-number">6799</span><br><span class="line-number">6800</span><br><span class="line-number">6801</span><br><span class="line-number">6802</span><br><span class="line-number">6803</span><br><span class="line-number">6804</span><br><span class="line-number">6805</span><br><span class="line-number">6806</span><br><span class="line-number">6807</span><br><span class="line-number">6808</span><br><span class="line-number">6809</span><br><span class="line-number">6810</span><br><span class="line-number">6811</span><br><span class="line-number">6812</span><br><span class="line-number">6813</span><br><span class="line-number">6814</span><br><span class="line-number">6815</span><br><span class="line-number">6816</span><br><span class="line-number">6817</span><br><span class="line-number">6818</span><br><span class="line-number">6819</span><br><span class="line-number">6820</span><br><span class="line-number">6821</span><br><span class="line-number">6822</span><br><span class="line-number">6823</span><br><span class="line-number">6824</span><br><span class="line-number">6825</span><br><span class="line-number">6826</span><br><span class="line-number">6827</span><br><span class="line-number">6828</span><br><span class="line-number">6829</span><br><span class="line-number">6830</span><br><span class="line-number">6831</span><br><span class="line-number">6832</span><br><span class="line-number">6833</span><br><span class="line-number">6834</span><br><span class="line-number">6835</span><br><span class="line-number">6836</span><br><span class="line-number">6837</span><br><span class="line-number">6838</span><br><span class="line-number">6839</span><br><span class="line-number">6840</span><br><span class="line-number">6841</span><br><span class="line-number">6842</span><br><span class="line-number">6843</span><br><span class="line-number">6844</span><br><span class="line-number">6845</span><br><span class="line-number">6846</span><br><span class="line-number">6847</span><br><span class="line-number">6848</span><br><span class="line-number">6849</span><br><span class="line-number">6850</span><br><span class="line-number">6851</span><br><span class="line-number">6852</span><br><span class="line-number">6853</span><br><span class="line-number">6854</span><br><span class="line-number">6855</span><br><span class="line-number">6856</span><br><span class="line-number">6857</span><br><span class="line-number">6858</span><br><span class="line-number">6859</span><br><span class="line-number">6860</span><br><span class="line-number">6861</span><br><span class="line-number">6862</span><br><span class="line-number">6863</span><br><span class="line-number">6864</span><br><span class="line-number">6865</span><br><span class="line-number">6866</span><br><span class="line-number">6867</span><br><span class="line-number">6868</span><br><span class="line-number">6869</span><br><span class="line-number">6870</span><br><span class="line-number">6871</span><br><span class="line-number">6872</span><br><span class="line-number">6873</span><br><span class="line-number">6874</span><br><span class="line-number">6875</span><br><span class="line-number">6876</span><br><span class="line-number">6877</span><br><span class="line-number">6878</span><br><span class="line-number">6879</span><br><span class="line-number">6880</span><br><span class="line-number">6881</span><br><span class="line-number">6882</span><br><span class="line-number">6883</span><br><span class="line-number">6884</span><br><span class="line-number">6885</span><br><span class="line-number">6886</span><br><span class="line-number">6887</span><br><span class="line-number">6888</span><br><span class="line-number">6889</span><br><span class="line-number">6890</span><br><span class="line-number">6891</span><br><span class="line-number">6892</span><br><span class="line-number">6893</span><br><span class="line-number">6894</span><br><span class="line-number">6895</span><br><span class="line-number">6896</span><br><span class="line-number">6897</span><br><span class="line-number">6898</span><br><span class="line-number">6899</span><br><span class="line-number">6900</span><br><span class="line-number">6901</span><br><span class="line-number">6902</span><br><span class="line-number">6903</span><br><span class="line-number">6904</span><br><span class="line-number">6905</span><br><span class="line-number">6906</span><br><span class="line-number">6907</span><br><span class="line-number">6908</span><br><span class="line-number">6909</span><br><span class="line-number">6910</span><br><span class="line-number">6911</span><br><span class="line-number">6912</span><br><span class="line-number">6913</span><br><span class="line-number">6914</span><br><span class="line-number">6915</span><br><span class="line-number">6916</span><br><span class="line-number">6917</span><br><span class="line-number">6918</span><br><span class="line-number">6919</span><br><span class="line-number">6920</span><br><span class="line-number">6921</span><br><span class="line-number">6922</span><br><span class="line-number">6923</span><br><span class="line-number">6924</span><br><span class="line-number">6925</span><br><span class="line-number">6926</span><br><span class="line-number">6927</span><br><span class="line-number">6928</span><br><span class="line-number">6929</span><br><span class="line-number">6930</span><br><span class="line-number">6931</span><br><span class="line-number">6932</span><br><span class="line-number">6933</span><br><span class="line-number">6934</span><br><span class="line-number">6935</span><br><span class="line-number">6936</span><br><span class="line-number">6937</span><br><span class="line-number">6938</span><br><span class="line-number">6939</span><br><span class="line-number">6940</span><br><span class="line-number">6941</span><br><span class="line-number">6942</span><br><span class="line-number">6943</span><br><span class="line-number">6944</span><br><span class="line-number">6945</span><br><span class="line-number">6946</span><br><span class="line-number">6947</span><br><span class="line-number">6948</span><br><span class="line-number">6949</span><br><span class="line-number">6950</span><br><span class="line-number">6951</span><br><span class="line-number">6952</span><br><span class="line-number">6953</span><br><span class="line-number">6954</span><br><span class="line-number">6955</span><br><span class="line-number">6956</span><br><span class="line-number">6957</span><br><span class="line-number">6958</span><br><span class="line-number">6959</span><br><span class="line-number">6960</span><br><span class="line-number">6961</span><br><span class="line-number">6962</span><br><span class="line-number">6963</span><br><span class="line-number">6964</span><br><span class="line-number">6965</span><br><span class="line-number">6966</span><br><span class="line-number">6967</span><br><span class="line-number">6968</span><br><span class="line-number">6969</span><br><span class="line-number">6970</span><br><span class="line-number">6971</span><br><span class="line-number">6972</span><br><span class="line-number">6973</span><br><span class="line-number">6974</span><br><span class="line-number">6975</span><br><span class="line-number">6976</span><br><span class="line-number">6977</span><br><span class="line-number">6978</span><br><span class="line-number">6979</span><br><span class="line-number">6980</span><br><span class="line-number">6981</span><br><span class="line-number">6982</span><br><span class="line-number">6983</span><br><span class="line-number">6984</span><br><span class="line-number">6985</span><br><span class="line-number">6986</span><br><span class="line-number">6987</span><br><span class="line-number">6988</span><br><span class="line-number">6989</span><br><span class="line-number">6990</span><br><span class="line-number">6991</span><br><span class="line-number">6992</span><br><span class="line-number">6993</span><br><span class="line-number">6994</span><br><span class="line-number">6995</span><br><span class="line-number">6996</span><br><span class="line-number">6997</span><br><span class="line-number">6998</span><br><span class="line-number">6999</span><br><span class="line-number">7000</span><br><span class="line-number">7001</span><br><span class="line-number">7002</span><br><span class="line-number">7003</span><br><span class="line-number">7004</span><br><span class="line-number">7005</span><br><span class="line-number">7006</span><br><span class="line-number">7007</span><br><span class="line-number">7008</span><br><span class="line-number">7009</span><br><span class="line-number">7010</span><br><span class="line-number">7011</span><br><span class="line-number">7012</span><br><span class="line-number">7013</span><br><span class="line-number">7014</span><br><span class="line-number">7015</span><br><span class="line-number">7016</span><br><span class="line-number">7017</span><br><span class="line-number">7018</span><br><span class="line-number">7019</span><br><span class="line-number">7020</span><br><span class="line-number">7021</span><br><span class="line-number">7022</span><br><span class="line-number">7023</span><br><span class="line-number">7024</span><br><span class="line-number">7025</span><br><span class="line-number">7026</span><br><span class="line-number">7027</span><br><span class="line-number">7028</span><br><span class="line-number">7029</span><br><span class="line-number">7030</span><br><span class="line-number">7031</span><br><span class="line-number">7032</span><br><span class="line-number">7033</span><br><span class="line-number">7034</span><br><span class="line-number">7035</span><br><span class="line-number">7036</span><br><span class="line-number">7037</span><br><span class="line-number">7038</span><br><span class="line-number">7039</span><br><span class="line-number">7040</span><br><span class="line-number">7041</span><br><span class="line-number">7042</span><br><span class="line-number">7043</span><br><span class="line-number">7044</span><br><span class="line-number">7045</span><br><span class="line-number">7046</span><br><span class="line-number">7047</span><br><span class="line-number">7048</span><br><span class="line-number">7049</span><br><span class="line-number">7050</span><br><span class="line-number">7051</span><br><span class="line-number">7052</span><br><span class="line-number">7053</span><br><span class="line-number">7054</span><br><span class="line-number">7055</span><br><span class="line-number">7056</span><br><span class="line-number">7057</span><br><span class="line-number">7058</span><br><span class="line-number">7059</span><br><span class="line-number">7060</span><br><span class="line-number">7061</span><br><span class="line-number">7062</span><br><span class="line-number">7063</span><br><span class="line-number">7064</span><br><span class="line-number">7065</span><br><span class="line-number">7066</span><br><span class="line-number">7067</span><br><span class="line-number">7068</span><br><span class="line-number">7069</span><br><span class="line-number">7070</span><br><span class="line-number">7071</span><br><span class="line-number">7072</span><br><span class="line-number">7073</span><br><span class="line-number">7074</span><br><span class="line-number">7075</span><br><span class="line-number">7076</span><br><span class="line-number">7077</span><br><span class="line-number">7078</span><br><span class="line-number">7079</span><br><span class="line-number">7080</span><br><span class="line-number">7081</span><br><span class="line-number">7082</span><br><span class="line-number">7083</span><br><span class="line-number">7084</span><br><span class="line-number">7085</span><br><span class="line-number">7086</span><br><span class="line-number">7087</span><br><span class="line-number">7088</span><br><span class="line-number">7089</span><br><span class="line-number">7090</span><br><span class="line-number">7091</span><br><span class="line-number">7092</span><br><span class="line-number">7093</span><br><span class="line-number">7094</span><br><span class="line-number">7095</span><br><span class="line-number">7096</span><br><span class="line-number">7097</span><br><span class="line-number">7098</span><br><span class="line-number">7099</span><br><span class="line-number">7100</span><br><span class="line-number">7101</span><br><span class="line-number">7102</span><br><span class="line-number">7103</span><br><span class="line-number">7104</span><br><span class="line-number">7105</span><br><span class="line-number">7106</span><br><span class="line-number">7107</span><br><span class="line-number">7108</span><br><span class="line-number">7109</span><br><span class="line-number">7110</span><br><span class="line-number">7111</span><br><span class="line-number">7112</span><br><span class="line-number">7113</span><br><span class="line-number">7114</span><br><span class="line-number">7115</span><br><span class="line-number">7116</span><br><span class="line-number">7117</span><br><span class="line-number">7118</span><br><span class="line-number">7119</span><br><span class="line-number">7120</span><br><span class="line-number">7121</span><br><span class="line-number">7122</span><br><span class="line-number">7123</span><br><span class="line-number">7124</span><br><span class="line-number">7125</span><br><span class="line-number">7126</span><br><span class="line-number">7127</span><br><span class="line-number">7128</span><br><span class="line-number">7129</span><br><span class="line-number">7130</span><br><span class="line-number">7131</span><br><span class="line-number">7132</span><br><span class="line-number">7133</span><br><span class="line-number">7134</span><br><span class="line-number">7135</span><br><span class="line-number">7136</span><br><span class="line-number">7137</span><br><span class="line-number">7138</span><br><span class="line-number">7139</span><br><span class="line-number">7140</span><br><span class="line-number">7141</span><br><span class="line-number">7142</span><br><span class="line-number">7143</span><br><span class="line-number">7144</span><br><span class="line-number">7145</span><br><span class="line-number">7146</span><br><span class="line-number">7147</span><br><span class="line-number">7148</span><br><span class="line-number">7149</span><br><span class="line-number">7150</span><br><span class="line-number">7151</span><br><span class="line-number">7152</span><br><span class="line-number">7153</span><br><span class="line-number">7154</span><br><span class="line-number">7155</span><br><span class="line-number">7156</span><br><span class="line-number">7157</span><br><span class="line-number">7158</span><br><span class="line-number">7159</span><br><span class="line-number">7160</span><br><span class="line-number">7161</span><br><span class="line-number">7162</span><br><span class="line-number">7163</span><br><span class="line-number">7164</span><br><span class="line-number">7165</span><br><span class="line-number">7166</span><br><span class="line-number">7167</span><br><span class="line-number">7168</span><br><span class="line-number">7169</span><br><span class="line-number">7170</span><br><span class="line-number">7171</span><br><span class="line-number">7172</span><br><span class="line-number">7173</span><br><span class="line-number">7174</span><br><span class="line-number">7175</span><br><span class="line-number">7176</span><br><span class="line-number">7177</span><br><span class="line-number">7178</span><br><span class="line-number">7179</span><br><span class="line-number">7180</span><br><span class="line-number">7181</span><br><span class="line-number">7182</span><br><span class="line-number">7183</span><br><span class="line-number">7184</span><br><span class="line-number">7185</span><br><span class="line-number">7186</span><br><span class="line-number">7187</span><br><span class="line-number">7188</span><br><span class="line-number">7189</span><br><span class="line-number">7190</span><br><span class="line-number">7191</span><br><span class="line-number">7192</span><br><span class="line-number">7193</span><br><span class="line-number">7194</span><br><span class="line-number">7195</span><br><span class="line-number">7196</span><br><span class="line-number">7197</span><br><span class="line-number">7198</span><br><span class="line-number">7199</span><br><span class="line-number">7200</span><br><span class="line-number">7201</span><br><span class="line-number">7202</span><br><span class="line-number">7203</span><br><span class="line-number">7204</span><br><span class="line-number">7205</span><br><span class="line-number">7206</span><br><span class="line-number">7207</span><br><span class="line-number">7208</span><br><span class="line-number">7209</span><br><span class="line-number">7210</span><br><span class="line-number">7211</span><br><span class="line-number">7212</span><br><span class="line-number">7213</span><br><span class="line-number">7214</span><br><span class="line-number">7215</span><br><span class="line-number">7216</span><br><span class="line-number">7217</span><br><span class="line-number">7218</span><br><span class="line-number">7219</span><br><span class="line-number">7220</span><br><span class="line-number">7221</span><br><span class="line-number">7222</span><br><span class="line-number">7223</span><br><span class="line-number">7224</span><br><span class="line-number">7225</span><br><span class="line-number">7226</span><br><span class="line-number">7227</span><br><span class="line-number">7228</span><br><span class="line-number">7229</span><br><span class="line-number">7230</span><br><span class="line-number">7231</span><br><span class="line-number">7232</span><br><span class="line-number">7233</span><br><span class="line-number">7234</span><br><span class="line-number">7235</span><br><span class="line-number">7236</span><br><span class="line-number">7237</span><br><span class="line-number">7238</span><br><span class="line-number">7239</span><br><span class="line-number">7240</span><br><span class="line-number">7241</span><br><span class="line-number">7242</span><br><span class="line-number">7243</span><br><span class="line-number">7244</span><br><span class="line-number">7245</span><br><span class="line-number">7246</span><br><span class="line-number">7247</span><br><span class="line-number">7248</span><br><span class="line-number">7249</span><br><span class="line-number">7250</span><br><span class="line-number">7251</span><br><span class="line-number">7252</span><br><span class="line-number">7253</span><br><span class="line-number">7254</span><br><span class="line-number">7255</span><br><span class="line-number">7256</span><br><span class="line-number">7257</span><br><span class="line-number">7258</span><br><span class="line-number">7259</span><br><span class="line-number">7260</span><br><span class="line-number">7261</span><br><span class="line-number">7262</span><br><span class="line-number">7263</span><br><span class="line-number">7264</span><br><span class="line-number">7265</span><br><span class="line-number">7266</span><br><span class="line-number">7267</span><br><span class="line-number">7268</span><br><span class="line-number">7269</span><br><span class="line-number">7270</span><br><span class="line-number">7271</span><br><span class="line-number">7272</span><br><span class="line-number">7273</span><br><span class="line-number">7274</span><br><span class="line-number">7275</span><br><span class="line-number">7276</span><br><span class="line-number">7277</span><br><span class="line-number">7278</span><br><span class="line-number">7279</span><br><span class="line-number">7280</span><br><span class="line-number">7281</span><br><span class="line-number">7282</span><br><span class="line-number">7283</span><br><span class="line-number">7284</span><br><span class="line-number">7285</span><br><span class="line-number">7286</span><br><span class="line-number">7287</span><br><span class="line-number">7288</span><br><span class="line-number">7289</span><br><span class="line-number">7290</span><br><span class="line-number">7291</span><br><span class="line-number">7292</span><br><span class="line-number">7293</span><br><span class="line-number">7294</span><br><span class="line-number">7295</span><br><span class="line-number">7296</span><br><span class="line-number">7297</span><br><span class="line-number">7298</span><br><span class="line-number">7299</span><br><span class="line-number">7300</span><br><span class="line-number">7301</span><br><span class="line-number">7302</span><br><span class="line-number">7303</span><br><span class="line-number">7304</span><br><span class="line-number">7305</span><br><span class="line-number">7306</span><br><span class="line-number">7307</span><br><span class="line-number">7308</span><br><span class="line-number">7309</span><br><span class="line-number">7310</span><br><span class="line-number">7311</span><br><span class="line-number">7312</span><br><span class="line-number">7313</span><br><span class="line-number">7314</span><br><span class="line-number">7315</span><br><span class="line-number">7316</span><br><span class="line-number">7317</span><br><span class="line-number">7318</span><br><span class="line-number">7319</span><br><span class="line-number">7320</span><br><span class="line-number">7321</span><br><span class="line-number">7322</span><br><span class="line-number">7323</span><br><span class="line-number">7324</span><br><span class="line-number">7325</span><br><span class="line-number">7326</span><br><span class="line-number">7327</span><br><span class="line-number">7328</span><br><span class="line-number">7329</span><br><span class="line-number">7330</span><br><span class="line-number">7331</span><br><span class="line-number">7332</span><br><span class="line-number">7333</span><br><span class="line-number">7334</span><br><span class="line-number">7335</span><br><span class="line-number">7336</span><br><span class="line-number">7337</span><br><span class="line-number">7338</span><br><span class="line-number">7339</span><br><span class="line-number">7340</span><br><span class="line-number">7341</span><br><span class="line-number">7342</span><br><span class="line-number">7343</span><br><span class="line-number">7344</span><br><span class="line-number">7345</span><br><span class="line-number">7346</span><br><span class="line-number">7347</span><br><span class="line-number">7348</span><br><span class="line-number">7349</span><br><span class="line-number">7350</span><br><span class="line-number">7351</span><br><span class="line-number">7352</span><br><span class="line-number">7353</span><br><span class="line-number">7354</span><br><span class="line-number">7355</span><br><span class="line-number">7356</span><br><span class="line-number">7357</span><br><span class="line-number">7358</span><br><span class="line-number">7359</span><br><span class="line-number">7360</span><br><span class="line-number">7361</span><br><span class="line-number">7362</span><br><span class="line-number">7363</span><br><span class="line-number">7364</span><br><span class="line-number">7365</span><br><span class="line-number">7366</span><br><span class="line-number">7367</span><br><span class="line-number">7368</span><br><span class="line-number">7369</span><br><span class="line-number">7370</span><br><span class="line-number">7371</span><br><span class="line-number">7372</span><br><span class="line-number">7373</span><br><span class="line-number">7374</span><br><span class="line-number">7375</span><br><span class="line-number">7376</span><br><span class="line-number">7377</span><br><span class="line-number">7378</span><br><span class="line-number">7379</span><br><span class="line-number">7380</span><br><span class="line-number">7381</span><br><span class="line-number">7382</span><br><span class="line-number">7383</span><br><span class="line-number">7384</span><br><span class="line-number">7385</span><br><span class="line-number">7386</span><br><span class="line-number">7387</span><br><span class="line-number">7388</span><br><span class="line-number">7389</span><br><span class="line-number">7390</span><br><span class="line-number">7391</span><br><span class="line-number">7392</span><br><span class="line-number">7393</span><br><span class="line-number">7394</span><br><span class="line-number">7395</span><br><span class="line-number">7396</span><br><span class="line-number">7397</span><br><span class="line-number">7398</span><br><span class="line-number">7399</span><br><span class="line-number">7400</span><br><span class="line-number">7401</span><br><span class="line-number">7402</span><br><span class="line-number">7403</span><br><span class="line-number">7404</span><br><span class="line-number">7405</span><br><span class="line-number">7406</span><br><span class="line-number">7407</span><br><span class="line-number">7408</span><br><span class="line-number">7409</span><br><span class="line-number">7410</span><br><span class="line-number">7411</span><br><span class="line-number">7412</span><br><span class="line-number">7413</span><br><span class="line-number">7414</span><br><span class="line-number">7415</span><br><span class="line-number">7416</span><br><span class="line-number">7417</span><br><span class="line-number">7418</span><br><span class="line-number">7419</span><br><span class="line-number">7420</span><br><span class="line-number">7421</span><br><span class="line-number">7422</span><br><span class="line-number">7423</span><br><span class="line-number">7424</span><br><span class="line-number">7425</span><br><span class="line-number">7426</span><br><span class="line-number">7427</span><br><span class="line-number">7428</span><br><span class="line-number">7429</span><br><span class="line-number">7430</span><br><span class="line-number">7431</span><br><span class="line-number">7432</span><br><span class="line-number">7433</span><br><span class="line-number">7434</span><br><span class="line-number">7435</span><br><span class="line-number">7436</span><br><span class="line-number">7437</span><br><span class="line-number">7438</span><br><span class="line-number">7439</span><br><span class="line-number">7440</span><br><span class="line-number">7441</span><br><span class="line-number">7442</span><br><span class="line-number">7443</span><br><span class="line-number">7444</span><br><span class="line-number">7445</span><br><span class="line-number">7446</span><br><span class="line-number">7447</span><br><span class="line-number">7448</span><br><span class="line-number">7449</span><br><span class="line-number">7450</span><br><span class="line-number">7451</span><br><span class="line-number">7452</span><br><span class="line-number">7453</span><br><span class="line-number">7454</span><br><span class="line-number">7455</span><br><span class="line-number">7456</span><br><span class="line-number">7457</span><br><span class="line-number">7458</span><br><span class="line-number">7459</span><br><span class="line-number">7460</span><br><span class="line-number">7461</span><br><span class="line-number">7462</span><br><span class="line-number">7463</span><br><span class="line-number">7464</span><br><span class="line-number">7465</span><br><span class="line-number">7466</span><br><span class="line-number">7467</span><br><span class="line-number">7468</span><br><span class="line-number">7469</span><br><span class="line-number">7470</span><br><span class="line-number">7471</span><br><span class="line-number">7472</span><br><span class="line-number">7473</span><br><span class="line-number">7474</span><br><span class="line-number">7475</span><br><span class="line-number">7476</span><br><span class="line-number">7477</span><br><span class="line-number">7478</span><br><span class="line-number">7479</span><br><span class="line-number">7480</span><br><span class="line-number">7481</span><br><span class="line-number">7482</span><br><span class="line-number">7483</span><br><span class="line-number">7484</span><br><span class="line-number">7485</span><br><span class="line-number">7486</span><br><span class="line-number">7487</span><br><span class="line-number">7488</span><br><span class="line-number">7489</span><br><span class="line-number">7490</span><br><span class="line-number">7491</span><br><span class="line-number">7492</span><br><span class="line-number">7493</span><br><span class="line-number">7494</span><br><span class="line-number">7495</span><br><span class="line-number">7496</span><br><span class="line-number">7497</span><br><span class="line-number">7498</span><br><span class="line-number">7499</span><br><span class="line-number">7500</span><br><span class="line-number">7501</span><br><span class="line-number">7502</span><br><span class="line-number">7503</span><br><span class="line-number">7504</span><br><span class="line-number">7505</span><br><span class="line-number">7506</span><br><span class="line-number">7507</span><br><span class="line-number">7508</span><br><span class="line-number">7509</span><br><span class="line-number">7510</span><br><span class="line-number">7511</span><br><span class="line-number">7512</span><br><span class="line-number">7513</span><br><span class="line-number">7514</span><br><span class="line-number">7515</span><br><span class="line-number">7516</span><br><span class="line-number">7517</span><br><span class="line-number">7518</span><br><span class="line-number">7519</span><br><span class="line-number">7520</span><br><span class="line-number">7521</span><br><span class="line-number">7522</span><br><span class="line-number">7523</span><br><span class="line-number">7524</span><br><span class="line-number">7525</span><br><span class="line-number">7526</span><br><span class="line-number">7527</span><br><span class="line-number">7528</span><br><span class="line-number">7529</span><br><span class="line-number">7530</span><br><span class="line-number">7531</span><br><span class="line-number">7532</span><br><span class="line-number">7533</span><br><span class="line-number">7534</span><br><span class="line-number">7535</span><br><span class="line-number">7536</span><br><span class="line-number">7537</span><br><span class="line-number">7538</span><br><span class="line-number">7539</span><br><span class="line-number">7540</span><br><span class="line-number">7541</span><br><span class="line-number">7542</span><br><span class="line-number">7543</span><br><span class="line-number">7544</span><br><span class="line-number">7545</span><br><span class="line-number">7546</span><br><span class="line-number">7547</span><br><span class="line-number">7548</span><br><span class="line-number">7549</span><br><span class="line-number">7550</span><br><span class="line-number">7551</span><br><span class="line-number">7552</span><br><span class="line-number">7553</span><br><span class="line-number">7554</span><br><span class="line-number">7555</span><br><span class="line-number">7556</span><br><span class="line-number">7557</span><br><span class="line-number">7558</span><br><span class="line-number">7559</span><br><span class="line-number">7560</span><br><span class="line-number">7561</span><br><span class="line-number">7562</span><br><span class="line-number">7563</span><br><span class="line-number">7564</span><br><span class="line-number">7565</span><br><span class="line-number">7566</span><br><span class="line-number">7567</span><br><span class="line-number">7568</span><br><span class="line-number">7569</span><br><span class="line-number">7570</span><br><span class="line-number">7571</span><br><span class="line-number">7572</span><br><span class="line-number">7573</span><br><span class="line-number">7574</span><br><span class="line-number">7575</span><br><span class="line-number">7576</span><br><span class="line-number">7577</span><br><span class="line-number">7578</span><br><span class="line-number">7579</span><br><span class="line-number">7580</span><br><span class="line-number">7581</span><br><span class="line-number">7582</span><br><span class="line-number">7583</span><br><span class="line-number">7584</span><br><span class="line-number">7585</span><br><span class="line-number">7586</span><br><span class="line-number">7587</span><br><span class="line-number">7588</span><br><span class="line-number">7589</span><br><span class="line-number">7590</span><br><span class="line-number">7591</span><br><span class="line-number">7592</span><br><span class="line-number">7593</span><br><span class="line-number">7594</span><br><span class="line-number">7595</span><br><span class="line-number">7596</span><br><span class="line-number">7597</span><br><span class="line-number">7598</span><br><span class="line-number">7599</span><br><span class="line-number">7600</span><br><span class="line-number">7601</span><br><span class="line-number">7602</span><br><span class="line-number">7603</span><br><span class="line-number">7604</span><br><span class="line-number">7605</span><br><span class="line-number">7606</span><br><span class="line-number">7607</span><br><span class="line-number">7608</span><br><span class="line-number">7609</span><br><span class="line-number">7610</span><br><span class="line-number">7611</span><br><span class="line-number">7612</span><br><span class="line-number">7613</span><br><span class="line-number">7614</span><br><span class="line-number">7615</span><br><span class="line-number">7616</span><br><span class="line-number">7617</span><br><span class="line-number">7618</span><br><span class="line-number">7619</span><br><span class="line-number">7620</span><br><span class="line-number">7621</span><br><span class="line-number">7622</span><br><span class="line-number">7623</span><br><span class="line-number">7624</span><br><span class="line-number">7625</span><br><span class="line-number">7626</span><br><span class="line-number">7627</span><br><span class="line-number">7628</span><br><span class="line-number">7629</span><br><span class="line-number">7630</span><br><span class="line-number">7631</span><br><span class="line-number">7632</span><br><span class="line-number">7633</span><br><span class="line-number">7634</span><br><span class="line-number">7635</span><br><span class="line-number">7636</span><br><span class="line-number">7637</span><br><span class="line-number">7638</span><br><span class="line-number">7639</span><br><span class="line-number">7640</span><br><span class="line-number">7641</span><br><span class="line-number">7642</span><br><span class="line-number">7643</span><br><span class="line-number">7644</span><br><span class="line-number">7645</span><br><span class="line-number">7646</span><br><span class="line-number">7647</span><br><span class="line-number">7648</span><br><span class="line-number">7649</span><br><span class="line-number">7650</span><br><span class="line-number">7651</span><br><span class="line-number">7652</span><br><span class="line-number">7653</span><br><span class="line-number">7654</span><br><span class="line-number">7655</span><br><span class="line-number">7656</span><br><span class="line-number">7657</span><br><span class="line-number">7658</span><br><span class="line-number">7659</span><br><span class="line-number">7660</span><br><span class="line-number">7661</span><br><span class="line-number">7662</span><br><span class="line-number">7663</span><br><span class="line-number">7664</span><br><span class="line-number">7665</span><br><span class="line-number">7666</span><br><span class="line-number">7667</span><br><span class="line-number">7668</span><br><span class="line-number">7669</span><br><span class="line-number">7670</span><br><span class="line-number">7671</span><br><span class="line-number">7672</span><br><span class="line-number">7673</span><br><span class="line-number">7674</span><br><span class="line-number">7675</span><br><span class="line-number">7676</span><br><span class="line-number">7677</span><br><span class="line-number">7678</span><br><span class="line-number">7679</span><br><span class="line-number">7680</span><br><span class="line-number">7681</span><br><span class="line-number">7682</span><br><span class="line-number">7683</span><br><span class="line-number">7684</span><br><span class="line-number">7685</span><br><span class="line-number">7686</span><br><span class="line-number">7687</span><br><span class="line-number">7688</span><br><span class="line-number">7689</span><br><span class="line-number">7690</span><br><span class="line-number">7691</span><br><span class="line-number">7692</span><br><span class="line-number">7693</span><br><span class="line-number">7694</span><br><span class="line-number">7695</span><br><span class="line-number">7696</span><br><span class="line-number">7697</span><br><span class="line-number">7698</span><br><span class="line-number">7699</span><br><span class="line-number">7700</span><br><span class="line-number">7701</span><br><span class="line-number">7702</span><br><span class="line-number">7703</span><br><span class="line-number">7704</span><br><span class="line-number">7705</span><br><span class="line-number">7706</span><br><span class="line-number">7707</span><br><span class="line-number">7708</span><br><span class="line-number">7709</span><br><span class="line-number">7710</span><br><span class="line-number">7711</span><br><span class="line-number">7712</span><br><span class="line-number">7713</span><br><span class="line-number">7714</span><br><span class="line-number">7715</span><br><span class="line-number">7716</span><br><span class="line-number">7717</span><br><span class="line-number">7718</span><br><span class="line-number">7719</span><br><span class="line-number">7720</span><br><span class="line-number">7721</span><br><span class="line-number">7722</span><br><span class="line-number">7723</span><br><span class="line-number">7724</span><br><span class="line-number">7725</span><br><span class="line-number">7726</span><br><span class="line-number">7727</span><br><span class="line-number">7728</span><br><span class="line-number">7729</span><br><span class="line-number">7730</span><br><span class="line-number">7731</span><br><span class="line-number">7732</span><br><span class="line-number">7733</span><br><span class="line-number">7734</span><br><span class="line-number">7735</span><br><span class="line-number">7736</span><br><span class="line-number">7737</span><br><span class="line-number">7738</span><br><span class="line-number">7739</span><br><span class="line-number">7740</span><br><span class="line-number">7741</span><br><span class="line-number">7742</span><br><span class="line-number">7743</span><br><span class="line-number">7744</span><br><span class="line-number">7745</span><br><span class="line-number">7746</span><br><span class="line-number">7747</span><br><span class="line-number">7748</span><br><span class="line-number">7749</span><br><span class="line-number">7750</span><br><span class="line-number">7751</span><br><span class="line-number">7752</span><br><span class="line-number">7753</span><br><span class="line-number">7754</span><br><span class="line-number">7755</span><br><span class="line-number">7756</span><br><span class="line-number">7757</span><br><span class="line-number">7758</span><br><span class="line-number">7759</span><br><span class="line-number">7760</span><br><span class="line-number">7761</span><br><span class="line-number">7762</span><br><span class="line-number">7763</span><br><span class="line-number">7764</span><br><span class="line-number">7765</span><br><span class="line-number">7766</span><br><span class="line-number">7767</span><br><span class="line-number">7768</span><br><span class="line-number">7769</span><br><span class="line-number">7770</span><br><span class="line-number">7771</span><br><span class="line-number">7772</span><br><span class="line-number">7773</span><br><span class="line-number">7774</span><br><span class="line-number">7775</span><br><span class="line-number">7776</span><br><span class="line-number">7777</span><br><span class="line-number">7778</span><br><span class="line-number">7779</span><br><span class="line-number">7780</span><br><span class="line-number">7781</span><br><span class="line-number">7782</span><br><span class="line-number">7783</span><br><span class="line-number">7784</span><br><span class="line-number">7785</span><br><span class="line-number">7786</span><br><span class="line-number">7787</span><br><span class="line-number">7788</span><br><span class="line-number">7789</span><br><span class="line-number">7790</span><br><span class="line-number">7791</span><br><span class="line-number">7792</span><br><span class="line-number">7793</span><br><span class="line-number">7794</span><br><span class="line-number">7795</span><br><span class="line-number">7796</span><br><span class="line-number">7797</span><br><span class="line-number">7798</span><br><span class="line-number">7799</span><br><span class="line-number">7800</span><br><span class="line-number">7801</span><br><span class="line-number">7802</span><br><span class="line-number">7803</span><br><span class="line-number">7804</span><br><span class="line-number">7805</span><br><span class="line-number">7806</span><br><span class="line-number">7807</span><br><span class="line-number">7808</span><br><span class="line-number">7809</span><br><span class="line-number">7810</span><br><span class="line-number">7811</span><br><span class="line-number">7812</span><br><span class="line-number">7813</span><br><span class="line-number">7814</span><br><span class="line-number">7815</span><br><span class="line-number">7816</span><br><span class="line-number">7817</span><br><span class="line-number">7818</span><br><span class="line-number">7819</span><br><span class="line-number">7820</span><br><span class="line-number">7821</span><br><span class="line-number">7822</span><br><span class="line-number">7823</span><br><span class="line-number">7824</span><br><span class="line-number">7825</span><br><span class="line-number">7826</span><br><span class="line-number">7827</span><br><span class="line-number">7828</span><br><span class="line-number">7829</span><br><span class="line-number">7830</span><br><span class="line-number">7831</span><br><span class="line-number">7832</span><br><span class="line-number">7833</span><br><span class="line-number">7834</span><br><span class="line-number">7835</span><br><span class="line-number">7836</span><br><span class="line-number">7837</span><br><span class="line-number">7838</span><br><span class="line-number">7839</span><br><span class="line-number">7840</span><br><span class="line-number">7841</span><br><span class="line-number">7842</span><br><span class="line-number">7843</span><br><span class="line-number">7844</span><br><span class="line-number">7845</span><br><span class="line-number">7846</span><br><span class="line-number">7847</span><br><span class="line-number">7848</span><br><span class="line-number">7849</span><br><span class="line-number">7850</span><br><span class="line-number">7851</span><br><span class="line-number">7852</span><br><span class="line-number">7853</span><br><span class="line-number">7854</span><br><span class="line-number">7855</span><br><span class="line-number">7856</span><br><span class="line-number">7857</span><br><span class="line-number">7858</span><br><span class="line-number">7859</span><br><span class="line-number">7860</span><br><span class="line-number">7861</span><br><span class="line-number">7862</span><br><span class="line-number">7863</span><br><span class="line-number">7864</span><br><span class="line-number">7865</span><br><span class="line-number">7866</span><br><span class="line-number">7867</span><br><span class="line-number">7868</span><br><span class="line-number">7869</span><br><span class="line-number">7870</span><br><span class="line-number">7871</span><br><span class="line-number">7872</span><br><span class="line-number">7873</span><br><span class="line-number">7874</span><br><span class="line-number">7875</span><br><span class="line-number">7876</span><br><span class="line-number">7877</span><br><span class="line-number">7878</span><br><span class="line-number">7879</span><br><span class="line-number">7880</span><br><span class="line-number">7881</span><br><span class="line-number">7882</span><br><span class="line-number">7883</span><br><span class="line-number">7884</span><br><span class="line-number">7885</span><br><span class="line-number">7886</span><br><span class="line-number">7887</span><br><span class="line-number">7888</span><br><span class="line-number">7889</span><br><span class="line-number">7890</span><br><span class="line-number">7891</span><br><span class="line-number">7892</span><br><span class="line-number">7893</span><br><span class="line-number">7894</span><br><span class="line-number">7895</span><br><span class="line-number">7896</span><br><span class="line-number">7897</span><br><span class="line-number">7898</span><br><span class="line-number">7899</span><br><span class="line-number">7900</span><br><span class="line-number">7901</span><br><span class="line-number">7902</span><br><span class="line-number">7903</span><br><span class="line-number">7904</span><br><span class="line-number">7905</span><br><span class="line-number">7906</span><br><span class="line-number">7907</span><br><span class="line-number">7908</span><br><span class="line-number">7909</span><br><span class="line-number">7910</span><br><span class="line-number">7911</span><br><span class="line-number">7912</span><br><span class="line-number">7913</span><br><span class="line-number">7914</span><br><span class="line-number">7915</span><br><span class="line-number">7916</span><br><span class="line-number">7917</span><br><span class="line-number">7918</span><br><span class="line-number">7919</span><br><span class="line-number">7920</span><br><span class="line-number">7921</span><br><span class="line-number">7922</span><br><span class="line-number">7923</span><br><span class="line-number">7924</span><br><span class="line-number">7925</span><br><span class="line-number">7926</span><br><span class="line-number">7927</span><br><span class="line-number">7928</span><br><span class="line-number">7929</span><br><span class="line-number">7930</span><br><span class="line-number">7931</span><br><span class="line-number">7932</span><br><span class="line-number">7933</span><br><span class="line-number">7934</span><br><span class="line-number">7935</span><br><span class="line-number">7936</span><br><span class="line-number">7937</span><br><span class="line-number">7938</span><br><span class="line-number">7939</span><br><span class="line-number">7940</span><br><span class="line-number">7941</span><br><span class="line-number">7942</span><br><span class="line-number">7943</span><br><span class="line-number">7944</span><br><span class="line-number">7945</span><br><span class="line-number">7946</span><br><span class="line-number">7947</span><br><span class="line-number">7948</span><br><span class="line-number">7949</span><br><span class="line-number">7950</span><br><span class="line-number">7951</span><br><span class="line-number">7952</span><br><span class="line-number">7953</span><br><span class="line-number">7954</span><br><span class="line-number">7955</span><br><span class="line-number">7956</span><br><span class="line-number">7957</span><br><span class="line-number">7958</span><br><span class="line-number">7959</span><br><span class="line-number">7960</span><br><span class="line-number">7961</span><br><span class="line-number">7962</span><br><span class="line-number">7963</span><br><span class="line-number">7964</span><br><span class="line-number">7965</span><br><span class="line-number">7966</span><br><span class="line-number">7967</span><br><span class="line-number">7968</span><br><span class="line-number">7969</span><br><span class="line-number">7970</span><br><span class="line-number">7971</span><br><span class="line-number">7972</span><br><span class="line-number">7973</span><br><span class="line-number">7974</span><br><span class="line-number">7975</span><br><span class="line-number">7976</span><br><span class="line-number">7977</span><br><span class="line-number">7978</span><br><span class="line-number">7979</span><br><span class="line-number">7980</span><br><span class="line-number">7981</span><br><span class="line-number">7982</span><br><span class="line-number">7983</span><br><span class="line-number">7984</span><br><span class="line-number">7985</span><br><span class="line-number">7986</span><br><span class="line-number">7987</span><br><span class="line-number">7988</span><br><span class="line-number">7989</span><br><span class="line-number">7990</span><br><span class="line-number">7991</span><br><span class="line-number">7992</span><br><span class="line-number">7993</span><br><span class="line-number">7994</span><br><span class="line-number">7995</span><br><span class="line-number">7996</span><br><span class="line-number">7997</span><br><span class="line-number">7998</span><br><span class="line-number">7999</span><br><span class="line-number">8000</span><br><span class="line-number">8001</span><br><span class="line-number">8002</span><br><span class="line-number">8003</span><br><span class="line-number">8004</span><br><span class="line-number">8005</span><br><span class="line-number">8006</span><br><span class="line-number">8007</span><br><span class="line-number">8008</span><br><span class="line-number">8009</span><br><span class="line-number">8010</span><br><span class="line-number">8011</span><br><span class="line-number">8012</span><br><span class="line-number">8013</span><br><span class="line-number">8014</span><br><span class="line-number">8015</span><br><span class="line-number">8016</span><br><span class="line-number">8017</span><br><span class="line-number">8018</span><br><span class="line-number">8019</span><br><span class="line-number">8020</span><br><span class="line-number">8021</span><br><span class="line-number">8022</span><br><span class="line-number">8023</span><br><span class="line-number">8024</span><br><span class="line-number">8025</span><br><span class="line-number">8026</span><br><span class="line-number">8027</span><br><span class="line-number">8028</span><br><span class="line-number">8029</span><br><span class="line-number">8030</span><br><span class="line-number">8031</span><br><span class="line-number">8032</span><br><span class="line-number">8033</span><br><span class="line-number">8034</span><br><span class="line-number">8035</span><br><span class="line-number">8036</span><br><span class="line-number">8037</span><br><span class="line-number">8038</span><br><span class="line-number">8039</span><br><span class="line-number">8040</span><br><span class="line-number">8041</span><br><span class="line-number">8042</span><br><span class="line-number">8043</span><br><span class="line-number">8044</span><br><span class="line-number">8045</span><br><span class="line-number">8046</span><br><span class="line-number">8047</span><br><span class="line-number">8048</span><br><span class="line-number">8049</span><br><span class="line-number">8050</span><br><span class="line-number">8051</span><br><span class="line-number">8052</span><br><span class="line-number">8053</span><br><span class="line-number">8054</span><br><span class="line-number">8055</span><br><span class="line-number">8056</span><br><span class="line-number">8057</span><br><span class="line-number">8058</span><br><span class="line-number">8059</span><br><span class="line-number">8060</span><br><span class="line-number">8061</span><br><span class="line-number">8062</span><br><span class="line-number">8063</span><br><span class="line-number">8064</span><br><span class="line-number">8065</span><br><span class="line-number">8066</span><br><span class="line-number">8067</span><br><span class="line-number">8068</span><br><span class="line-number">8069</span><br><span class="line-number">8070</span><br><span class="line-number">8071</span><br><span class="line-number">8072</span><br><span class="line-number">8073</span><br><span class="line-number">8074</span><br><span class="line-number">8075</span><br><span class="line-number">8076</span><br><span class="line-number">8077</span><br><span class="line-number">8078</span><br><span class="line-number">8079</span><br><span class="line-number">8080</span><br><span class="line-number">8081</span><br><span class="line-number">8082</span><br><span class="line-number">8083</span><br><span class="line-number">8084</span><br><span class="line-number">8085</span><br><span class="line-number">8086</span><br><span class="line-number">8087</span><br><span class="line-number">8088</span><br><span class="line-number">8089</span><br><span class="line-number">8090</span><br><span class="line-number">8091</span><br><span class="line-number">8092</span><br><span class="line-number">8093</span><br><span class="line-number">8094</span><br><span class="line-number">8095</span><br><span class="line-number">8096</span><br><span class="line-number">8097</span><br><span class="line-number">8098</span><br><span class="line-number">8099</span><br><span class="line-number">8100</span><br><span class="line-number">8101</span><br><span class="line-number">8102</span><br><span class="line-number">8103</span><br><span class="line-number">8104</span><br><span class="line-number">8105</span><br><span class="line-number">8106</span><br><span class="line-number">8107</span><br><span class="line-number">8108</span><br><span class="line-number">8109</span><br><span class="line-number">8110</span><br><span class="line-number">8111</span><br><span class="line-number">8112</span><br><span class="line-number">8113</span><br><span class="line-number">8114</span><br><span class="line-number">8115</span><br><span class="line-number">8116</span><br><span class="line-number">8117</span><br><span class="line-number">8118</span><br><span class="line-number">8119</span><br><span class="line-number">8120</span><br><span class="line-number">8121</span><br><span class="line-number">8122</span><br><span class="line-number">8123</span><br><span class="line-number">8124</span><br><span class="line-number">8125</span><br><span class="line-number">8126</span><br><span class="line-number">8127</span><br><span class="line-number">8128</span><br><span class="line-number">8129</span><br><span class="line-number">8130</span><br><span class="line-number">8131</span><br><span class="line-number">8132</span><br><span class="line-number">8133</span><br><span class="line-number">8134</span><br><span class="line-number">8135</span><br><span class="line-number">8136</span><br><span class="line-number">8137</span><br><span class="line-number">8138</span><br><span class="line-number">8139</span><br><span class="line-number">8140</span><br><span class="line-number">8141</span><br><span class="line-number">8142</span><br><span class="line-number">8143</span><br><span class="line-number">8144</span><br><span class="line-number">8145</span><br><span class="line-number">8146</span><br><span class="line-number">8147</span><br><span class="line-number">8148</span><br><span class="line-number">8149</span><br><span class="line-number">8150</span><br><span class="line-number">8151</span><br><span class="line-number">8152</span><br><span class="line-number">8153</span><br><span class="line-number">8154</span><br><span class="line-number">8155</span><br><span class="line-number">8156</span><br><span class="line-number">8157</span><br><span class="line-number">8158</span><br><span class="line-number">8159</span><br><span class="line-number">8160</span><br><span class="line-number">8161</span><br><span class="line-number">8162</span><br><span class="line-number">8163</span><br><span class="line-number">8164</span><br><span class="line-number">8165</span><br><span class="line-number">8166</span><br><span class="line-number">8167</span><br><span class="line-number">8168</span><br><span class="line-number">8169</span><br><span class="line-number">8170</span><br><span class="line-number">8171</span><br><span class="line-number">8172</span><br><span class="line-number">8173</span><br><span class="line-number">8174</span><br><span class="line-number">8175</span><br><span class="line-number">8176</span><br><span class="line-number">8177</span><br><span class="line-number">8178</span><br><span class="line-number">8179</span><br><span class="line-number">8180</span><br><span class="line-number">8181</span><br><span class="line-number">8182</span><br><span class="line-number">8183</span><br><span class="line-number">8184</span><br><span class="line-number">8185</span><br><span class="line-number">8186</span><br><span class="line-number">8187</span><br><span class="line-number">8188</span><br><span class="line-number">8189</span><br><span class="line-number">8190</span><br><span class="line-number">8191</span><br><span class="line-number">8192</span><br><span class="line-number">8193</span><br><span class="line-number">8194</span><br><span class="line-number">8195</span><br><span class="line-number">8196</span><br><span class="line-number">8197</span><br><span class="line-number">8198</span><br><span class="line-number">8199</span><br><span class="line-number">8200</span><br><span class="line-number">8201</span><br><span class="line-number">8202</span><br><span class="line-number">8203</span><br><span class="line-number">8204</span><br><span class="line-number">8205</span><br><span class="line-number">8206</span><br><span class="line-number">8207</span><br><span class="line-number">8208</span><br><span class="line-number">8209</span><br><span class="line-number">8210</span><br><span class="line-number">8211</span><br><span class="line-number">8212</span><br><span class="line-number">8213</span><br><span class="line-number">8214</span><br><span class="line-number">8215</span><br><span class="line-number">8216</span><br><span class="line-number">8217</span><br><span class="line-number">8218</span><br><span class="line-number">8219</span><br><span class="line-number">8220</span><br><span class="line-number">8221</span><br><span class="line-number">8222</span><br><span class="line-number">8223</span><br><span class="line-number">8224</span><br><span class="line-number">8225</span><br><span class="line-number">8226</span><br><span class="line-number">8227</span><br><span class="line-number">8228</span><br><span class="line-number">8229</span><br><span class="line-number">8230</span><br><span class="line-number">8231</span><br><span class="line-number">8232</span><br><span class="line-number">8233</span><br><span class="line-number">8234</span><br><span class="line-number">8235</span><br><span class="line-number">8236</span><br><span class="line-number">8237</span><br><span class="line-number">8238</span><br><span class="line-number">8239</span><br><span class="line-number">8240</span><br><span class="line-number">8241</span><br><span class="line-number">8242</span><br><span class="line-number">8243</span><br><span class="line-number">8244</span><br><span class="line-number">8245</span><br><span class="line-number">8246</span><br><span class="line-number">8247</span><br><span class="line-number">8248</span><br><span class="line-number">8249</span><br><span class="line-number">8250</span><br><span class="line-number">8251</span><br><span class="line-number">8252</span><br><span class="line-number">8253</span><br><span class="line-number">8254</span><br><span class="line-number">8255</span><br><span class="line-number">8256</span><br><span class="line-number">8257</span><br><span class="line-number">8258</span><br><span class="line-number">8259</span><br><span class="line-number">8260</span><br><span class="line-number">8261</span><br><span class="line-number">8262</span><br><span class="line-number">8263</span><br><span class="line-number">8264</span><br><span class="line-number">8265</span><br><span class="line-number">8266</span><br><span class="line-number">8267</span><br><span class="line-number">8268</span><br><span class="line-number">8269</span><br><span class="line-number">8270</span><br><span class="line-number">8271</span><br><span class="line-number">8272</span><br><span class="line-number">8273</span><br><span class="line-number">8274</span><br><span class="line-number">8275</span><br><span class="line-number">8276</span><br><span class="line-number">8277</span><br><span class="line-number">8278</span><br><span class="line-number">8279</span><br><span class="line-number">8280</span><br><span class="line-number">8281</span><br><span class="line-number">8282</span><br><span class="line-number">8283</span><br><span class="line-number">8284</span><br><span class="line-number">8285</span><br><span class="line-number">8286</span><br><span class="line-number">8287</span><br><span class="line-number">8288</span><br><span class="line-number">8289</span><br><span class="line-number">8290</span><br><span class="line-number">8291</span><br><span class="line-number">8292</span><br><span class="line-number">8293</span><br><span class="line-number">8294</span><br><span class="line-number">8295</span><br><span class="line-number">8296</span><br><span class="line-number">8297</span><br><span class="line-number">8298</span><br><span class="line-number">8299</span><br><span class="line-number">8300</span><br><span class="line-number">8301</span><br><span class="line-number">8302</span><br><span class="line-number">8303</span><br><span class="line-number">8304</span><br><span class="line-number">8305</span><br><span class="line-number">8306</span><br><span class="line-number">8307</span><br><span class="line-number">8308</span><br><span class="line-number">8309</span><br><span class="line-number">8310</span><br><span class="line-number">8311</span><br><span class="line-number">8312</span><br><span class="line-number">8313</span><br><span class="line-number">8314</span><br><span class="line-number">8315</span><br><span class="line-number">8316</span><br><span class="line-number">8317</span><br><span class="line-number">8318</span><br><span class="line-number">8319</span><br><span class="line-number">8320</span><br><span class="line-number">8321</span><br><span class="line-number">8322</span><br><span class="line-number">8323</span><br><span class="line-number">8324</span><br><span class="line-number">8325</span><br><span class="line-number">8326</span><br><span class="line-number">8327</span><br><span class="line-number">8328</span><br><span class="line-number">8329</span><br><span class="line-number">8330</span><br><span class="line-number">8331</span><br><span class="line-number">8332</span><br><span class="line-number">8333</span><br><span class="line-number">8334</span><br><span class="line-number">8335</span><br><span class="line-number">8336</span><br><span class="line-number">8337</span><br><span class="line-number">8338</span><br><span class="line-number">8339</span><br><span class="line-number">8340</span><br><span class="line-number">8341</span><br><span class="line-number">8342</span><br><span class="line-number">8343</span><br><span class="line-number">8344</span><br><span class="line-number">8345</span><br><span class="line-number">8346</span><br><span class="line-number">8347</span><br><span class="line-number">8348</span><br><span class="line-number">8349</span><br><span class="line-number">8350</span><br><span class="line-number">8351</span><br><span class="line-number">8352</span><br><span class="line-number">8353</span><br><span class="line-number">8354</span><br><span class="line-number">8355</span><br><span class="line-number">8356</span><br><span class="line-number">8357</span><br><span class="line-number">8358</span><br><span class="line-number">8359</span><br><span class="line-number">8360</span><br><span class="line-number">8361</span><br><span class="line-number">8362</span><br><span class="line-number">8363</span><br><span class="line-number">8364</span><br><span class="line-number">8365</span><br><span class="line-number">8366</span><br><span class="line-number">8367</span><br><span class="line-number">8368</span><br><span class="line-number">8369</span><br><span class="line-number">8370</span><br><span class="line-number">8371</span><br><span class="line-number">8372</span><br><span class="line-number">8373</span><br><span class="line-number">8374</span><br><span class="line-number">8375</span><br><span class="line-number">8376</span><br><span class="line-number">8377</span><br><span class="line-number">8378</span><br><span class="line-number">8379</span><br><span class="line-number">8380</span><br><span class="line-number">8381</span><br><span class="line-number">8382</span><br><span class="line-number">8383</span><br><span class="line-number">8384</span><br><span class="line-number">8385</span><br><span class="line-number">8386</span><br><span class="line-number">8387</span><br><span class="line-number">8388</span><br><span class="line-number">8389</span><br><span class="line-number">8390</span><br><span class="line-number">8391</span><br><span class="line-number">8392</span><br><span class="line-number">8393</span><br><span class="line-number">8394</span><br><span class="line-number">8395</span><br><span class="line-number">8396</span><br><span class="line-number">8397</span><br><span class="line-number">8398</span><br><span class="line-number">8399</span><br><span class="line-number">8400</span><br><span class="line-number">8401</span><br><span class="line-number">8402</span><br><span class="line-number">8403</span><br><span class="line-number">8404</span><br><span class="line-number">8405</span><br><span class="line-number">8406</span><br><span class="line-number">8407</span><br><span class="line-number">8408</span><br><span class="line-number">8409</span><br><span class="line-number">8410</span><br><span class="line-number">8411</span><br><span class="line-number">8412</span><br><span class="line-number">8413</span><br><span class="line-number">8414</span><br><span class="line-number">8415</span><br><span class="line-number">8416</span><br><span class="line-number">8417</span><br><span class="line-number">8418</span><br><span class="line-number">8419</span><br><span class="line-number">8420</span><br><span class="line-number">8421</span><br><span class="line-number">8422</span><br><span class="line-number">8423</span><br><span class="line-number">8424</span><br><span class="line-number">8425</span><br><span class="line-number">8426</span><br><span class="line-number">8427</span><br><span class="line-number">8428</span><br><span class="line-number">8429</span><br><span class="line-number">8430</span><br><span class="line-number">8431</span><br><span class="line-number">8432</span><br><span class="line-number">8433</span><br><span class="line-number">8434</span><br><span class="line-number">8435</span><br><span class="line-number">8436</span><br><span class="line-number">8437</span><br><span class="line-number">8438</span><br><span class="line-number">8439</span><br><span class="line-number">8440</span><br><span class="line-number">8441</span><br><span class="line-number">8442</span><br><span class="line-number">8443</span><br><span class="line-number">8444</span><br><span class="line-number">8445</span><br><span class="line-number">8446</span><br><span class="line-number">8447</span><br><span class="line-number">8448</span><br><span class="line-number">8449</span><br><span class="line-number">8450</span><br><span class="line-number">8451</span><br><span class="line-number">8452</span><br><span class="line-number">8453</span><br><span class="line-number">8454</span><br><span class="line-number">8455</span><br><span class="line-number">8456</span><br><span class="line-number">8457</span><br><span class="line-number">8458</span><br><span class="line-number">8459</span><br><span class="line-number">8460</span><br><span class="line-number">8461</span><br><span class="line-number">8462</span><br><span class="line-number">8463</span><br><span class="line-number">8464</span><br><span class="line-number">8465</span><br><span class="line-number">8466</span><br><span class="line-number">8467</span><br><span class="line-number">8468</span><br><span class="line-number">8469</span><br><span class="line-number">8470</span><br><span class="line-number">8471</span><br><span class="line-number">8472</span><br><span class="line-number">8473</span><br><span class="line-number">8474</span><br><span class="line-number">8475</span><br><span class="line-number">8476</span><br><span class="line-number">8477</span><br><span class="line-number">8478</span><br><span class="line-number">8479</span><br><span class="line-number">8480</span><br><span class="line-number">8481</span><br><span class="line-number">8482</span><br><span class="line-number">8483</span><br><span class="line-number">8484</span><br><span class="line-number">8485</span><br><span class="line-number">8486</span><br><span class="line-number">8487</span><br><span class="line-number">8488</span><br><span class="line-number">8489</span><br><span class="line-number">8490</span><br><span class="line-number">8491</span><br><span class="line-number">8492</span><br><span class="line-number">8493</span><br><span class="line-number">8494</span><br><span class="line-number">8495</span><br><span class="line-number">8496</span><br><span class="line-number">8497</span><br><span class="line-number">8498</span><br><span class="line-number">8499</span><br><span class="line-number">8500</span><br><span class="line-number">8501</span><br><span class="line-number">8502</span><br><span class="line-number">8503</span><br><span class="line-number">8504</span><br><span class="line-number">8505</span><br><span class="line-number">8506</span><br><span class="line-number">8507</span><br><span class="line-number">8508</span><br><span class="line-number">8509</span><br><span class="line-number">8510</span><br><span class="line-number">8511</span><br><span class="line-number">8512</span><br><span class="line-number">8513</span><br><span class="line-number">8514</span><br><span class="line-number">8515</span><br><span class="line-number">8516</span><br><span class="line-number">8517</span><br><span class="line-number">8518</span><br><span class="line-number">8519</span><br><span class="line-number">8520</span><br><span class="line-number">8521</span><br><span class="line-number">8522</span><br><span class="line-number">8523</span><br><span class="line-number">8524</span><br><span class="line-number">8525</span><br><span class="line-number">8526</span><br><span class="line-number">8527</span><br><span class="line-number">8528</span><br><span class="line-number">8529</span><br><span class="line-number">8530</span><br><span class="line-number">8531</span><br><span class="line-number">8532</span><br><span class="line-number">8533</span><br><span class="line-number">8534</span><br><span class="line-number">8535</span><br><span class="line-number">8536</span><br><span class="line-number">8537</span><br><span class="line-number">8538</span><br><span class="line-number">8539</span><br><span class="line-number">8540</span><br><span class="line-number">8541</span><br><span class="line-number">8542</span><br><span class="line-number">8543</span><br><span class="line-number">8544</span><br><span class="line-number">8545</span><br><span class="line-number">8546</span><br><span class="line-number">8547</span><br><span class="line-number">8548</span><br><span class="line-number">8549</span><br><span class="line-number">8550</span><br><span class="line-number">8551</span><br><span class="line-number">8552</span><br><span class="line-number">8553</span><br><span class="line-number">8554</span><br><span class="line-number">8555</span><br><span class="line-number">8556</span><br><span class="line-number">8557</span><br><span class="line-number">8558</span><br><span class="line-number">8559</span><br><span class="line-number">8560</span><br><span class="line-number">8561</span><br><span class="line-number">8562</span><br><span class="line-number">8563</span><br><span class="line-number">8564</span><br><span class="line-number">8565</span><br><span class="line-number">8566</span><br><span class="line-number">8567</span><br><span class="line-number">8568</span><br><span class="line-number">8569</span><br><span class="line-number">8570</span><br><span class="line-number">8571</span><br><span class="line-number">8572</span><br><span class="line-number">8573</span><br><span class="line-number">8574</span><br><span class="line-number">8575</span><br><span class="line-number">8576</span><br><span class="line-number">8577</span><br><span class="line-number">8578</span><br><span class="line-number">8579</span><br><span class="line-number">8580</span><br><span class="line-number">8581</span><br><span class="line-number">8582</span><br><span class="line-number">8583</span><br><span class="line-number">8584</span><br><span class="line-number">8585</span><br><span class="line-number">8586</span><br><span class="line-number">8587</span><br><span class="line-number">8588</span><br><span class="line-number">8589</span><br><span class="line-number">8590</span><br><span class="line-number">8591</span><br><span class="line-number">8592</span><br><span class="line-number">8593</span><br><span class="line-number">8594</span><br><span class="line-number">8595</span><br><span class="line-number">8596</span><br><span class="line-number">8597</span><br><span class="line-number">8598</span><br><span class="line-number">8599</span><br><span class="line-number">8600</span><br><span class="line-number">8601</span><br><span class="line-number">8602</span><br><span class="line-number">8603</span><br><span class="line-number">8604</span><br><span class="line-number">8605</span><br><span class="line-number">8606</span><br><span class="line-number">8607</span><br><span class="line-number">8608</span><br><span class="line-number">8609</span><br><span class="line-number">8610</span><br><span class="line-number">8611</span><br><span class="line-number">8612</span><br><span class="line-number">8613</span><br><span class="line-number">8614</span><br><span class="line-number">8615</span><br><span class="line-number">8616</span><br><span class="line-number">8617</span><br><span class="line-number">8618</span><br><span class="line-number">8619</span><br><span class="line-number">8620</span><br><span class="line-number">8621</span><br><span class="line-number">8622</span><br><span class="line-number">8623</span><br><span class="line-number">8624</span><br><span class="line-number">8625</span><br><span class="line-number">8626</span><br><span class="line-number">8627</span><br><span class="line-number">8628</span><br><span class="line-number">8629</span><br><span class="line-number">8630</span><br><span class="line-number">8631</span><br><span class="line-number">8632</span><br><span class="line-number">8633</span><br><span class="line-number">8634</span><br><span class="line-number">8635</span><br><span class="line-number">8636</span><br><span class="line-number">8637</span><br><span class="line-number">8638</span><br><span class="line-number">8639</span><br><span class="line-number">8640</span><br><span class="line-number">8641</span><br><span class="line-number">8642</span><br><span class="line-number">8643</span><br><span class="line-number">8644</span><br><span class="line-number">8645</span><br><span class="line-number">8646</span><br><span class="line-number">8647</span><br><span class="line-number">8648</span><br><span class="line-number">8649</span><br><span class="line-number">8650</span><br><span class="line-number">8651</span><br><span class="line-number">8652</span><br><span class="line-number">8653</span><br><span class="line-number">8654</span><br><span class="line-number">8655</span><br><span class="line-number">8656</span><br><span class="line-number">8657</span><br><span class="line-number">8658</span><br><span class="line-number">8659</span><br><span class="line-number">8660</span><br><span class="line-number">8661</span><br><span class="line-number">8662</span><br><span class="line-number">8663</span><br><span class="line-number">8664</span><br><span class="line-number">8665</span><br><span class="line-number">8666</span><br><span class="line-number">8667</span><br><span class="line-number">8668</span><br><span class="line-number">8669</span><br><span class="line-number">8670</span><br><span class="line-number">8671</span><br><span class="line-number">8672</span><br><span class="line-number">8673</span><br><span class="line-number">8674</span><br><span class="line-number">8675</span><br><span class="line-number">8676</span><br><span class="line-number">8677</span><br><span class="line-number">8678</span><br><span class="line-number">8679</span><br><span class="line-number">8680</span><br><span class="line-number">8681</span><br><span class="line-number">8682</span><br><span class="line-number">8683</span><br><span class="line-number">8684</span><br><span class="line-number">8685</span><br><span class="line-number">8686</span><br><span class="line-number">8687</span><br><span class="line-number">8688</span><br><span class="line-number">8689</span><br><span class="line-number">8690</span><br><span class="line-number">8691</span><br><span class="line-number">8692</span><br><span class="line-number">8693</span><br><span class="line-number">8694</span><br><span class="line-number">8695</span><br><span class="line-number">8696</span><br><span class="line-number">8697</span><br><span class="line-number">8698</span><br><span class="line-number">8699</span><br><span class="line-number">8700</span><br><span class="line-number">8701</span><br><span class="line-number">8702</span><br><span class="line-number">8703</span><br><span class="line-number">8704</span><br><span class="line-number">8705</span><br><span class="line-number">8706</span><br><span class="line-number">8707</span><br><span class="line-number">8708</span><br><span class="line-number">8709</span><br><span class="line-number">8710</span><br><span class="line-number">8711</span><br><span class="line-number">8712</span><br><span class="line-number">8713</span><br><span class="line-number">8714</span><br><span class="line-number">8715</span><br><span class="line-number">8716</span><br><span class="line-number">8717</span><br><span class="line-number">8718</span><br><span class="line-number">8719</span><br><span class="line-number">8720</span><br><span class="line-number">8721</span><br><span class="line-number">8722</span><br><span class="line-number">8723</span><br><span class="line-number">8724</span><br><span class="line-number">8725</span><br><span class="line-number">8726</span><br><span class="line-number">8727</span><br><span class="line-number">8728</span><br><span class="line-number">8729</span><br><span class="line-number">8730</span><br><span class="line-number">8731</span><br><span class="line-number">8732</span><br><span class="line-number">8733</span><br><span class="line-number">8734</span><br><span class="line-number">8735</span><br><span class="line-number">8736</span><br><span class="line-number">8737</span><br><span class="line-number">8738</span><br><span class="line-number">8739</span><br><span class="line-number">8740</span><br><span class="line-number">8741</span><br><span class="line-number">8742</span><br><span class="line-number">8743</span><br><span class="line-number">8744</span><br><span class="line-number">8745</span><br><span class="line-number">8746</span><br><span class="line-number">8747</span><br><span class="line-number">8748</span><br><span class="line-number">8749</span><br><span class="line-number">8750</span><br><span class="line-number">8751</span><br><span class="line-number">8752</span><br><span class="line-number">8753</span><br><span class="line-number">8754</span><br><span class="line-number">8755</span><br><span class="line-number">8756</span><br><span class="line-number">8757</span><br><span class="line-number">8758</span><br><span class="line-number">8759</span><br><span class="line-number">8760</span><br><span class="line-number">8761</span><br><span class="line-number">8762</span><br><span class="line-number">8763</span><br><span class="line-number">8764</span><br><span class="line-number">8765</span><br><span class="line-number">8766</span><br><span class="line-number">8767</span><br><span class="line-number">8768</span><br><span class="line-number">8769</span><br><span class="line-number">8770</span><br><span class="line-number">8771</span><br><span class="line-number">8772</span><br><span class="line-number">8773</span><br><span class="line-number">8774</span><br><span class="line-number">8775</span><br><span class="line-number">8776</span><br><span class="line-number">8777</span><br><span class="line-number">8778</span><br><span class="line-number">8779</span><br><span class="line-number">8780</span><br><span class="line-number">8781</span><br><span class="line-number">8782</span><br><span class="line-number">8783</span><br><span class="line-number">8784</span><br><span class="line-number">8785</span><br><span class="line-number">8786</span><br><span class="line-number">8787</span><br><span class="line-number">8788</span><br><span class="line-number">8789</span><br><span class="line-number">8790</span><br><span class="line-number">8791</span><br><span class="line-number">8792</span><br><span class="line-number">8793</span><br><span class="line-number">8794</span><br><span class="line-number">8795</span><br><span class="line-number">8796</span><br><span class="line-number">8797</span><br><span class="line-number">8798</span><br><span class="line-number">8799</span><br><span class="line-number">8800</span><br><span class="line-number">8801</span><br><span class="line-number">8802</span><br><span class="line-number">8803</span><br><span class="line-number">8804</span><br><span class="line-number">8805</span><br><span class="line-number">8806</span><br><span class="line-number">8807</span><br><span class="line-number">8808</span><br><span class="line-number">8809</span><br><span class="line-number">8810</span><br><span class="line-number">8811</span><br><span class="line-number">8812</span><br><span class="line-number">8813</span><br><span class="line-number">8814</span><br><span class="line-number">8815</span><br><span class="line-number">8816</span><br><span class="line-number">8817</span><br><span class="line-number">8818</span><br><span class="line-number">8819</span><br><span class="line-number">8820</span><br><span class="line-number">8821</span><br><span class="line-number">8822</span><br><span class="line-number">8823</span><br><span class="line-number">8824</span><br><span class="line-number">8825</span><br><span class="line-number">8826</span><br><span class="line-number">8827</span><br><span class="line-number">8828</span><br><span class="line-number">8829</span><br><span class="line-number">8830</span><br><span class="line-number">8831</span><br><span class="line-number">8832</span><br><span class="line-number">8833</span><br><span class="line-number">8834</span><br><span class="line-number">8835</span><br><span class="line-number">8836</span><br><span class="line-number">8837</span><br><span class="line-number">8838</span><br><span class="line-number">8839</span><br><span class="line-number">8840</span><br><span class="line-number">8841</span><br><span class="line-number">8842</span><br><span class="line-number">8843</span><br><span class="line-number">8844</span><br><span class="line-number">8845</span><br><span class="line-number">8846</span><br><span class="line-number">8847</span><br><span class="line-number">8848</span><br><span class="line-number">8849</span><br><span class="line-number">8850</span><br><span class="line-number">8851</span><br><span class="line-number">8852</span><br><span class="line-number">8853</span><br><span class="line-number">8854</span><br><span class="line-number">8855</span><br><span class="line-number">8856</span><br><span class="line-number">8857</span><br><span class="line-number">8858</span><br><span class="line-number">8859</span><br><span class="line-number">8860</span><br><span class="line-number">8861</span><br><span class="line-number">8862</span><br><span class="line-number">8863</span><br><span class="line-number">8864</span><br><span class="line-number">8865</span><br><span class="line-number">8866</span><br><span class="line-number">8867</span><br><span class="line-number">8868</span><br><span class="line-number">8869</span><br><span class="line-number">8870</span><br><span class="line-number">8871</span><br><span class="line-number">8872</span><br><span class="line-number">8873</span><br><span class="line-number">8874</span><br><span class="line-number">8875</span><br><span class="line-number">8876</span><br><span class="line-number">8877</span><br><span class="line-number">8878</span><br><span class="line-number">8879</span><br><span class="line-number">8880</span><br><span class="line-number">8881</span><br><span class="line-number">8882</span><br><span class="line-number">8883</span><br><span class="line-number">8884</span><br><span class="line-number">8885</span><br><span class="line-number">8886</span><br><span class="line-number">8887</span><br><span class="line-number">8888</span><br><span class="line-number">8889</span><br><span class="line-number">8890</span><br><span class="line-number">8891</span><br><span class="line-number">8892</span><br><span class="line-number">8893</span><br><span class="line-number">8894</span><br><span class="line-number">8895</span><br><span class="line-number">8896</span><br><span class="line-number">8897</span><br><span class="line-number">8898</span><br><span class="line-number">8899</span><br><span class="line-number">8900</span><br><span class="line-number">8901</span><br><span class="line-number">8902</span><br><span class="line-number">8903</span><br><span class="line-number">8904</span><br><span class="line-number">8905</span><br><span class="line-number">8906</span><br><span class="line-number">8907</span><br><span class="line-number">8908</span><br><span class="line-number">8909</span><br><span class="line-number">8910</span><br><span class="line-number">8911</span><br><span class="line-number">8912</span><br><span class="line-number">8913</span><br><span class="line-number">8914</span><br><span class="line-number">8915</span><br><span class="line-number">8916</span><br><span class="line-number">8917</span><br><span class="line-number">8918</span><br><span class="line-number">8919</span><br><span class="line-number">8920</span><br><span class="line-number">8921</span><br><span class="line-number">8922</span><br><span class="line-number">8923</span><br><span class="line-number">8924</span><br><span class="line-number">8925</span><br><span class="line-number">8926</span><br><span class="line-number">8927</span><br><span class="line-number">8928</span><br><span class="line-number">8929</span><br><span class="line-number">8930</span><br><span class="line-number">8931</span><br><span class="line-number">8932</span><br><span class="line-number">8933</span><br><span class="line-number">8934</span><br><span class="line-number">8935</span><br><span class="line-number">8936</span><br><span class="line-number">8937</span><br><span class="line-number">8938</span><br><span class="line-number">8939</span><br><span class="line-number">8940</span><br><span class="line-number">8941</span><br><span class="line-number">8942</span><br><span class="line-number">8943</span><br><span class="line-number">8944</span><br><span class="line-number">8945</span><br><span class="line-number">8946</span><br><span class="line-number">8947</span><br><span class="line-number">8948</span><br><span class="line-number">8949</span><br><span class="line-number">8950</span><br><span class="line-number">8951</span><br><span class="line-number">8952</span><br><span class="line-number">8953</span><br><span class="line-number">8954</span><br><span class="line-number">8955</span><br><span class="line-number">8956</span><br><span class="line-number">8957</span><br><span class="line-number">8958</span><br><span class="line-number">8959</span><br><span class="line-number">8960</span><br><span class="line-number">8961</span><br><span class="line-number">8962</span><br><span class="line-number">8963</span><br><span class="line-number">8964</span><br><span class="line-number">8965</span><br><span class="line-number">8966</span><br><span class="line-number">8967</span><br><span class="line-number">8968</span><br><span class="line-number">8969</span><br><span class="line-number">8970</span><br><span class="line-number">8971</span><br><span class="line-number">8972</span><br><span class="line-number">8973</span><br><span class="line-number">8974</span><br><span class="line-number">8975</span><br><span class="line-number">8976</span><br><span class="line-number">8977</span><br><span class="line-number">8978</span><br><span class="line-number">8979</span><br><span class="line-number">8980</span><br><span class="line-number">8981</span><br><span class="line-number">8982</span><br><span class="line-number">8983</span><br><span class="line-number">8984</span><br><span class="line-number">8985</span><br><span class="line-number">8986</span><br><span class="line-number">8987</span><br><span class="line-number">8988</span><br><span class="line-number">8989</span><br><span class="line-number">8990</span><br><span class="line-number">8991</span><br><span class="line-number">8992</span><br><span class="line-number">8993</span><br><span class="line-number">8994</span><br><span class="line-number">8995</span><br><span class="line-number">8996</span><br><span class="line-number">8997</span><br><span class="line-number">8998</span><br><span class="line-number">8999</span><br><span class="line-number">9000</span><br><span class="line-number">9001</span><br><span class="line-number">9002</span><br><span class="line-number">9003</span><br><span class="line-number">9004</span><br><span class="line-number">9005</span><br><span class="line-number">9006</span><br><span class="line-number">9007</span><br><span class="line-number">9008</span><br><span class="line-number">9009</span><br><span class="line-number">9010</span><br><span class="line-number">9011</span><br><span class="line-number">9012</span><br><span class="line-number">9013</span><br><span class="line-number">9014</span><br><span class="line-number">9015</span><br><span class="line-number">9016</span><br><span class="line-number">9017</span><br><span class="line-number">9018</span><br><span class="line-number">9019</span><br><span class="line-number">9020</span><br><span class="line-number">9021</span><br><span class="line-number">9022</span><br><span class="line-number">9023</span><br><span class="line-number">9024</span><br><span class="line-number">9025</span><br><span class="line-number">9026</span><br><span class="line-number">9027</span><br><span class="line-number">9028</span><br><span class="line-number">9029</span><br><span class="line-number">9030</span><br><span class="line-number">9031</span><br><span class="line-number">9032</span><br><span class="line-number">9033</span><br><span class="line-number">9034</span><br><span class="line-number">9035</span><br><span class="line-number">9036</span><br><span class="line-number">9037</span><br><span class="line-number">9038</span><br><span class="line-number">9039</span><br><span class="line-number">9040</span><br><span class="line-number">9041</span><br><span class="line-number">9042</span><br><span class="line-number">9043</span><br><span class="line-number">9044</span><br><span class="line-number">9045</span><br><span class="line-number">9046</span><br><span class="line-number">9047</span><br><span class="line-number">9048</span><br><span class="line-number">9049</span><br><span class="line-number">9050</span><br><span class="line-number">9051</span><br><span class="line-number">9052</span><br><span class="line-number">9053</span><br><span class="line-number">9054</span><br><span class="line-number">9055</span><br><span class="line-number">9056</span><br><span class="line-number">9057</span><br><span class="line-number">9058</span><br><span class="line-number">9059</span><br><span class="line-number">9060</span><br><span class="line-number">9061</span><br><span class="line-number">9062</span><br><span class="line-number">9063</span><br><span class="line-number">9064</span><br><span class="line-number">9065</span><br><span class="line-number">9066</span><br><span class="line-number">9067</span><br><span class="line-number">9068</span><br><span class="line-number">9069</span><br><span class="line-number">9070</span><br><span class="line-number">9071</span><br><span class="line-number">9072</span><br><span class="line-number">9073</span><br><span class="line-number">9074</span><br><span class="line-number">9075</span><br><span class="line-number">9076</span><br><span class="line-number">9077</span><br><span class="line-number">9078</span><br><span class="line-number">9079</span><br><span class="line-number">9080</span><br><span class="line-number">9081</span><br><span class="line-number">9082</span><br><span class="line-number">9083</span><br><span class="line-number">9084</span><br><span class="line-number">9085</span><br><span class="line-number">9086</span><br><span class="line-number">9087</span><br><span class="line-number">9088</span><br><span class="line-number">9089</span><br><span class="line-number">9090</span><br><span class="line-number">9091</span><br><span class="line-number">9092</span><br><span class="line-number">9093</span><br><span class="line-number">9094</span><br><span class="line-number">9095</span><br><span class="line-number">9096</span><br><span class="line-number">9097</span><br><span class="line-number">9098</span><br><span class="line-number">9099</span><br><span class="line-number">9100</span><br><span class="line-number">9101</span><br><span class="line-number">9102</span><br><span class="line-number">9103</span><br><span class="line-number">9104</span><br><span class="line-number">9105</span><br><span class="line-number">9106</span><br><span class="line-number">9107</span><br><span class="line-number">9108</span><br><span class="line-number">9109</span><br><span class="line-number">9110</span><br><span class="line-number">9111</span><br><span class="line-number">9112</span><br><span class="line-number">9113</span><br><span class="line-number">9114</span><br><span class="line-number">9115</span><br><span class="line-number">9116</span><br><span class="line-number">9117</span><br><span class="line-number">9118</span><br><span class="line-number">9119</span><br><span class="line-number">9120</span><br><span class="line-number">9121</span><br><span class="line-number">9122</span><br><span class="line-number">9123</span><br><span class="line-number">9124</span><br><span class="line-number">9125</span><br><span class="line-number">9126</span><br><span class="line-number">9127</span><br><span class="line-number">9128</span><br><span class="line-number">9129</span><br><span class="line-number">9130</span><br><span class="line-number">9131</span><br><span class="line-number">9132</span><br><span class="line-number">9133</span><br><span class="line-number">9134</span><br><span class="line-number">9135</span><br><span class="line-number">9136</span><br><span class="line-number">9137</span><br><span class="line-number">9138</span><br><span class="line-number">9139</span><br><span class="line-number">9140</span><br><span class="line-number">9141</span><br><span class="line-number">9142</span><br><span class="line-number">9143</span><br><span class="line-number">9144</span><br><span class="line-number">9145</span><br><span class="line-number">9146</span><br><span class="line-number">9147</span><br><span class="line-number">9148</span><br><span class="line-number">9149</span><br><span class="line-number">9150</span><br><span class="line-number">9151</span><br><span class="line-number">9152</span><br><span class="line-number">9153</span><br><span class="line-number">9154</span><br><span class="line-number">9155</span><br><span class="line-number">9156</span><br><span class="line-number">9157</span><br><span class="line-number">9158</span><br><span class="line-number">9159</span><br><span class="line-number">9160</span><br><span class="line-number">9161</span><br><span class="line-number">9162</span><br><span class="line-number">9163</span><br><span class="line-number">9164</span><br><span class="line-number">9165</span><br><span class="line-number">9166</span><br><span class="line-number">9167</span><br><span class="line-number">9168</span><br><span class="line-number">9169</span><br><span class="line-number">9170</span><br><span class="line-number">9171</span><br><span class="line-number">9172</span><br><span class="line-number">9173</span><br><span class="line-number">9174</span><br><span class="line-number">9175</span><br><span class="line-number">9176</span><br><span class="line-number">9177</span><br><span class="line-number">9178</span><br><span class="line-number">9179</span><br><span class="line-number">9180</span><br><span class="line-number">9181</span><br><span class="line-number">9182</span><br><span class="line-number">9183</span><br><span class="line-number">9184</span><br><span class="line-number">9185</span><br><span class="line-number">9186</span><br><span class="line-number">9187</span><br><span class="line-number">9188</span><br><span class="line-number">9189</span><br><span class="line-number">9190</span><br><span class="line-number">9191</span><br><span class="line-number">9192</span><br><span class="line-number">9193</span><br><span class="line-number">9194</span><br><span class="line-number">9195</span><br><span class="line-number">9196</span><br><span class="line-number">9197</span><br><span class="line-number">9198</span><br><span class="line-number">9199</span><br><span class="line-number">9200</span><br><span class="line-number">9201</span><br><span class="line-number">9202</span><br><span class="line-number">9203</span><br><span class="line-number">9204</span><br><span class="line-number">9205</span><br><span class="line-number">9206</span><br><span class="line-number">9207</span><br><span class="line-number">9208</span><br><span class="line-number">9209</span><br><span class="line-number">9210</span><br><span class="line-number">9211</span><br><span class="line-number">9212</span><br><span class="line-number">9213</span><br><span class="line-number">9214</span><br><span class="line-number">9215</span><br><span class="line-number">9216</span><br><span class="line-number">9217</span><br><span class="line-number">9218</span><br><span class="line-number">9219</span><br><span class="line-number">9220</span><br><span class="line-number">9221</span><br><span class="line-number">9222</span><br><span class="line-number">9223</span><br><span class="line-number">9224</span><br><span class="line-number">9225</span><br><span class="line-number">9226</span><br><span class="line-number">9227</span><br><span class="line-number">9228</span><br><span class="line-number">9229</span><br><span class="line-number">9230</span><br><span class="line-number">9231</span><br><span class="line-number">9232</span><br><span class="line-number">9233</span><br><span class="line-number">9234</span><br><span class="line-number">9235</span><br><span class="line-number">9236</span><br><span class="line-number">9237</span><br><span class="line-number">9238</span><br><span class="line-number">9239</span><br><span class="line-number">9240</span><br><span class="line-number">9241</span><br><span class="line-number">9242</span><br><span class="line-number">9243</span><br><span class="line-number">9244</span><br><span class="line-number">9245</span><br><span class="line-number">9246</span><br><span class="line-number">9247</span><br><span class="line-number">9248</span><br><span class="line-number">9249</span><br><span class="line-number">9250</span><br><span class="line-number">9251</span><br><span class="line-number">9252</span><br><span class="line-number">9253</span><br><span class="line-number">9254</span><br><span class="line-number">9255</span><br><span class="line-number">9256</span><br><span class="line-number">9257</span><br><span class="line-number">9258</span><br><span class="line-number">9259</span><br><span class="line-number">9260</span><br><span class="line-number">9261</span><br><span class="line-number">9262</span><br><span class="line-number">9263</span><br><span class="line-number">9264</span><br><span class="line-number">9265</span><br><span class="line-number">9266</span><br><span class="line-number">9267</span><br><span class="line-number">9268</span><br><span class="line-number">9269</span><br><span class="line-number">9270</span><br><span class="line-number">9271</span><br><span class="line-number">9272</span><br><span class="line-number">9273</span><br><span class="line-number">9274</span><br><span class="line-number">9275</span><br><span class="line-number">9276</span><br><span class="line-number">9277</span><br><span class="line-number">9278</span><br><span class="line-number">9279</span><br><span class="line-number">9280</span><br><span class="line-number">9281</span><br><span class="line-number">9282</span><br><span class="line-number">9283</span><br><span class="line-number">9284</span><br><span class="line-number">9285</span><br><span class="line-number">9286</span><br><span class="line-number">9287</span><br><span class="line-number">9288</span><br><span class="line-number">9289</span><br><span class="line-number">9290</span><br><span class="line-number">9291</span><br><span class="line-number">9292</span><br><span class="line-number">9293</span><br><span class="line-number">9294</span><br><span class="line-number">9295</span><br><span class="line-number">9296</span><br><span class="line-number">9297</span><br><span class="line-number">9298</span><br><span class="line-number">9299</span><br><span class="line-number">9300</span><br><span class="line-number">9301</span><br><span class="line-number">9302</span><br><span class="line-number">9303</span><br><span class="line-number">9304</span><br><span class="line-number">9305</span><br><span class="line-number">9306</span><br><span class="line-number">9307</span><br><span class="line-number">9308</span><br><span class="line-number">9309</span><br><span class="line-number">9310</span><br><span class="line-number">9311</span><br><span class="line-number">9312</span><br><span class="line-number">9313</span><br><span class="line-number">9314</span><br><span class="line-number">9315</span><br><span class="line-number">9316</span><br><span class="line-number">9317</span><br><span class="line-number">9318</span><br><span class="line-number">9319</span><br><span class="line-number">9320</span><br><span class="line-number">9321</span><br><span class="line-number">9322</span><br><span class="line-number">9323</span><br><span class="line-number">9324</span><br><span class="line-number">9325</span><br><span class="line-number">9326</span><br><span class="line-number">9327</span><br><span class="line-number">9328</span><br><span class="line-number">9329</span><br><span class="line-number">9330</span><br><span class="line-number">9331</span><br><span class="line-number">9332</span><br><span class="line-number">9333</span><br><span class="line-number">9334</span><br><span class="line-number">9335</span><br><span class="line-number">9336</span><br><span class="line-number">9337</span><br><span class="line-number">9338</span><br><span class="line-number">9339</span><br><span class="line-number">9340</span><br><span class="line-number">9341</span><br><span class="line-number">9342</span><br><span class="line-number">9343</span><br><span class="line-number">9344</span><br><span class="line-number">9345</span><br><span class="line-number">9346</span><br><span class="line-number">9347</span><br><span class="line-number">9348</span><br><span class="line-number">9349</span><br><span class="line-number">9350</span><br><span class="line-number">9351</span><br><span class="line-number">9352</span><br><span class="line-number">9353</span><br><span class="line-number">9354</span><br><span class="line-number">9355</span><br><span class="line-number">9356</span><br><span class="line-number">9357</span><br><span class="line-number">9358</span><br><span class="line-number">9359</span><br><span class="line-number">9360</span><br><span class="line-number">9361</span><br><span class="line-number">9362</span><br><span class="line-number">9363</span><br><span class="line-number">9364</span><br><span class="line-number">9365</span><br><span class="line-number">9366</span><br><span class="line-number">9367</span><br><span class="line-number">9368</span><br><span class="line-number">9369</span><br><span class="line-number">9370</span><br><span class="line-number">9371</span><br><span class="line-number">9372</span><br><span class="line-number">9373</span><br><span class="line-number">9374</span><br><span class="line-number">9375</span><br><span class="line-number">9376</span><br><span class="line-number">9377</span><br><span class="line-number">9378</span><br><span class="line-number">9379</span><br><span class="line-number">9380</span><br><span class="line-number">9381</span><br><span class="line-number">9382</span><br><span class="line-number">9383</span><br><span class="line-number">9384</span><br><span class="line-number">9385</span><br><span class="line-number">9386</span><br><span class="line-number">9387</span><br><span class="line-number">9388</span><br><span class="line-number">9389</span><br><span class="line-number">9390</span><br><span class="line-number">9391</span><br><span class="line-number">9392</span><br><span class="line-number">9393</span><br><span class="line-number">9394</span><br><span class="line-number">9395</span><br><span class="line-number">9396</span><br><span class="line-number">9397</span><br><span class="line-number">9398</span><br><span class="line-number">9399</span><br><span class="line-number">9400</span><br><span class="line-number">9401</span><br><span class="line-number">9402</span><br><span class="line-number">9403</span><br><span class="line-number">9404</span><br><span class="line-number">9405</span><br><span class="line-number">9406</span><br><span class="line-number">9407</span><br><span class="line-number">9408</span><br><span class="line-number">9409</span><br><span class="line-number">9410</span><br><span class="line-number">9411</span><br><span class="line-number">9412</span><br><span class="line-number">9413</span><br><span class="line-number">9414</span><br><span class="line-number">9415</span><br><span class="line-number">9416</span><br><span class="line-number">9417</span><br><span class="line-number">9418</span><br><span class="line-number">9419</span><br><span class="line-number">9420</span><br><span class="line-number">9421</span><br><span class="line-number">9422</span><br><span class="line-number">9423</span><br><span class="line-number">9424</span><br><span class="line-number">9425</span><br><span class="line-number">9426</span><br><span class="line-number">9427</span><br><span class="line-number">9428</span><br><span class="line-number">9429</span><br><span class="line-number">9430</span><br><span class="line-number">9431</span><br><span class="line-number">9432</span><br><span class="line-number">9433</span><br><span class="line-number">9434</span><br><span class="line-number">9435</span><br><span class="line-number">9436</span><br><span class="line-number">9437</span><br><span class="line-number">9438</span><br><span class="line-number">9439</span><br><span class="line-number">9440</span><br><span class="line-number">9441</span><br><span class="line-number">9442</span><br><span class="line-number">9443</span><br><span class="line-number">9444</span><br><span class="line-number">9445</span><br><span class="line-number">9446</span><br><span class="line-number">9447</span><br><span class="line-number">9448</span><br><span class="line-number">9449</span><br><span class="line-number">9450</span><br><span class="line-number">9451</span><br><span class="line-number">9452</span><br><span class="line-number">9453</span><br><span class="line-number">9454</span><br><span class="line-number">9455</span><br><span class="line-number">9456</span><br><span class="line-number">9457</span><br><span class="line-number">9458</span><br><span class="line-number">9459</span><br><span class="line-number">9460</span><br><span class="line-number">9461</span><br><span class="line-number">9462</span><br><span class="line-number">9463</span><br><span class="line-number">9464</span><br><span class="line-number">9465</span><br><span class="line-number">9466</span><br><span class="line-number">9467</span><br><span class="line-number">9468</span><br><span class="line-number">9469</span><br><span class="line-number">9470</span><br><span class="line-number">9471</span><br><span class="line-number">9472</span><br><span class="line-number">9473</span><br><span class="line-number">9474</span><br><span class="line-number">9475</span><br><span class="line-number">9476</span><br><span class="line-number">9477</span><br><span class="line-number">9478</span><br><span class="line-number">9479</span><br><span class="line-number">9480</span><br><span class="line-number">9481</span><br><span class="line-number">9482</span><br><span class="line-number">9483</span><br><span class="line-number">9484</span><br><span class="line-number">9485</span><br><span class="line-number">9486</span><br><span class="line-number">9487</span><br><span class="line-number">9488</span><br><span class="line-number">9489</span><br><span class="line-number">9490</span><br><span class="line-number">9491</span><br><span class="line-number">9492</span><br><span class="line-number">9493</span><br><span class="line-number">9494</span><br><span class="line-number">9495</span><br><span class="line-number">9496</span><br><span class="line-number">9497</span><br><span class="line-number">9498</span><br><span class="line-number">9499</span><br><span class="line-number">9500</span><br><span class="line-number">9501</span><br><span class="line-number">9502</span><br><span class="line-number">9503</span><br><span class="line-number">9504</span><br><span class="line-number">9505</span><br><span class="line-number">9506</span><br><span class="line-number">9507</span><br><span class="line-number">9508</span><br><span class="line-number">9509</span><br><span class="line-number">9510</span><br><span class="line-number">9511</span><br><span class="line-number">9512</span><br><span class="line-number">9513</span><br><span class="line-number">9514</span><br><span class="line-number">9515</span><br><span class="line-number">9516</span><br><span class="line-number">9517</span><br><span class="line-number">9518</span><br><span class="line-number">9519</span><br><span class="line-number">9520</span><br><span class="line-number">9521</span><br><span class="line-number">9522</span><br><span class="line-number">9523</span><br><span class="line-number">9524</span><br><span class="line-number">9525</span><br><span class="line-number">9526</span><br><span class="line-number">9527</span><br><span class="line-number">9528</span><br><span class="line-number">9529</span><br><span class="line-number">9530</span><br><span class="line-number">9531</span><br><span class="line-number">9532</span><br><span class="line-number">9533</span><br><span class="line-number">9534</span><br><span class="line-number">9535</span><br><span class="line-number">9536</span><br><span class="line-number">9537</span><br><span class="line-number">9538</span><br><span class="line-number">9539</span><br><span class="line-number">9540</span><br><span class="line-number">9541</span><br><span class="line-number">9542</span><br><span class="line-number">9543</span><br><span class="line-number">9544</span><br><span class="line-number">9545</span><br><span class="line-number">9546</span><br><span class="line-number">9547</span><br><span class="line-number">9548</span><br><span class="line-number">9549</span><br><span class="line-number">9550</span><br><span class="line-number">9551</span><br><span class="line-number">9552</span><br><span class="line-number">9553</span><br><span class="line-number">9554</span><br><span class="line-number">9555</span><br><span class="line-number">9556</span><br><span class="line-number">9557</span><br><span class="line-number">9558</span><br><span class="line-number">9559</span><br><span class="line-number">9560</span><br><span class="line-number">9561</span><br><span class="line-number">9562</span><br><span class="line-number">9563</span><br><span class="line-number">9564</span><br><span class="line-number">9565</span><br><span class="line-number">9566</span><br><span class="line-number">9567</span><br><span class="line-number">9568</span><br><span class="line-number">9569</span><br><span class="line-number">9570</span><br><span class="line-number">9571</span><br><span class="line-number">9572</span><br><span class="line-number">9573</span><br><span class="line-number">9574</span><br><span class="line-number">9575</span><br><span class="line-number">9576</span><br><span class="line-number">9577</span><br><span class="line-number">9578</span><br><span class="line-number">9579</span><br><span class="line-number">9580</span><br><span class="line-number">9581</span><br><span class="line-number">9582</span><br><span class="line-number">9583</span><br><span class="line-number">9584</span><br><span class="line-number">9585</span><br><span class="line-number">9586</span><br><span class="line-number">9587</span><br><span class="line-number">9588</span><br><span class="line-number">9589</span><br><span class="line-number">9590</span><br><span class="line-number">9591</span><br><span class="line-number">9592</span><br><span class="line-number">9593</span><br><span class="line-number">9594</span><br><span class="line-number">9595</span><br><span class="line-number">9596</span><br><span class="line-number">9597</span><br><span class="line-number">9598</span><br><span class="line-number">9599</span><br><span class="line-number">9600</span><br><span class="line-number">9601</span><br><span class="line-number">9602</span><br><span class="line-number">9603</span><br><span class="line-number">9604</span><br><span class="line-number">9605</span><br><span class="line-number">9606</span><br><span class="line-number">9607</span><br><span class="line-number">9608</span><br><span class="line-number">9609</span><br><span class="line-number">9610</span><br><span class="line-number">9611</span><br><span class="line-number">9612</span><br><span class="line-number">9613</span><br><span class="line-number">9614</span><br><span class="line-number">9615</span><br><span class="line-number">9616</span><br><span class="line-number">9617</span><br><span class="line-number">9618</span><br><span class="line-number">9619</span><br><span class="line-number">9620</span><br><span class="line-number">9621</span><br><span class="line-number">9622</span><br><span class="line-number">9623</span><br><span class="line-number">9624</span><br><span class="line-number">9625</span><br><span class="line-number">9626</span><br><span class="line-number">9627</span><br><span class="line-number">9628</span><br><span class="line-number">9629</span><br><span class="line-number">9630</span><br><span class="line-number">9631</span><br><span class="line-number">9632</span><br><span class="line-number">9633</span><br><span class="line-number">9634</span><br><span class="line-number">9635</span><br><span class="line-number">9636</span><br><span class="line-number">9637</span><br><span class="line-number">9638</span><br><span class="line-number">9639</span><br><span class="line-number">9640</span><br><span class="line-number">9641</span><br><span class="line-number">9642</span><br><span class="line-number">9643</span><br><span class="line-number">9644</span><br><span class="line-number">9645</span><br><span class="line-number">9646</span><br><span class="line-number">9647</span><br><span class="line-number">9648</span><br><span class="line-number">9649</span><br><span class="line-number">9650</span><br><span class="line-number">9651</span><br><span class="line-number">9652</span><br><span class="line-number">9653</span><br><span class="line-number">9654</span><br><span class="line-number">9655</span><br><span class="line-number">9656</span><br><span class="line-number">9657</span><br><span class="line-number">9658</span><br><span class="line-number">9659</span><br><span class="line-number">9660</span><br><span class="line-number">9661</span><br><span class="line-number">9662</span><br><span class="line-number">9663</span><br><span class="line-number">9664</span><br><span class="line-number">9665</span><br><span class="line-number">9666</span><br><span class="line-number">9667</span><br><span class="line-number">9668</span><br><span class="line-number">9669</span><br><span class="line-number">9670</span><br><span class="line-number">9671</span><br><span class="line-number">9672</span><br><span class="line-number">9673</span><br><span class="line-number">9674</span><br><span class="line-number">9675</span><br><span class="line-number">9676</span><br><span class="line-number">9677</span><br><span class="line-number">9678</span><br><span class="line-number">9679</span><br><span class="line-number">9680</span><br><span class="line-number">9681</span><br><span class="line-number">9682</span><br><span class="line-number">9683</span><br><span class="line-number">9684</span><br><span class="line-number">9685</span><br><span class="line-number">9686</span><br><span class="line-number">9687</span><br><span class="line-number">9688</span><br><span class="line-number">9689</span><br><span class="line-number">9690</span><br><span class="line-number">9691</span><br><span class="line-number">9692</span><br><span class="line-number">9693</span><br><span class="line-number">9694</span><br><span class="line-number">9695</span><br><span class="line-number">9696</span><br><span class="line-number">9697</span><br><span class="line-number">9698</span><br><span class="line-number">9699</span><br><span class="line-number">9700</span><br><span class="line-number">9701</span><br><span class="line-number">9702</span><br><span class="line-number">9703</span><br><span class="line-number">9704</span><br><span class="line-number">9705</span><br><span class="line-number">9706</span><br><span class="line-number">9707</span><br><span class="line-number">9708</span><br><span class="line-number">9709</span><br><span class="line-number">9710</span><br><span class="line-number">9711</span><br><span class="line-number">9712</span><br><span class="line-number">9713</span><br><span class="line-number">9714</span><br><span class="line-number">9715</span><br><span class="line-number">9716</span><br><span class="line-number">9717</span><br><span class="line-number">9718</span><br><span class="line-number">9719</span><br><span class="line-number">9720</span><br><span class="line-number">9721</span><br><span class="line-number">9722</span><br><span class="line-number">9723</span><br><span class="line-number">9724</span><br><span class="line-number">9725</span><br><span class="line-number">9726</span><br><span class="line-number">9727</span><br><span class="line-number">9728</span><br><span class="line-number">9729</span><br><span class="line-number">9730</span><br><span class="line-number">9731</span><br><span class="line-number">9732</span><br><span class="line-number">9733</span><br><span class="line-number">9734</span><br><span class="line-number">9735</span><br><span class="line-number">9736</span><br><span class="line-number">9737</span><br><span class="line-number">9738</span><br><span class="line-number">9739</span><br><span class="line-number">9740</span><br><span class="line-number">9741</span><br><span class="line-number">9742</span><br><span class="line-number">9743</span><br><span class="line-number">9744</span><br><span class="line-number">9745</span><br><span class="line-number">9746</span><br><span class="line-number">9747</span><br><span class="line-number">9748</span><br><span class="line-number">9749</span><br><span class="line-number">9750</span><br><span class="line-number">9751</span><br><span class="line-number">9752</span><br><span class="line-number">9753</span><br><span class="line-number">9754</span><br><span class="line-number">9755</span><br><span class="line-number">9756</span><br><span class="line-number">9757</span><br><span class="line-number">9758</span><br><span class="line-number">9759</span><br><span class="line-number">9760</span><br><span class="line-number">9761</span><br><span class="line-number">9762</span><br><span class="line-number">9763</span><br><span class="line-number">9764</span><br><span class="line-number">9765</span><br><span class="line-number">9766</span><br><span class="line-number">9767</span><br><span class="line-number">9768</span><br><span class="line-number">9769</span><br><span class="line-number">9770</span><br><span class="line-number">9771</span><br><span class="line-number">9772</span><br><span class="line-number">9773</span><br><span class="line-number">9774</span><br><span class="line-number">9775</span><br><span class="line-number">9776</span><br><span class="line-number">9777</span><br><span class="line-number">9778</span><br><span class="line-number">9779</span><br><span class="line-number">9780</span><br><span class="line-number">9781</span><br><span class="line-number">9782</span><br><span class="line-number">9783</span><br><span class="line-number">9784</span><br><span class="line-number">9785</span><br><span class="line-number">9786</span><br><span class="line-number">9787</span><br><span class="line-number">9788</span><br><span class="line-number">9789</span><br><span class="line-number">9790</span><br><span class="line-number">9791</span><br><span class="line-number">9792</span><br><span class="line-number">9793</span><br><span class="line-number">9794</span><br><span class="line-number">9795</span><br><span class="line-number">9796</span><br><span class="line-number">9797</span><br><span class="line-number">9798</span><br><span class="line-number">9799</span><br><span class="line-number">9800</span><br><span class="line-number">9801</span><br><span class="line-number">9802</span><br><span class="line-number">9803</span><br><span class="line-number">9804</span><br><span class="line-number">9805</span><br><span class="line-number">9806</span><br><span class="line-number">9807</span><br><span class="line-number">9808</span><br><span class="line-number">9809</span><br><span class="line-number">9810</span><br><span class="line-number">9811</span><br><span class="line-number">9812</span><br><span class="line-number">9813</span><br><span class="line-number">9814</span><br><span class="line-number">9815</span><br><span class="line-number">9816</span><br><span class="line-number">9817</span><br><span class="line-number">9818</span><br><span class="line-number">9819</span><br><span class="line-number">9820</span><br><span class="line-number">9821</span><br><span class="line-number">9822</span><br><span class="line-number">9823</span><br><span class="line-number">9824</span><br><span class="line-number">9825</span><br><span class="line-number">9826</span><br><span class="line-number">9827</span><br><span class="line-number">9828</span><br><span class="line-number">9829</span><br><span class="line-number">9830</span><br><span class="line-number">9831</span><br><span class="line-number">9832</span><br><span class="line-number">9833</span><br><span class="line-number">9834</span><br><span class="line-number">9835</span><br><span class="line-number">9836</span><br><span class="line-number">9837</span><br><span class="line-number">9838</span><br><span class="line-number">9839</span><br><span class="line-number">9840</span><br><span class="line-number">9841</span><br><span class="line-number">9842</span><br><span class="line-number">9843</span><br><span class="line-number">9844</span><br><span class="line-number">9845</span><br><span class="line-number">9846</span><br><span class="line-number">9847</span><br><span class="line-number">9848</span><br><span class="line-number">9849</span><br><span class="line-number">9850</span><br><span class="line-number">9851</span><br><span class="line-number">9852</span><br><span class="line-number">9853</span><br><span class="line-number">9854</span><br><span class="line-number">9855</span><br><span class="line-number">9856</span><br><span class="line-number">9857</span><br><span class="line-number">9858</span><br><span class="line-number">9859</span><br><span class="line-number">9860</span><br><span class="line-number">9861</span><br><span class="line-number">9862</span><br><span class="line-number">9863</span><br><span class="line-number">9864</span><br><span class="line-number">9865</span><br><span class="line-number">9866</span><br><span class="line-number">9867</span><br><span class="line-number">9868</span><br><span class="line-number">9869</span><br><span class="line-number">9870</span><br><span class="line-number">9871</span><br><span class="line-number">9872</span><br><span class="line-number">9873</span><br><span class="line-number">9874</span><br><span class="line-number">9875</span><br><span class="line-number">9876</span><br><span class="line-number">9877</span><br><span class="line-number">9878</span><br><span class="line-number">9879</span><br><span class="line-number">9880</span><br><span class="line-number">9881</span><br><span class="line-number">9882</span><br><span class="line-number">9883</span><br><span class="line-number">9884</span><br><span class="line-number">9885</span><br><span class="line-number">9886</span><br><span class="line-number">9887</span><br><span class="line-number">9888</span><br><span class="line-number">9889</span><br><span class="line-number">9890</span><br><span class="line-number">9891</span><br><span class="line-number">9892</span><br><span class="line-number">9893</span><br><span class="line-number">9894</span><br><span class="line-number">9895</span><br><span class="line-number">9896</span><br><span class="line-number">9897</span><br><span class="line-number">9898</span><br><span class="line-number">9899</span><br><span class="line-number">9900</span><br><span class="line-number">9901</span><br><span class="line-number">9902</span><br><span class="line-number">9903</span><br><span class="line-number">9904</span><br><span class="line-number">9905</span><br><span class="line-number">9906</span><br><span class="line-number">9907</span><br><span class="line-number">9908</span><br><span class="line-number">9909</span><br><span class="line-number">9910</span><br><span class="line-number">9911</span><br><span class="line-number">9912</span><br><span class="line-number">9913</span><br><span class="line-number">9914</span><br><span class="line-number">9915</span><br><span class="line-number">9916</span><br><span class="line-number">9917</span><br><span class="line-number">9918</span><br><span class="line-number">9919</span><br><span class="line-number">9920</span><br><span class="line-number">9921</span><br><span class="line-number">9922</span><br><span class="line-number">9923</span><br><span class="line-number">9924</span><br><span class="line-number">9925</span><br><span class="line-number">9926</span><br><span class="line-number">9927</span><br><span class="line-number">9928</span><br><span class="line-number">9929</span><br><span class="line-number">9930</span><br><span class="line-number">9931</span><br><span class="line-number">9932</span><br><span class="line-number">9933</span><br><span class="line-number">9934</span><br><span class="line-number">9935</span><br><span class="line-number">9936</span><br><span class="line-number">9937</span><br><span class="line-number">9938</span><br><span class="line-number">9939</span><br><span class="line-number">9940</span><br><span class="line-number">9941</span><br><span class="line-number">9942</span><br><span class="line-number">9943</span><br><span class="line-number">9944</span><br><span class="line-number">9945</span><br><span class="line-number">9946</span><br><span class="line-number">9947</span><br><span class="line-number">9948</span><br><span class="line-number">9949</span><br><span class="line-number">9950</span><br><span class="line-number">9951</span><br><span class="line-number">9952</span><br><span class="line-number">9953</span><br><span class="line-number">9954</span><br><span class="line-number">9955</span><br><span class="line-number">9956</span><br><span class="line-number">9957</span><br><span class="line-number">9958</span><br><span class="line-number">9959</span><br><span class="line-number">9960</span><br><span class="line-number">9961</span><br><span class="line-number">9962</span><br><span class="line-number">9963</span><br><span class="line-number">9964</span><br><span class="line-number">9965</span><br><span class="line-number">9966</span><br><span class="line-number">9967</span><br><span class="line-number">9968</span><br><span class="line-number">9969</span><br><span class="line-number">9970</span><br><span class="line-number">9971</span><br><span class="line-number">9972</span><br><span class="line-number">9973</span><br><span class="line-number">9974</span><br><span class="line-number">9975</span><br><span class="line-number">9976</span><br><span class="line-number">9977</span><br><span class="line-number">9978</span><br><span class="line-number">9979</span><br><span class="line-number">9980</span><br><span class="line-number">9981</span><br><span class="line-number">9982</span><br><span class="line-number">9983</span><br><span class="line-number">9984</span><br><span class="line-number">9985</span><br><span class="line-number">9986</span><br><span class="line-number">9987</span><br><span class="line-number">9988</span><br><span class="line-number">9989</span><br><span class="line-number">9990</span><br><span class="line-number">9991</span><br><span class="line-number">9992</span><br><span class="line-number">9993</span><br><span class="line-number">9994</span><br><span class="line-number">9995</span><br><span class="line-number">9996</span><br><span class="line-number">9997</span><br><span class="line-number">9998</span><br><span class="line-number">9999</span><br><span class="line-number">10000</span><br><span class="line-number">10001</span><br><span class="line-number">10002</span><br><span class="line-number">10003</span><br><span class="line-number">10004</span><br><span class="line-number">10005</span><br><span class="line-number">10006</span><br><span class="line-number">10007</span><br><span class="line-number">10008</span><br><span class="line-number">10009</span><br><span class="line-number">10010</span><br><span class="line-number">10011</span><br><span class="line-number">10012</span><br><span class="line-number">10013</span><br><span class="line-number">10014</span><br><span class="line-number">10015</span><br><span class="line-number">10016</span><br><span class="line-number">10017</span><br><span class="line-number">10018</span><br><span class="line-number">10019</span><br><span class="line-number">10020</span><br><span class="line-number">10021</span><br><span class="line-number">10022</span><br><span class="line-number">10023</span><br><span class="line-number">10024</span><br><span class="line-number">10025</span><br><span class="line-number">10026</span><br><span class="line-number">10027</span><br><span class="line-number">10028</span><br><span class="line-number">10029</span><br><span class="line-number">10030</span><br><span class="line-number">10031</span><br><span class="line-number">10032</span><br><span class="line-number">10033</span><br><span class="line-number">10034</span><br><span class="line-number">10035</span><br><span class="line-number">10036</span><br><span class="line-number">10037</span><br><span class="line-number">10038</span><br><span class="line-number">10039</span><br><span class="line-number">10040</span><br><span class="line-number">10041</span><br><span class="line-number">10042</span><br><span class="line-number">10043</span><br><span class="line-number">10044</span><br><span class="line-number">10045</span><br><span class="line-number">10046</span><br><span class="line-number">10047</span><br><span class="line-number">10048</span><br><span class="line-number">10049</span><br><span class="line-number">10050</span><br><span class="line-number">10051</span><br><span class="line-number">10052</span><br><span class="line-number">10053</span><br><span class="line-number">10054</span><br><span class="line-number">10055</span><br><span class="line-number">10056</span><br><span class="line-number">10057</span><br><span class="line-number">10058</span><br><span class="line-number">10059</span><br><span class="line-number">10060</span><br><span class="line-number">10061</span><br><span class="line-number">10062</span><br><span class="line-number">10063</span><br><span class="line-number">10064</span><br><span class="line-number">10065</span><br><span class="line-number">10066</span><br><span class="line-number">10067</span><br><span class="line-number">10068</span><br><span class="line-number">10069</span><br><span class="line-number">10070</span><br><span class="line-number">10071</span><br><span class="line-number">10072</span><br><span class="line-number">10073</span><br><span class="line-number">10074</span><br><span class="line-number">10075</span><br><span class="line-number">10076</span><br><span class="line-number">10077</span><br><span class="line-number">10078</span><br><span class="line-number">10079</span><br><span class="line-number">10080</span><br><span class="line-number">10081</span><br><span class="line-number">10082</span><br><span class="line-number">10083</span><br><span class="line-number">10084</span><br><span class="line-number">10085</span><br><span class="line-number">10086</span><br><span class="line-number">10087</span><br><span class="line-number">10088</span><br><span class="line-number">10089</span><br><span class="line-number">10090</span><br><span class="line-number">10091</span><br><span class="line-number">10092</span><br><span class="line-number">10093</span><br><span class="line-number">10094</span><br><span class="line-number">10095</span><br><span class="line-number">10096</span><br><span class="line-number">10097</span><br><span class="line-number">10098</span><br><span class="line-number">10099</span><br><span class="line-number">10100</span><br><span class="line-number">10101</span><br><span class="line-number">10102</span><br><span class="line-number">10103</span><br><span class="line-number">10104</span><br><span class="line-number">10105</span><br><span class="line-number">10106</span><br><span class="line-number">10107</span><br><span class="line-number">10108</span><br><span class="line-number">10109</span><br><span class="line-number">10110</span><br><span class="line-number">10111</span><br><span class="line-number">10112</span><br><span class="line-number">10113</span><br><span class="line-number">10114</span><br><span class="line-number">10115</span><br><span class="line-number">10116</span><br><span class="line-number">10117</span><br><span class="line-number">10118</span><br><span class="line-number">10119</span><br><span class="line-number">10120</span><br><span class="line-number">10121</span><br><span class="line-number">10122</span><br><span class="line-number">10123</span><br><span class="line-number">10124</span><br><span class="line-number">10125</span><br><span class="line-number">10126</span><br><span class="line-number">10127</span><br><span class="line-number">10128</span><br><span class="line-number">10129</span><br><span class="line-number">10130</span><br><span class="line-number">10131</span><br><span class="line-number">10132</span><br><span class="line-number">10133</span><br><span class="line-number">10134</span><br><span class="line-number">10135</span><br><span class="line-number">10136</span><br><span class="line-number">10137</span><br><span class="line-number">10138</span><br><span class="line-number">10139</span><br><span class="line-number">10140</span><br><span class="line-number">10141</span><br><span class="line-number">10142</span><br><span class="line-number">10143</span><br><span class="line-number">10144</span><br><span class="line-number">10145</span><br><span class="line-number">10146</span><br><span class="line-number">10147</span><br><span class="line-number">10148</span><br><span class="line-number">10149</span><br><span class="line-number">10150</span><br><span class="line-number">10151</span><br><span class="line-number">10152</span><br><span class="line-number">10153</span><br><span class="line-number">10154</span><br><span class="line-number">10155</span><br><span class="line-number">10156</span><br><span class="line-number">10157</span><br><span class="line-number">10158</span><br><span class="line-number">10159</span><br><span class="line-number">10160</span><br><span class="line-number">10161</span><br><span class="line-number">10162</span><br><span class="line-number">10163</span><br><span class="line-number">10164</span><br><span class="line-number">10165</span><br><span class="line-number">10166</span><br><span class="line-number">10167</span><br><span class="line-number">10168</span><br><span class="line-number">10169</span><br><span class="line-number">10170</span><br><span class="line-number">10171</span><br><span class="line-number">10172</span><br><span class="line-number">10173</span><br><span class="line-number">10174</span><br><span class="line-number">10175</span><br><span class="line-number">10176</span><br><span class="line-number">10177</span><br><span class="line-number">10178</span><br><span class="line-number">10179</span><br><span class="line-number">10180</span><br><span class="line-number">10181</span><br><span class="line-number">10182</span><br><span class="line-number">10183</span><br><span class="line-number">10184</span><br><span class="line-number">10185</span><br><span class="line-number">10186</span><br><span class="line-number">10187</span><br><span class="line-number">10188</span><br><span class="line-number">10189</span><br><span class="line-number">10190</span><br><span class="line-number">10191</span><br><span class="line-number">10192</span><br><span class="line-number">10193</span><br><span class="line-number">10194</span><br><span class="line-number">10195</span><br><span class="line-number">10196</span><br><span class="line-number">10197</span><br><span class="line-number">10198</span><br><span class="line-number">10199</span><br><span class="line-number">10200</span><br><span class="line-number">10201</span><br><span class="line-number">10202</span><br><span class="line-number">10203</span><br><span class="line-number">10204</span><br><span class="line-number">10205</span><br><span class="line-number">10206</span><br><span class="line-number">10207</span><br><span class="line-number">10208</span><br><span class="line-number">10209</span><br><span class="line-number">10210</span><br><span class="line-number">10211</span><br><span class="line-number">10212</span><br><span class="line-number">10213</span><br><span class="line-number">10214</span><br><span class="line-number">10215</span><br><span class="line-number">10216</span><br><span class="line-number">10217</span><br><span class="line-number">10218</span><br><span class="line-number">10219</span><br><span class="line-number">10220</span><br><span class="line-number">10221</span><br><span class="line-number">10222</span><br><span class="line-number">10223</span><br><span class="line-number">10224</span><br><span class="line-number">10225</span><br><span class="line-number">10226</span><br><span class="line-number">10227</span><br><span class="line-number">10228</span><br><span class="line-number">10229</span><br><span class="line-number">10230</span><br><span class="line-number">10231</span><br><span class="line-number">10232</span><br><span class="line-number">10233</span><br><span class="line-number">10234</span><br><span class="line-number">10235</span><br><span class="line-number">10236</span><br><span class="line-number">10237</span><br><span class="line-number">10238</span><br><span class="line-number">10239</span><br><span class="line-number">10240</span><br><span class="line-number">10241</span><br><span class="line-number">10242</span><br><span class="line-number">10243</span><br><span class="line-number">10244</span><br><span class="line-number">10245</span><br><span class="line-number">10246</span><br><span class="line-number">10247</span><br><span class="line-number">10248</span><br><span class="line-number">10249</span><br><span class="line-number">10250</span><br><span class="line-number">10251</span><br><span class="line-number">10252</span><br><span class="line-number">10253</span><br><span class="line-number">10254</span><br><span class="line-number">10255</span><br><span class="line-number">10256</span><br><span class="line-number">10257</span><br><span class="line-number">10258</span><br><span class="line-number">10259</span><br><span class="line-number">10260</span><br><span class="line-number">10261</span><br><span class="line-number">10262</span><br><span class="line-number">10263</span><br><span class="line-number">10264</span><br><span class="line-number">10265</span><br><span class="line-number">10266</span><br><span class="line-number">10267</span><br><span class="line-number">10268</span><br><span class="line-number">10269</span><br><span class="line-number">10270</span><br><span class="line-number">10271</span><br><span class="line-number">10272</span><br><span class="line-number">10273</span><br><span class="line-number">10274</span><br><span class="line-number">10275</span><br><span class="line-number">10276</span><br><span class="line-number">10277</span><br><span class="line-number">10278</span><br><span class="line-number">10279</span><br><span class="line-number">10280</span><br><span class="line-number">10281</span><br><span class="line-number">10282</span><br><span class="line-number">10283</span><br><span class="line-number">10284</span><br><span class="line-number">10285</span><br><span class="line-number">10286</span><br><span class="line-number">10287</span><br><span class="line-number">10288</span><br><span class="line-number">10289</span><br><span class="line-number">10290</span><br><span class="line-number">10291</span><br><span class="line-number">10292</span><br><span class="line-number">10293</span><br><span class="line-number">10294</span><br><span class="line-number">10295</span><br><span class="line-number">10296</span><br><span class="line-number">10297</span><br><span class="line-number">10298</span><br><span class="line-number">10299</span><br><span class="line-number">10300</span><br><span class="line-number">10301</span><br><span class="line-number">10302</span><br><span class="line-number">10303</span><br><span class="line-number">10304</span><br><span class="line-number">10305</span><br><span class="line-number">10306</span><br><span class="line-number">10307</span><br><span class="line-number">10308</span><br><span class="line-number">10309</span><br><span class="line-number">10310</span><br><span class="line-number">10311</span><br><span class="line-number">10312</span><br><span class="line-number">10313</span><br><span class="line-number">10314</span><br><span class="line-number">10315</span><br><span class="line-number">10316</span><br><span class="line-number">10317</span><br><span class="line-number">10318</span><br><span class="line-number">10319</span><br><span class="line-number">10320</span><br><span class="line-number">10321</span><br><span class="line-number">10322</span><br><span class="line-number">10323</span><br><span class="line-number">10324</span><br><span class="line-number">10325</span><br><span class="line-number">10326</span><br><span class="line-number">10327</span><br><span class="line-number">10328</span><br><span class="line-number">10329</span><br><span class="line-number">10330</span><br><span class="line-number">10331</span><br><span class="line-number">10332</span><br><span class="line-number">10333</span><br><span class="line-number">10334</span><br><span class="line-number">10335</span><br><span class="line-number">10336</span><br><span class="line-number">10337</span><br><span class="line-number">10338</span><br><span class="line-number">10339</span><br><span class="line-number">10340</span><br><span class="line-number">10341</span><br><span class="line-number">10342</span><br><span class="line-number">10343</span><br><span class="line-number">10344</span><br><span class="line-number">10345</span><br><span class="line-number">10346</span><br><span class="line-number">10347</span><br><span class="line-number">10348</span><br><span class="line-number">10349</span><br><span class="line-number">10350</span><br><span class="line-number">10351</span><br><span class="line-number">10352</span><br><span class="line-number">10353</span><br><span class="line-number">10354</span><br><span class="line-number">10355</span><br><span class="line-number">10356</span><br><span class="line-number">10357</span><br><span class="line-number">10358</span><br><span class="line-number">10359</span><br><span class="line-number">10360</span><br><span class="line-number">10361</span><br><span class="line-number">10362</span><br><span class="line-number">10363</span><br><span class="line-number">10364</span><br><span class="line-number">10365</span><br><span class="line-number">10366</span><br><span class="line-number">10367</span><br><span class="line-number">10368</span><br><span class="line-number">10369</span><br><span class="line-number">10370</span><br><span class="line-number">10371</span><br><span class="line-number">10372</span><br><span class="line-number">10373</span><br><span class="line-number">10374</span><br><span class="line-number">10375</span><br><span class="line-number">10376</span><br><span class="line-number">10377</span><br><span class="line-number">10378</span><br><span class="line-number">10379</span><br><span class="line-number">10380</span><br><span class="line-number">10381</span><br><span class="line-number">10382</span><br><span class="line-number">10383</span><br><span class="line-number">10384</span><br><span class="line-number">10385</span><br><span class="line-number">10386</span><br><span class="line-number">10387</span><br><span class="line-number">10388</span><br><span class="line-number">10389</span><br><span class="line-number">10390</span><br><span class="line-number">10391</span><br><span class="line-number">10392</span><br><span class="line-number">10393</span><br><span class="line-number">10394</span><br><span class="line-number">10395</span><br><span class="line-number">10396</span><br><span class="line-number">10397</span><br><span class="line-number">10398</span><br><span class="line-number">10399</span><br><span class="line-number">10400</span><br><span class="line-number">10401</span><br><span class="line-number">10402</span><br><span class="line-number">10403</span><br><span class="line-number">10404</span><br><span class="line-number">10405</span><br><span class="line-number">10406</span><br><span class="line-number">10407</span><br><span class="line-number">10408</span><br><span class="line-number">10409</span><br><span class="line-number">10410</span><br><span class="line-number">10411</span><br><span class="line-number">10412</span><br><span class="line-number">10413</span><br><span class="line-number">10414</span><br><span class="line-number">10415</span><br><span class="line-number">10416</span><br><span class="line-number">10417</span><br><span class="line-number">10418</span><br><span class="line-number">10419</span><br><span class="line-number">10420</span><br><span class="line-number">10421</span><br><span class="line-number">10422</span><br><span class="line-number">10423</span><br><span class="line-number">10424</span><br><span class="line-number">10425</span><br><span class="line-number">10426</span><br><span class="line-number">10427</span><br><span class="line-number">10428</span><br><span class="line-number">10429</span><br><span class="line-number">10430</span><br><span class="line-number">10431</span><br><span class="line-number">10432</span><br><span class="line-number">10433</span><br><span class="line-number">10434</span><br><span class="line-number">10435</span><br><span class="line-number">10436</span><br><span class="line-number">10437</span><br><span class="line-number">10438</span><br><span class="line-number">10439</span><br><span class="line-number">10440</span><br><span class="line-number">10441</span><br><span class="line-number">10442</span><br><span class="line-number">10443</span><br><span class="line-number">10444</span><br><span class="line-number">10445</span><br><span class="line-number">10446</span><br><span class="line-number">10447</span><br><span class="line-number">10448</span><br><span class="line-number">10449</span><br><span class="line-number">10450</span><br><span class="line-number">10451</span><br><span class="line-number">10452</span><br><span class="line-number">10453</span><br><span class="line-number">10454</span><br><span class="line-number">10455</span><br><span class="line-number">10456</span><br><span class="line-number">10457</span><br><span class="line-number">10458</span><br><span class="line-number">10459</span><br><span class="line-number">10460</span><br><span class="line-number">10461</span><br><span class="line-number">10462</span><br><span class="line-number">10463</span><br><span class="line-number">10464</span><br><span class="line-number">10465</span><br><span class="line-number">10466</span><br><span class="line-number">10467</span><br><span class="line-number">10468</span><br><span class="line-number">10469</span><br><span class="line-number">10470</span><br><span class="line-number">10471</span><br><span class="line-number">10472</span><br><span class="line-number">10473</span><br><span class="line-number">10474</span><br><span class="line-number">10475</span><br><span class="line-number">10476</span><br><span class="line-number">10477</span><br><span class="line-number">10478</span><br><span class="line-number">10479</span><br><span class="line-number">10480</span><br><span class="line-number">10481</span><br><span class="line-number">10482</span><br><span class="line-number">10483</span><br><span class="line-number">10484</span><br><span class="line-number">10485</span><br><span class="line-number">10486</span><br><span class="line-number">10487</span><br><span class="line-number">10488</span><br><span class="line-number">10489</span><br><span class="line-number">10490</span><br><span class="line-number">10491</span><br><span class="line-number">10492</span><br><span class="line-number">10493</span><br><span class="line-number">10494</span><br><span class="line-number">10495</span><br><span class="line-number">10496</span><br><span class="line-number">10497</span><br><span class="line-number">10498</span><br><span class="line-number">10499</span><br><span class="line-number">10500</span><br><span class="line-number">10501</span><br><span class="line-number">10502</span><br><span class="line-number">10503</span><br><span class="line-number">10504</span><br><span class="line-number">10505</span><br><span class="line-number">10506</span><br><span class="line-number">10507</span><br><span class="line-number">10508</span><br><span class="line-number">10509</span><br><span class="line-number">10510</span><br><span class="line-number">10511</span><br><span class="line-number">10512</span><br><span class="line-number">10513</span><br><span class="line-number">10514</span><br><span class="line-number">10515</span><br><span class="line-number">10516</span><br><span class="line-number">10517</span><br><span class="line-number">10518</span><br><span class="line-number">10519</span><br><span class="line-number">10520</span><br><span class="line-number">10521</span><br><span class="line-number">10522</span><br><span class="line-number">10523</span><br><span class="line-number">10524</span><br><span class="line-number">10525</span><br><span class="line-number">10526</span><br><span class="line-number">10527</span><br><span class="line-number">10528</span><br><span class="line-number">10529</span><br><span class="line-number">10530</span><br><span class="line-number">10531</span><br><span class="line-number">10532</span><br><span class="line-number">10533</span><br><span class="line-number">10534</span><br><span class="line-number">10535</span><br><span class="line-number">10536</span><br><span class="line-number">10537</span><br><span class="line-number">10538</span><br><span class="line-number">10539</span><br><span class="line-number">10540</span><br><span class="line-number">10541</span><br><span class="line-number">10542</span><br><span class="line-number">10543</span><br><span class="line-number">10544</span><br><span class="line-number">10545</span><br><span class="line-number">10546</span><br><span class="line-number">10547</span><br><span class="line-number">10548</span><br><span class="line-number">10549</span><br><span class="line-number">10550</span><br><span class="line-number">10551</span><br><span class="line-number">10552</span><br><span class="line-number">10553</span><br><span class="line-number">10554</span><br><span class="line-number">10555</span><br><span class="line-number">10556</span><br><span class="line-number">10557</span><br><span class="line-number">10558</span><br><span class="line-number">10559</span><br><span class="line-number">10560</span><br><span class="line-number">10561</span><br><span class="line-number">10562</span><br><span class="line-number">10563</span><br><span class="line-number">10564</span><br><span class="line-number">10565</span><br><span class="line-number">10566</span><br><span class="line-number">10567</span><br><span class="line-number">10568</span><br><span class="line-number">10569</span><br><span class="line-number">10570</span><br><span class="line-number">10571</span><br><span class="line-number">10572</span><br><span class="line-number">10573</span><br><span class="line-number">10574</span><br><span class="line-number">10575</span><br><span class="line-number">10576</span><br><span class="line-number">10577</span><br><span class="line-number">10578</span><br><span class="line-number">10579</span><br><span class="line-number">10580</span><br><span class="line-number">10581</span><br><span class="line-number">10582</span><br><span class="line-number">10583</span><br><span class="line-number">10584</span><br><span class="line-number">10585</span><br><span class="line-number">10586</span><br><span class="line-number">10587</span><br><span class="line-number">10588</span><br><span class="line-number">10589</span><br><span class="line-number">10590</span><br><span class="line-number">10591</span><br><span class="line-number">10592</span><br><span class="line-number">10593</span><br><span class="line-number">10594</span><br><span class="line-number">10595</span><br><span class="line-number">10596</span><br><span class="line-number">10597</span><br><span class="line-number">10598</span><br><span class="line-number">10599</span><br><span class="line-number">10600</span><br><span class="line-number">10601</span><br><span class="line-number">10602</span><br><span class="line-number">10603</span><br><span class="line-number">10604</span><br><span class="line-number">10605</span><br><span class="line-number">10606</span><br><span class="line-number">10607</span><br><span class="line-number">10608</span><br><span class="line-number">10609</span><br><span class="line-number">10610</span><br><span class="line-number">10611</span><br><span class="line-number">10612</span><br><span class="line-number">10613</span><br><span class="line-number">10614</span><br><span class="line-number">10615</span><br><span class="line-number">10616</span><br><span class="line-number">10617</span><br><span class="line-number">10618</span><br><span class="line-number">10619</span><br><span class="line-number">10620</span><br><span class="line-number">10621</span><br><span class="line-number">10622</span><br><span class="line-number">10623</span><br><span class="line-number">10624</span><br><span class="line-number">10625</span><br><span class="line-number">10626</span><br><span class="line-number">10627</span><br><span class="line-number">10628</span><br><span class="line-number">10629</span><br><span class="line-number">10630</span><br><span class="line-number">10631</span><br><span class="line-number">10632</span><br><span class="line-number">10633</span><br><span class="line-number">10634</span><br><span class="line-number">10635</span><br><span class="line-number">10636</span><br><span class="line-number">10637</span><br><span class="line-number">10638</span><br><span class="line-number">10639</span><br><span class="line-number">10640</span><br><span class="line-number">10641</span><br><span class="line-number">10642</span><br><span class="line-number">10643</span><br><span class="line-number">10644</span><br><span class="line-number">10645</span><br><span class="line-number">10646</span><br><span class="line-number">10647</span><br><span class="line-number">10648</span><br><span class="line-number">10649</span><br><span class="line-number">10650</span><br><span class="line-number">10651</span><br><span class="line-number">10652</span><br><span class="line-number">10653</span><br><span class="line-number">10654</span><br><span class="line-number">10655</span><br><span class="line-number">10656</span><br><span class="line-number">10657</span><br><span class="line-number">10658</span><br><span class="line-number">10659</span><br><span class="line-number">10660</span><br><span class="line-number">10661</span><br><span class="line-number">10662</span><br><span class="line-number">10663</span><br><span class="line-number">10664</span><br><span class="line-number">10665</span><br><span class="line-number">10666</span><br><span class="line-number">10667</span><br><span class="line-number">10668</span><br><span class="line-number">10669</span><br><span class="line-number">10670</span><br><span class="line-number">10671</span><br><span class="line-number">10672</span><br><span class="line-number">10673</span><br><span class="line-number">10674</span><br><span class="line-number">10675</span><br><span class="line-number">10676</span><br><span class="line-number">10677</span><br><span class="line-number">10678</span><br><span class="line-number">10679</span><br><span class="line-number">10680</span><br><span class="line-number">10681</span><br><span class="line-number">10682</span><br><span class="line-number">10683</span><br><span class="line-number">10684</span><br><span class="line-number">10685</span><br><span class="line-number">10686</span><br><span class="line-number">10687</span><br><span class="line-number">10688</span><br><span class="line-number">10689</span><br><span class="line-number">10690</span><br><span class="line-number">10691</span><br><span class="line-number">10692</span><br><span class="line-number">10693</span><br><span class="line-number">10694</span><br><span class="line-number">10695</span><br><span class="line-number">10696</span><br><span class="line-number">10697</span><br><span class="line-number">10698</span><br><span class="line-number">10699</span><br><span class="line-number">10700</span><br><span class="line-number">10701</span><br><span class="line-number">10702</span><br><span class="line-number">10703</span><br><span class="line-number">10704</span><br><span class="line-number">10705</span><br><span class="line-number">10706</span><br><span class="line-number">10707</span><br><span class="line-number">10708</span><br><span class="line-number">10709</span><br><span class="line-number">10710</span><br><span class="line-number">10711</span><br><span class="line-number">10712</span><br><span class="line-number">10713</span><br><span class="line-number">10714</span><br><span class="line-number">10715</span><br><span class="line-number">10716</span><br><span class="line-number">10717</span><br><span class="line-number">10718</span><br><span class="line-number">10719</span><br><span class="line-number">10720</span><br><span class="line-number">10721</span><br><span class="line-number">10722</span><br><span class="line-number">10723</span><br><span class="line-number">10724</span><br><span class="line-number">10725</span><br><span class="line-number">10726</span><br><span class="line-number">10727</span><br><span class="line-number">10728</span><br><span class="line-number">10729</span><br><span class="line-number">10730</span><br><span class="line-number">10731</span><br><span class="line-number">10732</span><br><span class="line-number">10733</span><br><span class="line-number">10734</span><br><span class="line-number">10735</span><br><span class="line-number">10736</span><br><span class="line-number">10737</span><br><span class="line-number">10738</span><br><span class="line-number">10739</span><br><span class="line-number">10740</span><br><span class="line-number">10741</span><br><span class="line-number">10742</span><br><span class="line-number">10743</span><br><span class="line-number">10744</span><br><span class="line-number">10745</span><br><span class="line-number">10746</span><br><span class="line-number">10747</span><br><span class="line-number">10748</span><br><span class="line-number">10749</span><br><span class="line-number">10750</span><br><span class="line-number">10751</span><br><span class="line-number">10752</span><br><span class="line-number">10753</span><br><span class="line-number">10754</span><br><span class="line-number">10755</span><br><span class="line-number">10756</span><br><span class="line-number">10757</span><br><span class="line-number">10758</span><br><span class="line-number">10759</span><br><span class="line-number">10760</span><br><span class="line-number">10761</span><br><span class="line-number">10762</span><br><span class="line-number">10763</span><br><span class="line-number">10764</span><br><span class="line-number">10765</span><br><span class="line-number">10766</span><br><span class="line-number">10767</span><br><span class="line-number">10768</span><br><span class="line-number">10769</span><br><span class="line-number">10770</span><br><span class="line-number">10771</span><br><span class="line-number">10772</span><br><span class="line-number">10773</span><br><span class="line-number">10774</span><br><span class="line-number">10775</span><br><span class="line-number">10776</span><br><span class="line-number">10777</span><br><span class="line-number">10778</span><br><span class="line-number">10779</span><br><span class="line-number">10780</span><br><span class="line-number">10781</span><br><span class="line-number">10782</span><br><span class="line-number">10783</span><br><span class="line-number">10784</span><br><span class="line-number">10785</span><br><span class="line-number">10786</span><br><span class="line-number">10787</span><br><span class="line-number">10788</span><br><span class="line-number">10789</span><br><span class="line-number">10790</span><br><span class="line-number">10791</span><br><span class="line-number">10792</span><br><span class="line-number">10793</span><br><span class="line-number">10794</span><br><span class="line-number">10795</span><br><span class="line-number">10796</span><br><span class="line-number">10797</span><br><span class="line-number">10798</span><br><span class="line-number">10799</span><br><span class="line-number">10800</span><br><span class="line-number">10801</span><br><span class="line-number">10802</span><br><span class="line-number">10803</span><br><span class="line-number">10804</span><br><span class="line-number">10805</span><br><span class="line-number">10806</span><br><span class="line-number">10807</span><br><span class="line-number">10808</span><br><span class="line-number">10809</span><br><span class="line-number">10810</span><br><span class="line-number">10811</span><br><span class="line-number">10812</span><br><span class="line-number">10813</span><br><span class="line-number">10814</span><br><span class="line-number">10815</span><br><span class="line-number">10816</span><br><span class="line-number">10817</span><br><span class="line-number">10818</span><br><span class="line-number">10819</span><br><span class="line-number">10820</span><br><span class="line-number">10821</span><br><span class="line-number">10822</span><br><span class="line-number">10823</span><br><span class="line-number">10824</span><br><span class="line-number">10825</span><br><span class="line-number">10826</span><br><span class="line-number">10827</span><br><span class="line-number">10828</span><br><span class="line-number">10829</span><br><span class="line-number">10830</span><br><span class="line-number">10831</span><br><span class="line-number">10832</span><br><span class="line-number">10833</span><br><span class="line-number">10834</span><br><span class="line-number">10835</span><br><span class="line-number">10836</span><br><span class="line-number">10837</span><br><span class="line-number">10838</span><br><span class="line-number">10839</span><br><span class="line-number">10840</span><br><span class="line-number">10841</span><br><span class="line-number">10842</span><br><span class="line-number">10843</span><br><span class="line-number">10844</span><br><span class="line-number">10845</span><br><span class="line-number">10846</span><br><span class="line-number">10847</span><br><span class="line-number">10848</span><br><span class="line-number">10849</span><br><span class="line-number">10850</span><br><span class="line-number">10851</span><br><span class="line-number">10852</span><br><span class="line-number">10853</span><br><span class="line-number">10854</span><br><span class="line-number">10855</span><br><span class="line-number">10856</span><br><span class="line-number">10857</span><br><span class="line-number">10858</span><br><span class="line-number">10859</span><br><span class="line-number">10860</span><br><span class="line-number">10861</span><br><span class="line-number">10862</span><br><span class="line-number">10863</span><br><span class="line-number">10864</span><br><span class="line-number">10865</span><br><span class="line-number">10866</span><br><span class="line-number">10867</span><br><span class="line-number">10868</span><br><span class="line-number">10869</span><br><span class="line-number">10870</span><br><span class="line-number">10871</span><br><span class="line-number">10872</span><br><span class="line-number">10873</span><br><span class="line-number">10874</span><br><span class="line-number">10875</span><br><span class="line-number">10876</span><br><span class="line-number">10877</span><br><span class="line-number">10878</span><br><span class="line-number">10879</span><br><span class="line-number">10880</span><br><span class="line-number">10881</span><br><span class="line-number">10882</span><br><span class="line-number">10883</span><br><span class="line-number">10884</span><br><span class="line-number">10885</span><br><span class="line-number">10886</span><br><span class="line-number">10887</span><br><span class="line-number">10888</span><br><span class="line-number">10889</span><br><span class="line-number">10890</span><br><span class="line-number">10891</span><br><span class="line-number">10892</span><br><span class="line-number">10893</span><br><span class="line-number">10894</span><br><span class="line-number">10895</span><br><span class="line-number">10896</span><br><span class="line-number">10897</span><br><span class="line-number">10898</span><br><span class="line-number">10899</span><br><span class="line-number">10900</span><br><span class="line-number">10901</span><br><span class="line-number">10902</span><br><span class="line-number">10903</span><br><span class="line-number">10904</span><br><span class="line-number">10905</span><br><span class="line-number">10906</span><br><span class="line-number">10907</span><br><span class="line-number">10908</span><br><span class="line-number">10909</span><br><span class="line-number">10910</span><br><span class="line-number">10911</span><br><span class="line-number">10912</span><br><span class="line-number">10913</span><br><span class="line-number">10914</span><br><span class="line-number">10915</span><br><span class="line-number">10916</span><br><span class="line-number">10917</span><br><span class="line-number">10918</span><br><span class="line-number">10919</span><br><span class="line-number">10920</span><br><span class="line-number">10921</span><br><span class="line-number">10922</span><br><span class="line-number">10923</span><br><span class="line-number">10924</span><br><span class="line-number">10925</span><br><span class="line-number">10926</span><br><span class="line-number">10927</span><br><span class="line-number">10928</span><br><span class="line-number">10929</span><br><span class="line-number">10930</span><br><span class="line-number">10931</span><br><span class="line-number">10932</span><br><span class="line-number">10933</span><br><span class="line-number">10934</span><br><span class="line-number">10935</span><br><span class="line-number">10936</span><br><span class="line-number">10937</span><br><span class="line-number">10938</span><br><span class="line-number">10939</span><br><span class="line-number">10940</span><br><span class="line-number">10941</span><br><span class="line-number">10942</span><br><span class="line-number">10943</span><br><span class="line-number">10944</span><br><span class="line-number">10945</span><br><span class="line-number">10946</span><br><span class="line-number">10947</span><br><span class="line-number">10948</span><br><span class="line-number">10949</span><br><span class="line-number">10950</span><br><span class="line-number">10951</span><br><span class="line-number">10952</span><br><span class="line-number">10953</span><br><span class="line-number">10954</span><br><span class="line-number">10955</span><br><span class="line-number">10956</span><br><span class="line-number">10957</span><br><span class="line-number">10958</span><br><span class="line-number">10959</span><br><span class="line-number">10960</span><br><span class="line-number">10961</span><br><span class="line-number">10962</span><br><span class="line-number">10963</span><br><span class="line-number">10964</span><br><span class="line-number">10965</span><br><span class="line-number">10966</span><br><span class="line-number">10967</span><br><span class="line-number">10968</span><br><span class="line-number">10969</span><br><span class="line-number">10970</span><br><span class="line-number">10971</span><br><span class="line-number">10972</span><br><span class="line-number">10973</span><br><span class="line-number">10974</span><br><span class="line-number">10975</span><br><span class="line-number">10976</span><br><span class="line-number">10977</span><br><span class="line-number">10978</span><br><span class="line-number">10979</span><br><span class="line-number">10980</span><br><span class="line-number">10981</span><br><span class="line-number">10982</span><br><span class="line-number">10983</span><br><span class="line-number">10984</span><br><span class="line-number">10985</span><br><span class="line-number">10986</span><br><span class="line-number">10987</span><br><span class="line-number">10988</span><br><span class="line-number">10989</span><br><span class="line-number">10990</span><br><span class="line-number">10991</span><br><span class="line-number">10992</span><br><span class="line-number">10993</span><br><span class="line-number">10994</span><br><span class="line-number">10995</span><br><span class="line-number">10996</span><br><span class="line-number">10997</span><br><span class="line-number">10998</span><br><span class="line-number">10999</span><br><span class="line-number">11000</span><br><span class="line-number">11001</span><br><span class="line-number">11002</span><br><span class="line-number">11003</span><br><span class="line-number">11004</span><br><span class="line-number">11005</span><br><span class="line-number">11006</span><br><span class="line-number">11007</span><br><span class="line-number">11008</span><br><span class="line-number">11009</span><br><span class="line-number">11010</span><br><span class="line-number">11011</span><br><span class="line-number">11012</span><br><span class="line-number">11013</span><br><span class="line-number">11014</span><br><span class="line-number">11015</span><br><span class="line-number">11016</span><br><span class="line-number">11017</span><br><span class="line-number">11018</span><br><span class="line-number">11019</span><br><span class="line-number">11020</span><br><span class="line-number">11021</span><br><span class="line-number">11022</span><br><span class="line-number">11023</span><br><span class="line-number">11024</span><br><span class="line-number">11025</span><br><span class="line-number">11026</span><br><span class="line-number">11027</span><br><span class="line-number">11028</span><br><span class="line-number">11029</span><br><span class="line-number">11030</span><br><span class="line-number">11031</span><br><span class="line-number">11032</span><br><span class="line-number">11033</span><br><span class="line-number">11034</span><br><span class="line-number">11035</span><br><span class="line-number">11036</span><br><span class="line-number">11037</span><br><span class="line-number">11038</span><br><span class="line-number">11039</span><br><span class="line-number">11040</span><br><span class="line-number">11041</span><br><span class="line-number">11042</span><br><span class="line-number">11043</span><br><span class="line-number">11044</span><br><span class="line-number">11045</span><br><span class="line-number">11046</span><br><span class="line-number">11047</span><br><span class="line-number">11048</span><br><span class="line-number">11049</span><br><span class="line-number">11050</span><br><span class="line-number">11051</span><br><span class="line-number">11052</span><br><span class="line-number">11053</span><br><span class="line-number">11054</span><br><span class="line-number">11055</span><br><span class="line-number">11056</span><br><span class="line-number">11057</span><br><span class="line-number">11058</span><br><span class="line-number">11059</span><br><span class="line-number">11060</span><br><span class="line-number">11061</span><br><span class="line-number">11062</span><br><span class="line-number">11063</span><br><span class="line-number">11064</span><br><span class="line-number">11065</span><br><span class="line-number">11066</span><br><span class="line-number">11067</span><br><span class="line-number">11068</span><br><span class="line-number">11069</span><br><span class="line-number">11070</span><br><span class="line-number">11071</span><br><span class="line-number">11072</span><br><span class="line-number">11073</span><br><span class="line-number">11074</span><br><span class="line-number">11075</span><br><span class="line-number">11076</span><br><span class="line-number">11077</span><br><span class="line-number">11078</span><br><span class="line-number">11079</span><br><span class="line-number">11080</span><br><span class="line-number">11081</span><br><span class="line-number">11082</span><br><span class="line-number">11083</span><br><span class="line-number">11084</span><br><span class="line-number">11085</span><br><span class="line-number">11086</span><br><span class="line-number">11087</span><br><span class="line-number">11088</span><br><span class="line-number">11089</span><br><span class="line-number">11090</span><br><span class="line-number">11091</span><br><span class="line-number">11092</span><br><span class="line-number">11093</span><br><span class="line-number">11094</span><br><span class="line-number">11095</span><br><span class="line-number">11096</span><br><span class="line-number">11097</span><br><span class="line-number">11098</span><br><span class="line-number">11099</span><br><span class="line-number">11100</span><br><span class="line-number">11101</span><br><span class="line-number">11102</span><br><span class="line-number">11103</span><br><span class="line-number">11104</span><br><span class="line-number">11105</span><br><span class="line-number">11106</span><br><span class="line-number">11107</span><br><span class="line-number">11108</span><br><span class="line-number">11109</span><br><span class="line-number">11110</span><br><span class="line-number">11111</span><br><span class="line-number">11112</span><br><span class="line-number">11113</span><br><span class="line-number">11114</span><br><span class="line-number">11115</span><br><span class="line-number">11116</span><br><span class="line-number">11117</span><br><span class="line-number">11118</span><br><span class="line-number">11119</span><br><span class="line-number">11120</span><br><span class="line-number">11121</span><br><span class="line-number">11122</span><br><span class="line-number">11123</span><br><span class="line-number">11124</span><br><span class="line-number">11125</span><br><span class="line-number">11126</span><br><span class="line-number">11127</span><br><span class="line-number">11128</span><br><span class="line-number">11129</span><br><span class="line-number">11130</span><br><span class="line-number">11131</span><br><span class="line-number">11132</span><br><span class="line-number">11133</span><br><span class="line-number">11134</span><br><span class="line-number">11135</span><br><span class="line-number">11136</span><br><span class="line-number">11137</span><br><span class="line-number">11138</span><br><span class="line-number">11139</span><br><span class="line-number">11140</span><br><span class="line-number">11141</span><br><span class="line-number">11142</span><br><span class="line-number">11143</span><br><span class="line-number">11144</span><br><span class="line-number">11145</span><br><span class="line-number">11146</span><br><span class="line-number">11147</span><br><span class="line-number">11148</span><br><span class="line-number">11149</span><br><span class="line-number">11150</span><br><span class="line-number">11151</span><br><span class="line-number">11152</span><br><span class="line-number">11153</span><br><span class="line-number">11154</span><br><span class="line-number">11155</span><br><span class="line-number">11156</span><br><span class="line-number">11157</span><br><span class="line-number">11158</span><br><span class="line-number">11159</span><br><span class="line-number">11160</span><br><span class="line-number">11161</span><br><span class="line-number">11162</span><br><span class="line-number">11163</span><br><span class="line-number">11164</span><br><span class="line-number">11165</span><br><span class="line-number">11166</span><br><span class="line-number">11167</span><br><span class="line-number">11168</span><br><span class="line-number">11169</span><br><span class="line-number">11170</span><br><span class="line-number">11171</span><br><span class="line-number">11172</span><br><span class="line-number">11173</span><br><span class="line-number">11174</span><br><span class="line-number">11175</span><br><span class="line-number">11176</span><br><span class="line-number">11177</span><br><span class="line-number">11178</span><br><span class="line-number">11179</span><br><span class="line-number">11180</span><br><span class="line-number">11181</span><br><span class="line-number">11182</span><br><span class="line-number">11183</span><br><span class="line-number">11184</span><br><span class="line-number">11185</span><br><span class="line-number">11186</span><br><span class="line-number">11187</span><br><span class="line-number">11188</span><br><span class="line-number">11189</span><br><span class="line-number">11190</span><br><span class="line-number">11191</span><br><span class="line-number">11192</span><br><span class="line-number">11193</span><br><span class="line-number">11194</span><br><span class="line-number">11195</span><br><span class="line-number">11196</span><br><span class="line-number">11197</span><br><span class="line-number">11198</span><br><span class="line-number">11199</span><br><span class="line-number">11200</span><br><span class="line-number">11201</span><br><span class="line-number">11202</span><br><span class="line-number">11203</span><br><span class="line-number">11204</span><br><span class="line-number">11205</span><br><span class="line-number">11206</span><br><span class="line-number">11207</span><br><span class="line-number">11208</span><br><span class="line-number">11209</span><br><span class="line-number">11210</span><br><span class="line-number">11211</span><br><span class="line-number">11212</span><br><span class="line-number">11213</span><br><span class="line-number">11214</span><br><span class="line-number">11215</span><br><span class="line-number">11216</span><br><span class="line-number">11217</span><br><span class="line-number">11218</span><br><span class="line-number">11219</span><br><span class="line-number">11220</span><br><span class="line-number">11221</span><br><span class="line-number">11222</span><br><span class="line-number">11223</span><br><span class="line-number">11224</span><br><span class="line-number">11225</span><br><span class="line-number">11226</span><br><span class="line-number">11227</span><br><span class="line-number">11228</span><br><span class="line-number">11229</span><br><span class="line-number">11230</span><br><span class="line-number">11231</span><br><span class="line-number">11232</span><br><span class="line-number">11233</span><br><span class="line-number">11234</span><br><span class="line-number">11235</span><br><span class="line-number">11236</span><br><span class="line-number">11237</span><br><span class="line-number">11238</span><br><span class="line-number">11239</span><br><span class="line-number">11240</span><br><span class="line-number">11241</span><br><span class="line-number">11242</span><br><span class="line-number">11243</span><br><span class="line-number">11244</span><br><span class="line-number">11245</span><br><span class="line-number">11246</span><br><span class="line-number">11247</span><br><span class="line-number">11248</span><br><span class="line-number">11249</span><br><span class="line-number">11250</span><br><span class="line-number">11251</span><br><span class="line-number">11252</span><br><span class="line-number">11253</span><br><span class="line-number">11254</span><br><span class="line-number">11255</span><br><span class="line-number">11256</span><br><span class="line-number">11257</span><br><span class="line-number">11258</span><br><span class="line-number">11259</span><br><span class="line-number">11260</span><br><span class="line-number">11261</span><br><span class="line-number">11262</span><br><span class="line-number">11263</span><br><span class="line-number">11264</span><br><span class="line-number">11265</span><br><span class="line-number">11266</span><br><span class="line-number">11267</span><br><span class="line-number">11268</span><br><span class="line-number">11269</span><br><span class="line-number">11270</span><br><span class="line-number">11271</span><br><span class="line-number">11272</span><br><span class="line-number">11273</span><br><span class="line-number">11274</span><br><span class="line-number">11275</span><br><span class="line-number">11276</span><br><span class="line-number">11277</span><br><span class="line-number">11278</span><br><span class="line-number">11279</span><br><span class="line-number">11280</span><br><span class="line-number">11281</span><br><span class="line-number">11282</span><br><span class="line-number">11283</span><br><span class="line-number">11284</span><br><span class="line-number">11285</span><br><span class="line-number">11286</span><br><span class="line-number">11287</span><br><span class="line-number">11288</span><br><span class="line-number">11289</span><br><span class="line-number">11290</span><br><span class="line-number">11291</span><br><span class="line-number">11292</span><br><span class="line-number">11293</span><br><span class="line-number">11294</span><br><span class="line-number">11295</span><br><span class="line-number">11296</span><br><span class="line-number">11297</span><br><span class="line-number">11298</span><br><span class="line-number">11299</span><br><span class="line-number">11300</span><br><span class="line-number">11301</span><br><span class="line-number">11302</span><br><span class="line-number">11303</span><br><span class="line-number">11304</span><br><span class="line-number">11305</span><br><span class="line-number">11306</span><br><span class="line-number">11307</span><br><span class="line-number">11308</span><br><span class="line-number">11309</span><br><span class="line-number">11310</span><br><span class="line-number">11311</span><br><span class="line-number">11312</span><br><span class="line-number">11313</span><br><span class="line-number">11314</span><br><span class="line-number">11315</span><br><span class="line-number">11316</span><br><span class="line-number">11317</span><br><span class="line-number">11318</span><br><span class="line-number">11319</span><br><span class="line-number">11320</span><br><span class="line-number">11321</span><br><span class="line-number">11322</span><br><span class="line-number">11323</span><br><span class="line-number">11324</span><br><span class="line-number">11325</span><br><span class="line-number">11326</span><br><span class="line-number">11327</span><br><span class="line-number">11328</span><br><span class="line-number">11329</span><br><span class="line-number">11330</span><br><span class="line-number">11331</span><br><span class="line-number">11332</span><br><span class="line-number">11333</span><br><span class="line-number">11334</span><br><span class="line-number">11335</span><br><span class="line-number">11336</span><br><span class="line-number">11337</span><br><span class="line-number">11338</span><br><span class="line-number">11339</span><br><span class="line-number">11340</span><br><span class="line-number">11341</span><br><span class="line-number">11342</span><br><span class="line-number">11343</span><br><span class="line-number">11344</span><br><span class="line-number">11345</span><br><span class="line-number">11346</span><br><span class="line-number">11347</span><br><span class="line-number">11348</span><br><span class="line-number">11349</span><br><span class="line-number">11350</span><br><span class="line-number">11351</span><br><span class="line-number">11352</span><br><span class="line-number">11353</span><br><span class="line-number">11354</span><br><span class="line-number">11355</span><br><span class="line-number">11356</span><br><span class="line-number">11357</span><br><span class="line-number">11358</span><br><span class="line-number">11359</span><br><span class="line-number">11360</span><br><span class="line-number">11361</span><br><span class="line-number">11362</span><br><span class="line-number">11363</span><br><span class="line-number">11364</span><br><span class="line-number">11365</span><br><span class="line-number">11366</span><br><span class="line-number">11367</span><br><span class="line-number">11368</span><br><span class="line-number">11369</span><br><span class="line-number">11370</span><br><span class="line-number">11371</span><br><span class="line-number">11372</span><br><span class="line-number">11373</span><br><span class="line-number">11374</span><br><span class="line-number">11375</span><br><span class="line-number">11376</span><br><span class="line-number">11377</span><br><span class="line-number">11378</span><br><span class="line-number">11379</span><br><span class="line-number">11380</span><br><span class="line-number">11381</span><br><span class="line-number">11382</span><br><span class="line-number">11383</span><br><span class="line-number">11384</span><br><span class="line-number">11385</span><br><span class="line-number">11386</span><br><span class="line-number">11387</span><br><span class="line-number">11388</span><br><span class="line-number">11389</span><br><span class="line-number">11390</span><br><span class="line-number">11391</span><br><span class="line-number">11392</span><br><span class="line-number">11393</span><br><span class="line-number">11394</span><br><span class="line-number">11395</span><br><span class="line-number">11396</span><br><span class="line-number">11397</span><br><span class="line-number">11398</span><br><span class="line-number">11399</span><br><span class="line-number">11400</span><br><span class="line-number">11401</span><br><span class="line-number">11402</span><br><span class="line-number">11403</span><br><span class="line-number">11404</span><br><span class="line-number">11405</span><br><span class="line-number">11406</span><br><span class="line-number">11407</span><br><span class="line-number">11408</span><br><span class="line-number">11409</span><br><span class="line-number">11410</span><br><span class="line-number">11411</span><br><span class="line-number">11412</span><br><span class="line-number">11413</span><br><span class="line-number">11414</span><br><span class="line-number">11415</span><br><span class="line-number">11416</span><br><span class="line-number">11417</span><br><span class="line-number">11418</span><br><span class="line-number">11419</span><br><span class="line-number">11420</span><br><span class="line-number">11421</span><br><span class="line-number">11422</span><br><span class="line-number">11423</span><br><span class="line-number">11424</span><br><span class="line-number">11425</span><br><span class="line-number">11426</span><br><span class="line-number">11427</span><br><span class="line-number">11428</span><br><span class="line-number">11429</span><br><span class="line-number">11430</span><br><span class="line-number">11431</span><br><span class="line-number">11432</span><br><span class="line-number">11433</span><br><span class="line-number">11434</span><br><span class="line-number">11435</span><br><span class="line-number">11436</span><br><span class="line-number">11437</span><br><span class="line-number">11438</span><br><span class="line-number">11439</span><br><span class="line-number">11440</span><br><span class="line-number">11441</span><br><span class="line-number">11442</span><br><span class="line-number">11443</span><br><span class="line-number">11444</span><br><span class="line-number">11445</span><br><span class="line-number">11446</span><br><span class="line-number">11447</span><br><span class="line-number">11448</span><br><span class="line-number">11449</span><br><span class="line-number">11450</span><br><span class="line-number">11451</span><br><span class="line-number">11452</span><br><span class="line-number">11453</span><br><span class="line-number">11454</span><br><span class="line-number">11455</span><br><span class="line-number">11456</span><br><span class="line-number">11457</span><br><span class="line-number">11458</span><br><span class="line-number">11459</span><br><span class="line-number">11460</span><br><span class="line-number">11461</span><br><span class="line-number">11462</span><br><span class="line-number">11463</span><br><span class="line-number">11464</span><br><span class="line-number">11465</span><br><span class="line-number">11466</span><br><span class="line-number">11467</span><br><span class="line-number">11468</span><br><span class="line-number">11469</span><br><span class="line-number">11470</span><br><span class="line-number">11471</span><br><span class="line-number">11472</span><br><span class="line-number">11473</span><br><span class="line-number">11474</span><br><span class="line-number">11475</span><br><span class="line-number">11476</span><br><span class="line-number">11477</span><br><span class="line-number">11478</span><br><span class="line-number">11479</span><br><span class="line-number">11480</span><br><span class="line-number">11481</span><br><span class="line-number">11482</span><br><span class="line-number">11483</span><br><span class="line-number">11484</span><br><span class="line-number">11485</span><br><span class="line-number">11486</span><br><span class="line-number">11487</span><br><span class="line-number">11488</span><br><span class="line-number">11489</span><br><span class="line-number">11490</span><br><span class="line-number">11491</span><br><span class="line-number">11492</span><br><span class="line-number">11493</span><br><span class="line-number">11494</span><br><span class="line-number">11495</span><br><span class="line-number">11496</span><br><span class="line-number">11497</span><br><span class="line-number">11498</span><br><span class="line-number">11499</span><br><span class="line-number">11500</span><br><span class="line-number">11501</span><br><span class="line-number">11502</span><br><span class="line-number">11503</span><br><span class="line-number">11504</span><br><span class="line-number">11505</span><br><span class="line-number">11506</span><br><span class="line-number">11507</span><br><span class="line-number">11508</span><br><span class="line-number">11509</span><br><span class="line-number">11510</span><br><span class="line-number">11511</span><br><span class="line-number">11512</span><br><span class="line-number">11513</span><br><span class="line-number">11514</span><br><span class="line-number">11515</span><br><span class="line-number">11516</span><br><span class="line-number">11517</span><br><span class="line-number">11518</span><br><span class="line-number">11519</span><br><span class="line-number">11520</span><br><span class="line-number">11521</span><br><span class="line-number">11522</span><br><span class="line-number">11523</span><br><span class="line-number">11524</span><br><span class="line-number">11525</span><br><span class="line-number">11526</span><br><span class="line-number">11527</span><br><span class="line-number">11528</span><br><span class="line-number">11529</span><br><span class="line-number">11530</span><br><span class="line-number">11531</span><br><span class="line-number">11532</span><br><span class="line-number">11533</span><br><span class="line-number">11534</span><br><span class="line-number">11535</span><br><span class="line-number">11536</span><br><span class="line-number">11537</span><br><span class="line-number">11538</span><br><span class="line-number">11539</span><br><span class="line-number">11540</span><br><span class="line-number">11541</span><br><span class="line-number">11542</span><br><span class="line-number">11543</span><br><span class="line-number">11544</span><br><span class="line-number">11545</span><br><span class="line-number">11546</span><br><span class="line-number">11547</span><br><span class="line-number">11548</span><br><span class="line-number">11549</span><br><span class="line-number">11550</span><br><span class="line-number">11551</span><br><span class="line-number">11552</span><br><span class="line-number">11553</span><br><span class="line-number">11554</span><br><span class="line-number">11555</span><br><span class="line-number">11556</span><br><span class="line-number">11557</span><br><span class="line-number">11558</span><br><span class="line-number">11559</span><br><span class="line-number">11560</span><br><span class="line-number">11561</span><br><span class="line-number">11562</span><br><span class="line-number">11563</span><br><span class="line-number">11564</span><br><span class="line-number">11565</span><br><span class="line-number">11566</span><br><span class="line-number">11567</span><br><span class="line-number">11568</span><br><span class="line-number">11569</span><br><span class="line-number">11570</span><br><span class="line-number">11571</span><br><span class="line-number">11572</span><br><span class="line-number">11573</span><br><span class="line-number">11574</span><br><span class="line-number">11575</span><br><span class="line-number">11576</span><br><span class="line-number">11577</span><br><span class="line-number">11578</span><br><span class="line-number">11579</span><br><span class="line-number">11580</span><br><span class="line-number">11581</span><br><span class="line-number">11582</span><br><span class="line-number">11583</span><br><span class="line-number">11584</span><br><span class="line-number">11585</span><br><span class="line-number">11586</span><br><span class="line-number">11587</span><br><span class="line-number">11588</span><br><span class="line-number">11589</span><br><span class="line-number">11590</span><br><span class="line-number">11591</span><br><span class="line-number">11592</span><br><span class="line-number">11593</span><br><span class="line-number">11594</span><br><span class="line-number">11595</span><br><span class="line-number">11596</span><br><span class="line-number">11597</span><br><span class="line-number">11598</span><br><span class="line-number">11599</span><br><span class="line-number">11600</span><br><span class="line-number">11601</span><br><span class="line-number">11602</span><br><span class="line-number">11603</span><br><span class="line-number">11604</span><br><span class="line-number">11605</span><br><span class="line-number">11606</span><br><span class="line-number">11607</span><br><span class="line-number">11608</span><br><span class="line-number">11609</span><br><span class="line-number">11610</span><br><span class="line-number">11611</span><br><span class="line-number">11612</span><br><span class="line-number">11613</span><br><span class="line-number">11614</span><br><span class="line-number">11615</span><br><span class="line-number">11616</span><br><span class="line-number">11617</span><br><span class="line-number">11618</span><br><span class="line-number">11619</span><br><span class="line-number">11620</span><br><span class="line-number">11621</span><br><span class="line-number">11622</span><br><span class="line-number">11623</span><br><span class="line-number">11624</span><br><span class="line-number">11625</span><br><span class="line-number">11626</span><br><span class="line-number">11627</span><br><span class="line-number">11628</span><br><span class="line-number">11629</span><br><span class="line-number">11630</span><br><span class="line-number">11631</span><br><span class="line-number">11632</span><br><span class="line-number">11633</span><br><span class="line-number">11634</span><br><span class="line-number">11635</span><br><span class="line-number">11636</span><br><span class="line-number">11637</span><br><span class="line-number">11638</span><br><span class="line-number">11639</span><br><span class="line-number">11640</span><br><span class="line-number">11641</span><br><span class="line-number">11642</span><br><span class="line-number">11643</span><br><span class="line-number">11644</span><br><span class="line-number">11645</span><br><span class="line-number">11646</span><br><span class="line-number">11647</span><br><span class="line-number">11648</span><br><span class="line-number">11649</span><br><span class="line-number">11650</span><br><span class="line-number">11651</span><br><span class="line-number">11652</span><br><span class="line-number">11653</span><br><span class="line-number">11654</span><br><span class="line-number">11655</span><br><span class="line-number">11656</span><br><span class="line-number">11657</span><br><span class="line-number">11658</span><br><span class="line-number">11659</span><br><span class="line-number">11660</span><br><span class="line-number">11661</span><br><span class="line-number">11662</span><br><span class="line-number">11663</span><br><span class="line-number">11664</span><br><span class="line-number">11665</span><br><span class="line-number">11666</span><br><span class="line-number">11667</span><br><span class="line-number">11668</span><br><span class="line-number">11669</span><br><span class="line-number">11670</span><br><span class="line-number">11671</span><br><span class="line-number">11672</span><br><span class="line-number">11673</span><br><span class="line-number">11674</span><br><span class="line-number">11675</span><br><span class="line-number">11676</span><br><span class="line-number">11677</span><br><span class="line-number">11678</span><br><span class="line-number">11679</span><br><span class="line-number">11680</span><br><span class="line-number">11681</span><br><span class="line-number">11682</span><br><span class="line-number">11683</span><br><span class="line-number">11684</span><br><span class="line-number">11685</span><br><span class="line-number">11686</span><br><span class="line-number">11687</span><br><span class="line-number">11688</span><br><span class="line-number">11689</span><br><span class="line-number">11690</span><br><span class="line-number">11691</span><br><span class="line-number">11692</span><br><span class="line-number">11693</span><br><span class="line-number">11694</span><br><span class="line-number">11695</span><br><span class="line-number">11696</span><br><span class="line-number">11697</span><br><span class="line-number">11698</span><br><span class="line-number">11699</span><br><span class="line-number">11700</span><br><span class="line-number">11701</span><br><span class="line-number">11702</span><br><span class="line-number">11703</span><br><span class="line-number">11704</span><br><span class="line-number">11705</span><br><span class="line-number">11706</span><br><span class="line-number">11707</span><br><span class="line-number">11708</span><br><span class="line-number">11709</span><br><span class="line-number">11710</span><br><span class="line-number">11711</span><br><span class="line-number">11712</span><br><span class="line-number">11713</span><br><span class="line-number">11714</span><br><span class="line-number">11715</span><br><span class="line-number">11716</span><br><span class="line-number">11717</span><br><span class="line-number">11718</span><br><span class="line-number">11719</span><br><span class="line-number">11720</span><br><span class="line-number">11721</span><br><span class="line-number">11722</span><br><span class="line-number">11723</span><br><span class="line-number">11724</span><br><span class="line-number">11725</span><br><span class="line-number">11726</span><br><span class="line-number">11727</span><br><span class="line-number">11728</span><br><span class="line-number">11729</span><br><span class="line-number">11730</span><br><span class="line-number">11731</span><br><span class="line-number">11732</span><br><span class="line-number">11733</span><br><span class="line-number">11734</span><br><span class="line-number">11735</span><br><span class="line-number">11736</span><br><span class="line-number">11737</span><br><span class="line-number">11738</span><br><span class="line-number">11739</span><br><span class="line-number">11740</span><br><span class="line-number">11741</span><br><span class="line-number">11742</span><br><span class="line-number">11743</span><br><span class="line-number">11744</span><br><span class="line-number">11745</span><br><span class="line-number">11746</span><br><span class="line-number">11747</span><br><span class="line-number">11748</span><br><span class="line-number">11749</span><br><span class="line-number">11750</span><br><span class="line-number">11751</span><br><span class="line-number">11752</span><br><span class="line-number">11753</span><br><span class="line-number">11754</span><br><span class="line-number">11755</span><br><span class="line-number">11756</span><br><span class="line-number">11757</span><br><span class="line-number">11758</span><br><span class="line-number">11759</span><br><span class="line-number">11760</span><br><span class="line-number">11761</span><br><span class="line-number">11762</span><br><span class="line-number">11763</span><br><span class="line-number">11764</span><br><span class="line-number">11765</span><br><span class="line-number">11766</span><br><span class="line-number">11767</span><br><span class="line-number">11768</span><br><span class="line-number">11769</span><br><span class="line-number">11770</span><br><span class="line-number">11771</span><br><span class="line-number">11772</span><br><span class="line-number">11773</span><br><span class="line-number">11774</span><br><span class="line-number">11775</span><br><span class="line-number">11776</span><br><span class="line-number">11777</span><br><span class="line-number">11778</span><br><span class="line-number">11779</span><br><span class="line-number">11780</span><br><span class="line-number">11781</span><br><span class="line-number">11782</span><br><span class="line-number">11783</span><br><span class="line-number">11784</span><br><span class="line-number">11785</span><br><span class="line-number">11786</span><br><span class="line-number">11787</span><br><span class="line-number">11788</span><br><span class="line-number">11789</span><br><span class="line-number">11790</span><br><span class="line-number">11791</span><br><span class="line-number">11792</span><br><span class="line-number">11793</span><br><span class="line-number">11794</span><br><span class="line-number">11795</span><br><span class="line-number">11796</span><br><span class="line-number">11797</span><br><span class="line-number">11798</span><br><span class="line-number">11799</span><br><span class="line-number">11800</span><br><span class="line-number">11801</span><br><span class="line-number">11802</span><br><span class="line-number">11803</span><br><span class="line-number">11804</span><br><span class="line-number">11805</span><br><span class="line-number">11806</span><br><span class="line-number">11807</span><br><span class="line-number">11808</span><br><span class="line-number">11809</span><br><span class="line-number">11810</span><br><span class="line-number">11811</span><br><span class="line-number">11812</span><br><span class="line-number">11813</span><br><span class="line-number">11814</span><br><span class="line-number">11815</span><br><span class="line-number">11816</span><br><span class="line-number">11817</span><br><span class="line-number">11818</span><br><span class="line-number">11819</span><br><span class="line-number">11820</span><br><span class="line-number">11821</span><br><span class="line-number">11822</span><br><span class="line-number">11823</span><br><span class="line-number">11824</span><br><span class="line-number">11825</span><br><span class="line-number">11826</span><br><span class="line-number">11827</span><br><span class="line-number">11828</span><br><span class="line-number">11829</span><br><span class="line-number">11830</span><br><span class="line-number">11831</span><br><span class="line-number">11832</span><br><span class="line-number">11833</span><br><span class="line-number">11834</span><br><span class="line-number">11835</span><br><span class="line-number">11836</span><br><span class="line-number">11837</span><br><span class="line-number">11838</span><br><span class="line-number">11839</span><br><span class="line-number">11840</span><br><span class="line-number">11841</span><br><span class="line-number">11842</span><br><span class="line-number">11843</span><br><span class="line-number">11844</span><br><span class="line-number">11845</span><br><span class="line-number">11846</span><br><span class="line-number">11847</span><br><span class="line-number">11848</span><br><span class="line-number">11849</span><br><span class="line-number">11850</span><br><span class="line-number">11851</span><br><span class="line-number">11852</span><br><span class="line-number">11853</span><br><span class="line-number">11854</span><br><span class="line-number">11855</span><br><span class="line-number">11856</span><br><span class="line-number">11857</span><br><span class="line-number">11858</span><br><span class="line-number">11859</span><br><span class="line-number">11860</span><br><span class="line-number">11861</span><br><span class="line-number">11862</span><br><span class="line-number">11863</span><br><span class="line-number">11864</span><br><span class="line-number">11865</span><br><span class="line-number">11866</span><br><span class="line-number">11867</span><br><span class="line-number">11868</span><br><span class="line-number">11869</span><br><span class="line-number">11870</span><br><span class="line-number">11871</span><br><span class="line-number">11872</span><br><span class="line-number">11873</span><br><span class="line-number">11874</span><br><span class="line-number">11875</span><br><span class="line-number">11876</span><br><span class="line-number">11877</span><br><span class="line-number">11878</span><br><span class="line-number">11879</span><br><span class="line-number">11880</span><br><span class="line-number">11881</span><br><span class="line-number">11882</span><br><span class="line-number">11883</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"en_index.md\":\"CvkzGO0G\",\"en_views_vite-press.md\":\"BRX_Wg1i\",\"index.md\":\"CNsW-pLB\",\"views_front-end_css-example.md\":\"tsAhsG7C\",\"views_front-end_html-example.md\":\"AvYQReMo\",\"views_front-end_http-example.md\":\"CfOduhE5\",\"views_front-end_js-example.md\":\"DebuSLVh\",\"views_front-end_js.md\":\"DAKzfBdR\",\"views_front-end_vite-example.md\":\"Bzn5jHPC\",\"views_front-end_vue2-example.md\":\"fK1YxxhJ\",\"views_front-end_vue3-example.md\":\"9cVameOt\",\"views_front-end_vuex.md\":\"BLEuFOjg\",\"views_git.md\":\"CRt6dI-t\",\"views_vite-press.md\":\"BSmHPjb8\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"熙熙的个人博客\",\"description\":\"熙熙的个人博客\",\"base\":\"/proerly.github.io/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"前端\",\"items\":[{\"text\":\"Js笔记\",\"link\":\"/views/front-end/js\"},{\"text\":\"vuex\",\"link\":\"/views/front-end/vuex\"},{\"text\":\"问题记录\",\"items\":[{\"text\":\"html\",\"link\":\"/views/front-end/html-example\"},{\"text\":\"css\",\"link\":\"/views/front-end/css-example\"},{\"text\":\"js\",\"link\":\"/views/front-end/js-example\"},{\"text\":\"http\",\"link\":\"/views/front-end/http-example\"},{\"text\":\"vue2\",\"link\":\"/views/front-end/vue2-example\"},{\"text\":\"vue3\",\"link\":\"/views/front-end/vue3-example\"},{\"text\":\"vite\",\"link\":\"/views/front-end/vite-example\"}]}]},{\"text\":\"vitePress文档\",\"link\":\"/views/vite-press\"},{\"text\":\"git\",\"link\":\"/views/git\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}],\"outline\":[1,2,3]},\"locales\":{\"root\":{\"label\":\"中文\",\"lang\":\"Zh-CN\"},\"fr\":{\"label\":\"English\",\"lang\":\"en\",\"link\":\"/en\"}},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>