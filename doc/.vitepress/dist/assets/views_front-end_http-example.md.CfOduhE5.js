import{_ as a,c as n,o as e,ah as i,aj as r,ak as p,al as l,am as t}from"./chunks/framework.CZvqrtR-.js";const u=JSON.parse('{"title":"实例","description":"","frontmatter":{},"headers":[],"relativePath":"views/front-end/http-example.md","filePath":"views/front-end/http-example.md"}'),h={name:"views/front-end/http-example.md"};function c(d,s,o,b,m,k){return e(),n("div",null,[...s[0]||(s[0]=[i('<h1 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-label="Permalink to “实例”">​</a></h1><h2 id="访问网络资源时-403-错误" tabindex="-1">访问网络资源时 403 错误 <a class="header-anchor" href="#访问网络资源时-403-错误" aria-label="Permalink to “访问网络资源时 403 错误”">​</a></h2><p>访问网络资源时 403 错误，是因为访问的资源被禁止了，或者被服务器拒绝了访问。</p><p><strong>前端在使用 video 标签播放视频时，出现 403 错误</strong></p><img src="'+r+'"><p><strong>然而直接复制地址，在新窗口打开，却没有任何问题，可以正常访问</strong><img src="'+p+'"></p><p><strong>而复制链接在新窗口直接打开，请求头中并不会携带 Referer</strong></p><img src="'+l+'"><p>**我们打开控制台，可以看到在项目中打开，数据请求的请求头多了一个 Referer: <code>http://localhost:3000/**</code></p><img src="'+t+`"><h2 id="解决方法" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法" aria-label="Permalink to “解决方法”">​</a></h2><p>直接在 index.html 文件中添加如下：</p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;referrer&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;no-referrer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在某些情况网站想要控制页面发送给服务器的 referer 信息时，可以使用 referer metadata 参数。</p><p>referer 的 metadata 属性可以设置 content 属性值为以下：</p><div class="language-txt line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>default</span></span>
<span class="line"><span>never</span></span>
<span class="line"><span>always</span></span>
<span class="line"><span>origin</span></span>
<span class="line"><span>no-referrer</span></span>
<span class="line"><span></span></span>
<span class="line"><span>default ：若当前页面使用的是 https 协议，而正要加载资源使用的是普通的 http 协议，则将 http header 中的 referer 置空；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>never ：删除 http header 中的 referer，所有从当前页面发起的请求将不会携带 referer；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>always ：不改变 http header 中的 referer 的值；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>origin ：只发送 origin 部分；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>no-referrer：没有referer；</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to “总结”">​</a></h2><p>在遇到 403 错误时，我们可以通过添加 referer metadata 参数来解决问题。</p>`,18)])])}const f=a(h,[["render",c]]);export{u as __pageData,f as default};
